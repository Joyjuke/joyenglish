(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function YP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xE={exports:{}},qd={},IE={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),QP=Symbol.for("react.portal"),XP=Symbol.for("react.fragment"),JP=Symbol.for("react.strict_mode"),ZP=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),nA=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),iA=Symbol.for("react.memo"),sA=Symbol.for("react.lazy"),d0=Symbol.iterator;function oA(t){return t===null||typeof t!="object"?null:(t=d0&&t[d0]||t["@@iterator"],typeof t=="function"?t:null)}var bE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CE=Object.assign,PE={};function Do(t,e,n){this.props=t,this.context=e,this.refs=PE,this.updater=n||bE}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=Do.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=PE,this.updater=n||bE}var lg=ag.prototype=new AE;lg.constructor=ag;CE(lg,Do.prototype);lg.isPureReactComponent=!0;var h0=Array.isArray,kE=Object.prototype.hasOwnProperty,ug={current:null},RE={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)kE.call(e,r)&&!RE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fl,type:t,key:s,ref:o,props:i,_owner:ug.current}}function aA(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function lA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f0=/\/+/g;function rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lA(""+t.key):e.toString(36)}function pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fl:case QP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rf(o,0):r,h0(i)?(n="",t!=null&&(n=t.replace(f0,"$&/")+"/"),pc(i,e,n,"",function(u){return u})):i!=null&&(cg(i)&&(i=aA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",h0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rf(s,a);o+=pc(s,e,n,l,i)}else if(l=oA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rf(s,a++),o+=pc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ou(t,e,n){if(t==null)return t;var r=[],i=0;return pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function uA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},mc={transition:null},cA={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:mc,ReactCurrentOwner:ug};function NE(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ou,forEach:function(t,e,n){Ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ou(t,function(){e++}),e},toArray:function(t){return Ou(t,function(e){return e})||[]},only:function(t){if(!cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Do;le.Fragment=XP;le.Profiler=ZP;le.PureComponent=ag;le.StrictMode=JP;le.Suspense=rA;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA;le.act=NE;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ug.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kE.call(e,l)&&!RE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fl,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:tA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eA,_context:t},t.Consumer=t};le.createElement=DE;le.createFactory=function(t){var e=DE.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:nA,render:t}};le.isValidElement=cg;le.lazy=function(t){return{$$typeof:sA,_payload:{_status:-1,_result:t},_init:uA}};le.memo=function(t,e){return{$$typeof:iA,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=mc.transition;mc.transition={};try{t()}finally{mc.transition=e}};le.unstable_act=NE;le.useCallback=function(t,e){return Vt.current.useCallback(t,e)};le.useContext=function(t){return Vt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Vt.current.useEffect(t,e)};le.useId=function(){return Vt.current.useId()};le.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Vt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};le.useRef=function(t){return Vt.current.useRef(t)};le.useState=function(t){return Vt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Vt.current.useTransition()};le.version="18.3.1";IE.exports=le;var k=IE.exports;const Pe=YP(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA=k,hA=Symbol.for("react.element"),fA=Symbol.for("react.fragment"),pA=Object.prototype.hasOwnProperty,mA=dA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gA={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pA.call(e,r)&&!gA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hA,type:t,key:s,ref:o,props:i,_owner:mA.current}}qd.Fragment=fA;qd.jsx=OE;qd.jsxs=OE;xE.exports=qd;var _=xE.exports,fp={},VE={exports:{}},nn={},LE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,z){var H=U.length;U.push(z);e:for(;0<H;){var Y=H-1>>>1,ie=U[Y];if(0<i(ie,z))U[Y]=z,U[H]=ie,H=Y;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],H=U.pop();if(H!==z){U[0]=H;e:for(var Y=0,ie=U.length,me=ie>>>1;Y<me;){var ot=2*(Y+1)-1,yt=U[ot],$e=ot+1,Ke=U[$e];if(0>i(yt,H))$e<ie&&0>i(Ke,yt)?(U[Y]=Ke,U[$e]=H,Y=$e):(U[Y]=yt,U[ot]=H,Y=ot);else if($e<ie&&0>i(Ke,H))U[Y]=Ke,U[$e]=H,Y=$e;else break e}}return z}function i(U,z){var H=U.sortIndex-z.sortIndex;return H!==0?H:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,v=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=U)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function D(U){if(T=!1,E(U),!v)if(n(l)!==null)v=!0,W(V);else{var z=n(u);z!==null&&se(D,z.startTime-U)}}function V(U,z){v=!1,T&&(T=!1,g(S),S=-1),m=!0;var H=f;try{for(E(z),h=n(l);h!==null&&(!(h.expirationTime>z)||U&&!A());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ie=Y(h.expirationTime<=z);z=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(l)&&r(l),E(z)}else r(l);h=n(l)}if(h!==null)var me=!0;else{var ot=n(u);ot!==null&&se(D,ot.startTime-z),me=!1}return me}finally{h=null,f=H,m=!1}}var O=!1,x=null,S=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function N(){if(x!==null){var U=t.unstable_now();C=U;var z=!0;try{z=x(!0,U)}finally{z?R():(O=!1,x=null)}}else O=!1}var R;if(typeof w=="function")R=function(){w(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=N,R=function(){ne.postMessage(null)}}else R=function(){P(N,0)};function W(U){x=U,O||(O=!0,R())}function se(U,z){S=P(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,W(V))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var H=f;f=z;try{return U()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=f;f=U;try{return z()}finally{f=H}},t.unstable_scheduleCallback=function(U,z,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,U){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=H+ie,U={id:d++,callback:z,priorityLevel:U,startTime:H,expirationTime:ie,sortIndex:-1},H>Y?(U.sortIndex=H,e(u,U),n(l)===null&&U===n(u)&&(T?(g(S),S=-1):T=!0,se(D,H-Y))):(U.sortIndex=ie,e(l,U),v||m||(v=!0,W(V))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var z=f;return function(){var H=f;f=z;try{return U.apply(this,arguments)}finally{f=H}}}})(ME);LE.exports=ME;var yA=LE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=k,en=yA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jE=new Set,al={};function gs(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(al[t]=e,t=0;t<e.length;t++)jE.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=Object.prototype.hasOwnProperty,wA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p0={},m0={};function _A(t){return pp.call(m0,t)?!0:pp.call(p0,t)?!1:wA.test(t)?m0[t]=!0:(p0[t]=!0,!1)}function TA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EA(t,e,n,r){if(e===null||typeof e>"u"||TA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dg=/[\-:]([a-z])/g;function hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dg,hg);mt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dg,hg);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dg,hg);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EA(e,n,i,r)&&(n=null),r||i===null?_A(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nr=vA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),js=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),FE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),BE=Symbol.for("react.offscreen"),g0=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=g0&&t[g0]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,sf;function Da(t){if(sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sf=e&&e[1]||""}return`
`+sf+t}var of=!1;function af(t,e){if(!t||of)return"";of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{of=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function SA(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=af(t.type,!1),t;case 11:return t=af(t.type.render,!1),t;case 1:return t=af(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case js:return"Portal";case mp:return"Profiler";case pg:return"StrictMode";case gp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UE:return(t.displayName||"Context")+".Consumer";case FE:return(t._context.displayName||"Context")+".Provider";case mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gg:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function xA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IA(t){var e=zE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lu(t){t._valueTracker||(t._valueTracker=IA(t))}function $E(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wp(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function y0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WE(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function _p(t,e){WE(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Na=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function w0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Na(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function HE(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mu,qE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mu=Mu||document.createElement("div"),Mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bA=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){bA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function KE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function YE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CA=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xp(t,e){if(e){if(CA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bp=null;function yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cp=null,ro=null,io=null;function T0(t){if(t=zl(t)){if(typeof Cp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Jd(e),Cp(t.stateNode,t.type,e))}}function QE(t){ro?io?io.push(t):io=[t]:ro=t}function XE(){if(ro){var t=ro,e=io;if(io=ro=null,T0(t),e)for(t=0;t<e.length;t++)T0(e[t])}}function JE(t,e){return t(e)}function ZE(){}var lf=!1;function eS(t,e,n){if(lf)return t(e,n);lf=!0;try{return JE(t,e,n)}finally{lf=!1,(ro!==null||io!==null)&&(ZE(),XE())}}function ul(t,e){var n=t.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Pp=!1;if(Sr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Pp=!1}function PA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var za=!1,$c=null,Wc=!1,Ap=null,AA={onError:function(t){za=!0,$c=t}};function kA(t,e,n,r,i,s,o,a,l){za=!1,$c=null,PA.apply(AA,arguments)}function RA(t,e,n,r,i,s,o,a,l){if(kA.apply(this,arguments),za){if(za){var u=$c;za=!1,$c=null}else throw Error(B(198));Wc||(Wc=!0,Ap=u)}}function ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E0(t){if(ys(t)!==t)throw Error(B(188))}function DA(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return E0(i),t;if(s===r)return E0(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function nS(t){return t=DA(t),t!==null?rS(t):null}function rS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rS(t);if(e!==null)return e;t=t.sibling}return null}var iS=en.unstable_scheduleCallback,S0=en.unstable_cancelCallback,NA=en.unstable_shouldYield,OA=en.unstable_requestPaint,ze=en.unstable_now,VA=en.unstable_getCurrentPriorityLevel,vg=en.unstable_ImmediatePriority,sS=en.unstable_UserBlockingPriority,Hc=en.unstable_NormalPriority,LA=en.unstable_LowPriority,oS=en.unstable_IdlePriority,Kd=null,Un=null;function MA(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:UA,jA=Math.log,FA=Math.LN2;function UA(t){return t>>>=0,t===0?32:31-(jA(t)/FA|0)|0}var ju=64,Fu=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Oa(a):(s&=o,s!==0&&(r=Oa(s)))}else o=n&~i,o!==0?r=Oa(o):s!==0&&(r=Oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function BA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=BA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aS(){var t=ju;return ju<<=1,!(ju&4194240)&&(ju=64),t}function uf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function $A(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function lS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uS,_g,cS,dS,hS,Rp=!1,Uu=[],ii=null,si=null,oi=null,cl=new Map,dl=new Map,Yr=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x0(t,e){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(e.pointerId)}}function Ea(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zl(e),e!==null&&_g(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HA(t,e,n,r,i){switch(e){case"focusin":return ii=Ea(ii,t,e,n,r,i),!0;case"dragenter":return si=Ea(si,t,e,n,r,i),!0;case"mouseover":return oi=Ea(oi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cl.set(s,Ea(cl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,dl.set(s,Ea(dl.get(s)||null,t,e,n,r,i)),!0}return!1}function fS(t){var e=Yi(t.target);if(e!==null){var n=ys(e);if(n!==null){if(e=n.tag,e===13){if(e=tS(n),e!==null){t.blockedOn=e,hS(t.priority,function(){cS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bp=r,n.target.dispatchEvent(r),bp=null}else return e=zl(n),e!==null&&_g(e),t.blockedOn=n,!1;e.shift()}return!0}function I0(t,e,n){gc(t)&&n.delete(e)}function GA(){Rp=!1,ii!==null&&gc(ii)&&(ii=null),si!==null&&gc(si)&&(si=null),oi!==null&&gc(oi)&&(oi=null),cl.forEach(I0),dl.forEach(I0)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,GA)))}function hl(t){function e(i){return Sa(i,t)}if(0<Uu.length){Sa(Uu[0],t);for(var n=1;n<Uu.length;n++){var r=Uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ii!==null&&Sa(ii,t),si!==null&&Sa(si,t),oi!==null&&Sa(oi,t),cl.forEach(e),dl.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)fS(n),n.blockedOn===null&&Yr.shift()}var so=Nr.ReactCurrentBatchConfig,qc=!0;function qA(t,e,n,r){var i=ve,s=so.transition;so.transition=null;try{ve=1,Tg(t,e,n,r)}finally{ve=i,so.transition=s}}function KA(t,e,n,r){var i=ve,s=so.transition;so.transition=null;try{ve=4,Tg(t,e,n,r)}finally{ve=i,so.transition=s}}function Tg(t,e,n,r){if(qc){var i=Dp(t,e,n,r);if(i===null)wf(t,e,r,Kc,n),x0(t,r);else if(HA(i,t,e,n,r))r.stopPropagation();else if(x0(t,r),e&4&&-1<WA.indexOf(t)){for(;i!==null;){var s=zl(i);if(s!==null&&uS(s),s=Dp(t,e,n,r),s===null&&wf(t,e,r,Kc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wf(t,e,r,null,n)}}var Kc=null;function Dp(t,e,n,r){if(Kc=null,t=yg(r),t=Yi(t),t!==null)if(e=ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kc=t,null}function pS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VA()){case vg:return 1;case sS:return 4;case Hc:case LA:return 16;case oS:return 536870912;default:return 16}default:return 16}}var ei=null,Eg=null,yc=null;function mS(){if(yc)return yc;var t,e=Eg,n=e.length,r,i="value"in ei?ei.value:ei.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return yc=i.slice(t,1<r?1-r:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bu(){return!0}function b0(){return!1}function rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bu:b0,this.isPropagationStopped=b0,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bu)},persist:function(){},isPersistent:Bu}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=rn(No),Bl=Le({},No,{view:0,detail:0}),YA=rn(Bl),cf,df,xa,Yd=Le({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(cf=t.screenX-xa.screenX,df=t.screenY-xa.screenY):df=cf=0,xa=t),cf)},movementY:function(t){return"movementY"in t?t.movementY:df}}),C0=rn(Yd),QA=Le({},Yd,{dataTransfer:0}),XA=rn(QA),JA=Le({},Bl,{relatedTarget:0}),hf=rn(JA),ZA=Le({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),ek=rn(ZA),tk=Le({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nk=rn(tk),rk=Le({},No,{data:0}),P0=rn(rk),ik={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ok={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ak(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ok[t])?!!e[t]:!1}function xg(){return ak}var lk=Le({},Bl,{key:function(t){if(t.key){var e=ik[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xg,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uk=rn(lk),ck=Le({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A0=rn(ck),dk=Le({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xg}),hk=rn(dk),fk=Le({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),pk=rn(fk),mk=Le({},Yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gk=rn(mk),yk=[9,13,27,32],Ig=Sr&&"CompositionEvent"in window,$a=null;Sr&&"documentMode"in document&&($a=document.documentMode);var vk=Sr&&"TextEvent"in window&&!$a,gS=Sr&&(!Ig||$a&&8<$a&&11>=$a),k0=String.fromCharCode(32),R0=!1;function yS(t,e){switch(t){case"keyup":return yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function wk(t,e){switch(t){case"compositionend":return vS(e);case"keypress":return e.which!==32?null:(R0=!0,k0);case"textInput":return t=e.data,t===k0&&R0?null:t;default:return null}}function _k(t,e){if(Us)return t==="compositionend"||!Ig&&yS(t,e)?(t=mS(),yc=Eg=ei=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gS&&e.locale!=="ko"?null:e.data;default:return null}}var Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tk[t.type]:e==="textarea"}function wS(t,e,n,r){QE(r),e=Yc(e,"onChange"),0<e.length&&(n=new Sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wa=null,fl=null;function Ek(t){kS(t,0)}function Qd(t){var e=$s(t);if($E(e))return t}function Sk(t,e){if(t==="change")return e}var _S=!1;if(Sr){var ff;if(Sr){var pf="oninput"in document;if(!pf){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),pf=typeof N0.oninput=="function"}ff=pf}else ff=!1;_S=ff&&(!document.documentMode||9<document.documentMode)}function O0(){Wa&&(Wa.detachEvent("onpropertychange",TS),fl=Wa=null)}function TS(t){if(t.propertyName==="value"&&Qd(fl)){var e=[];wS(e,fl,t,yg(t)),eS(Ek,e)}}function xk(t,e,n){t==="focusin"?(O0(),Wa=e,fl=n,Wa.attachEvent("onpropertychange",TS)):t==="focusout"&&O0()}function Ik(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(fl)}function bk(t,e){if(t==="click")return Qd(e)}function Ck(t,e){if(t==="input"||t==="change")return Qd(e)}function Pk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:Pk;function pl(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pp.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function V0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L0(t,e){var n=V0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function ES(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ES(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SS(){for(var t=window,e=zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ak(t){var e=SS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ES(n.ownerDocument.documentElement,n)){if(r!==null&&bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=L0(n,s);var o=L0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kk=Sr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Np=null,Ha=null,Op=!1;function M0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Op||Bs==null||Bs!==zc(r)||(r=Bs,"selectionStart"in r&&bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ha&&pl(Ha,r)||(Ha=r,r=Yc(Np,"onSelect"),0<r.length&&(e=new Sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},mf={},xS={};Sr&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Xd(t){if(mf[t])return mf[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xS)return mf[t]=e[n];return t}var IS=Xd("animationend"),bS=Xd("animationiteration"),CS=Xd("animationstart"),PS=Xd("transitionend"),AS=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){AS.set(t,e),gs(e,[t])}for(var gf=0;gf<j0.length;gf++){var yf=j0[gf],Rk=yf.toLowerCase(),Dk=yf[0].toUpperCase()+yf.slice(1);Ri(Rk,"on"+Dk)}Ri(IS,"onAnimationEnd");Ri(bS,"onAnimationIteration");Ri(CS,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(PS,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function F0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RA(r,e,void 0,t),t.currentTarget=null}function kS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;F0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;F0(i,a,u),s=l}}}if(Wc)throw t=Ap,Wc=!1,Ap=null,t}function xe(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(RS(e,t,2,!1),n.add(r))}function vf(t,e,n){var r=0;e&&(r|=4),RS(n,t,r,e)}var $u="_reactListening"+Math.random().toString(36).slice(2);function ml(t){if(!t[$u]){t[$u]=!0,jE.forEach(function(n){n!=="selectionchange"&&(Nk.has(n)||vf(n,!1,t),vf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$u]||(e[$u]=!0,vf("selectionchange",!1,e))}}function RS(t,e,n,r){switch(pS(e)){case 1:var i=qA;break;case 4:i=KA;break;default:i=Tg}n=i.bind(null,e,n,t),i=void 0,!Pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}eS(function(){var u=s,d=yg(n),h=[];e:{var f=AS.get(t);if(f!==void 0){var m=Sg,v=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":m=uk;break;case"focusin":v="focus",m=hf;break;case"focusout":v="blur",m=hf;break;case"beforeblur":case"afterblur":m=hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=XA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hk;break;case IS:case bS:case CS:m=ek;break;case PS:m=pk;break;case"scroll":m=YA;break;case"wheel":m=gk;break;case"copy":case"cut":case"paste":m=nk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=A0}var T=(e&4)!==0,P=!T&&t==="scroll",g=T?f!==null?f+"Capture":null:f;T=[];for(var w=u,E;w!==null;){E=w;var D=E.stateNode;if(E.tag===5&&D!==null&&(E=D,g!==null&&(D=ul(w,g),D!=null&&T.push(gl(w,D,E)))),P)break;w=w.return}0<T.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==bp&&(v=n.relatedTarget||n.fromElement)&&(Yi(v)||v[xr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Yi(v):null,v!==null&&(P=ys(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(T=C0,D="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=A0,D="onPointerLeave",g="onPointerEnter",w="pointer"),P=m==null?f:$s(m),E=v==null?f:$s(v),f=new T(D,w+"leave",m,n,d),f.target=P,f.relatedTarget=E,D=null,Yi(d)===u&&(T=new T(g,w+"enter",v,n,d),T.target=E,T.relatedTarget=P,D=T),P=D,m&&v)t:{for(T=m,g=v,w=0,E=T;E;E=Ns(E))w++;for(E=0,D=g;D;D=Ns(D))E++;for(;0<w-E;)T=Ns(T),w--;for(;0<E-w;)g=Ns(g),E--;for(;w--;){if(T===g||g!==null&&T===g.alternate)break t;T=Ns(T),g=Ns(g)}T=null}else T=null;m!==null&&U0(h,f,m,T,!1),v!==null&&P!==null&&U0(h,P,v,T,!0)}}e:{if(f=u?$s(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var V=Sk;else if(D0(f))if(_S)V=Ck;else{V=Ik;var O=xk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=bk);if(V&&(V=V(t,u))){wS(h,V,n,d);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Tp(f,"number",f.value)}switch(O=u?$s(u):window,t){case"focusin":(D0(O)||O.contentEditable==="true")&&(Bs=O,Np=u,Ha=null);break;case"focusout":Ha=Np=Bs=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,M0(h,n,d);break;case"selectionchange":if(kk)break;case"keydown":case"keyup":M0(h,n,d)}var x;if(Ig)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Us?yS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(gS&&n.locale!=="ko"&&(Us||S!=="onCompositionStart"?S==="onCompositionEnd"&&Us&&(x=mS()):(ei=d,Eg="value"in ei?ei.value:ei.textContent,Us=!0)),O=Yc(u,S),0<O.length&&(S=new P0(S,t,null,n,d),h.push({event:S,listeners:O}),x?S.data=x:(x=vS(n),x!==null&&(S.data=x)))),(x=vk?wk(t,n):_k(t,n))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(d=new P0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=x))}kS(h,e)})}function gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ul(t,n),s!=null&&r.unshift(gl(t,s,i)),s=ul(t,e),s!=null&&r.push(gl(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function U0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ul(n,s),l!=null&&o.unshift(gl(n,l,a))):i||(l=ul(n,s),l!=null&&o.push(gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ok=/\r\n?/g,Vk=/\u0000|\uFFFD/g;function B0(t){return(typeof t=="string"?t:""+t).replace(Ok,`
`).replace(Vk,"")}function Wu(t,e,n){if(e=B0(e),B0(t)!==e&&n)throw Error(B(425))}function Qc(){}var Vp=null,Lp=null;function Mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,Lk=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,Mk=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(t){return z0.resolve(null).then(t).catch(jk)}:jp;function jk(t){setTimeout(function(){throw t})}function _f(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hl(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),jn="__reactFiber$"+Oo,yl="__reactProps$"+Oo,xr="__reactContainer$"+Oo,Fp="__reactEvents$"+Oo,Fk="__reactListeners$"+Oo,Uk="__reactHandles$"+Oo;function Yi(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$0(t);t!==null;){if(n=t[jn])return n;t=$0(t)}return e}t=n,n=t.parentNode}return null}function zl(t){return t=t[jn]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Jd(t){return t[yl]||null}var Up=[],Ws=-1;function Di(t){return{current:t}}function be(t){0>Ws||(t.current=Up[Ws],Up[Ws]=null,Ws--)}function Ee(t,e){Ws++,Up[Ws]=t.current,t.current=e}var Ti={},Pt=Di(Ti),Wt=Di(!1),ss=Ti;function yo(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Xc(){be(Wt),be(Pt)}function W0(t,e,n){if(Pt.current!==Ti)throw Error(B(168));Ee(Pt,e),Ee(Wt,n)}function DS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,xA(t)||"Unknown",i));return Le({},n,r)}function Jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,ss=Pt.current,Ee(Pt,t),Ee(Wt,Wt.current),!0}function H0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=DS(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,be(Wt),be(Pt),Ee(Pt,t)):be(Wt),Ee(Wt,n)}var hr=null,Zd=!1,Tf=!1;function NS(t){hr===null?hr=[t]:hr.push(t)}function Bk(t){Zd=!0,NS(t)}function Ni(){if(!Tf&&hr!==null){Tf=!0;var t=0,e=ve;try{var n=hr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Zd=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),iS(vg,Ni),i}finally{ve=e,Tf=!1}}return null}var Hs=[],Gs=0,Zc=null,ed=0,ln=[],un=0,os=null,pr=1,mr="";function Wi(t,e){Hs[Gs++]=ed,Hs[Gs++]=Zc,Zc=t,ed=e}function OS(t,e,n){ln[un++]=pr,ln[un++]=mr,ln[un++]=os,os=t;var r=pr;t=mr;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-Cn(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function Cg(t){t.return!==null&&(Wi(t,1),OS(t,1,0))}function Pg(t){for(;t===Zc;)Zc=Hs[--Gs],Hs[Gs]=null,ed=Hs[--Gs],Hs[Gs]=null;for(;t===os;)os=ln[--un],ln[un]=null,mr=ln[--un],ln[un]=null,pr=ln[--un],ln[un]=null}var Zt=null,Jt=null,Ae=!1,Sn=null;function VS(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Jt=null,!0):!1;default:return!1}}function Bp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zp(t){if(Ae){var e=Jt;if(e){var n=e;if(!G0(t,e)){if(Bp(t))throw Error(B(418));e=ai(n.nextSibling);var r=Zt;e&&G0(t,e)?VS(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Zt=t)}}else{if(Bp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ae=!1,Zt=t}}}function q0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Hu(t){if(t!==Zt)return!1;if(!Ae)return q0(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mp(t.type,t.memoizedProps)),e&&(e=Jt)){if(Bp(t))throw LS(),Error(B(418));for(;e;)VS(t,e),e=ai(e.nextSibling)}if(q0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Zt?ai(t.stateNode.nextSibling):null;return!0}function LS(){for(var t=Jt;t;)t=ai(t.nextSibling)}function vo(){Jt=Zt=null,Ae=!1}function Ag(t){Sn===null?Sn=[t]:Sn.push(t)}var zk=Nr.ReactCurrentBatchConfig;function Ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Gu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K0(t){var e=t._init;return e(t._payload)}function MS(t){function e(g,w){if(t){var E=g.deletions;E===null?(g.deletions=[w],g.flags|=16):E.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=di(g,w),g.index=0,g.sibling=null,g}function s(g,w,E){return g.index=E,t?(E=g.alternate,E!==null?(E=E.index,E<w?(g.flags|=2,w):E):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,E,D){return w===null||w.tag!==6?(w=Pf(E,g.mode,D),w.return=g,w):(w=i(w,E),w.return=g,w)}function l(g,w,E,D){var V=E.type;return V===Fs?d(g,w,E.props.children,D,E.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Gr&&K0(V)===w.type)?(D=i(w,E.props),D.ref=Ia(g,w,E),D.return=g,D):(D=Ic(E.type,E.key,E.props,null,g.mode,D),D.ref=Ia(g,w,E),D.return=g,D)}function u(g,w,E,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Af(E,g.mode,D),w.return=g,w):(w=i(w,E.children||[]),w.return=g,w)}function d(g,w,E,D,V){return w===null||w.tag!==7?(w=ns(E,g.mode,D,V),w.return=g,w):(w=i(w,E),w.return=g,w)}function h(g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pf(""+w,g.mode,E),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:return E=Ic(w.type,w.key,w.props,null,g.mode,E),E.ref=Ia(g,null,w),E.return=g,E;case js:return w=Af(w,g.mode,E),w.return=g,w;case Gr:var D=w._init;return h(g,D(w._payload),E)}if(Na(w)||_a(w))return w=ns(w,g.mode,E,null),w.return=g,w;Gu(g,w)}return null}function f(g,w,E,D){var V=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return V!==null?null:a(g,w,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Vu:return E.key===V?l(g,w,E,D):null;case js:return E.key===V?u(g,w,E,D):null;case Gr:return V=E._init,f(g,w,V(E._payload),D)}if(Na(E)||_a(E))return V!==null?null:d(g,w,E,D,null);Gu(g,E)}return null}function m(g,w,E,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return g=g.get(E)||null,a(w,g,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Vu:return g=g.get(D.key===null?E:D.key)||null,l(w,g,D,V);case js:return g=g.get(D.key===null?E:D.key)||null,u(w,g,D,V);case Gr:var O=D._init;return m(g,w,E,O(D._payload),V)}if(Na(D)||_a(D))return g=g.get(E)||null,d(w,g,D,V,null);Gu(w,D)}return null}function v(g,w,E,D){for(var V=null,O=null,x=w,S=w=0,I=null;x!==null&&S<E.length;S++){x.index>S?(I=x,x=null):I=x.sibling;var C=f(g,x,E[S],D);if(C===null){x===null&&(x=I);break}t&&x&&C.alternate===null&&e(g,x),w=s(C,w,S),O===null?V=C:O.sibling=C,O=C,x=I}if(S===E.length)return n(g,x),Ae&&Wi(g,S),V;if(x===null){for(;S<E.length;S++)x=h(g,E[S],D),x!==null&&(w=s(x,w,S),O===null?V=x:O.sibling=x,O=x);return Ae&&Wi(g,S),V}for(x=r(g,x);S<E.length;S++)I=m(x,g,S,E[S],D),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?S:I.key),w=s(I,w,S),O===null?V=I:O.sibling=I,O=I);return t&&x.forEach(function(A){return e(g,A)}),Ae&&Wi(g,S),V}function T(g,w,E,D){var V=_a(E);if(typeof V!="function")throw Error(B(150));if(E=V.call(E),E==null)throw Error(B(151));for(var O=V=null,x=w,S=w=0,I=null,C=E.next();x!==null&&!C.done;S++,C=E.next()){x.index>S?(I=x,x=null):I=x.sibling;var A=f(g,x,C.value,D);if(A===null){x===null&&(x=I);break}t&&x&&A.alternate===null&&e(g,x),w=s(A,w,S),O===null?V=A:O.sibling=A,O=A,x=I}if(C.done)return n(g,x),Ae&&Wi(g,S),V;if(x===null){for(;!C.done;S++,C=E.next())C=h(g,C.value,D),C!==null&&(w=s(C,w,S),O===null?V=C:O.sibling=C,O=C);return Ae&&Wi(g,S),V}for(x=r(g,x);!C.done;S++,C=E.next())C=m(x,g,S,C.value,D),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?S:C.key),w=s(C,w,S),O===null?V=C:O.sibling=C,O=C);return t&&x.forEach(function(N){return e(g,N)}),Ae&&Wi(g,S),V}function P(g,w,E,D){if(typeof E=="object"&&E!==null&&E.type===Fs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Vu:e:{for(var V=E.key,O=w;O!==null;){if(O.key===V){if(V=E.type,V===Fs){if(O.tag===7){n(g,O.sibling),w=i(O,E.props.children),w.return=g,g=w;break e}}else if(O.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Gr&&K0(V)===O.type){n(g,O.sibling),w=i(O,E.props),w.ref=Ia(g,O,E),w.return=g,g=w;break e}n(g,O);break}else e(g,O);O=O.sibling}E.type===Fs?(w=ns(E.props.children,g.mode,D,E.key),w.return=g,g=w):(D=Ic(E.type,E.key,E.props,null,g.mode,D),D.ref=Ia(g,w,E),D.return=g,g=D)}return o(g);case js:e:{for(O=E.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(g,w.sibling),w=i(w,E.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=Af(E,g.mode,D),w.return=g,g=w}return o(g);case Gr:return O=E._init,P(g,w,O(E._payload),D)}if(Na(E))return v(g,w,E,D);if(_a(E))return T(g,w,E,D);Gu(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,E),w.return=g,g=w):(n(g,w),w=Pf(E,g.mode,D),w.return=g,g=w),o(g)):n(g,w)}return P}var wo=MS(!0),jS=MS(!1),td=Di(null),nd=null,qs=null,kg=null;function Rg(){kg=qs=nd=null}function Dg(t){var e=td.current;be(td),t._currentValue=e}function $p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){nd=t,kg=qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(kg!==t)if(t={context:t,memoizedValue:e,next:null},qs===null){if(nd===null)throw Error(B(308));qs=t,nd.dependencies={lanes:0,firstContext:t}}else qs=qs.next=t;return e}var Qi=null;function Ng(t){Qi===null?Qi=[t]:Qi.push(t)}function FS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ng(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function Og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function US(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Ng(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}function Y0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rd(t,e,n,r){var i=t.updateQueue;qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(f=e,m=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Le({},h,f);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ls|=o,t.lanes=o,t.memoizedState=h}}function Q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var $l={},Bn=Di($l),vl=Di($l),wl=Di($l);function Xi(t){if(t===$l)throw Error(B(174));return t}function Vg(t,e){switch(Ee(wl,e),Ee(vl,t),Ee(Bn,$l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sp(e,t)}be(Bn),Ee(Bn,e)}function _o(){be(Bn),be(vl),be(wl)}function BS(t){Xi(wl.current);var e=Xi(Bn.current),n=Sp(e,t.type);e!==n&&(Ee(vl,t),Ee(Bn,n))}function Lg(t){vl.current===t&&(be(Bn),be(vl))}var De=Di(0);function id(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ef=[];function Mg(){for(var t=0;t<Ef.length;t++)Ef[t]._workInProgressVersionPrimary=null;Ef.length=0}var _c=Nr.ReactCurrentDispatcher,Sf=Nr.ReactCurrentBatchConfig,as=0,Oe=null,Ye=null,it=null,sd=!1,Ga=!1,_l=0,$k=0;function Tt(){throw Error(B(321))}function jg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function Fg(t,e,n,r,i,s){if(as=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_c.current=t===null||t.memoizedState===null?qk:Kk,t=n(r,i),Ga){s=0;do{if(Ga=!1,_l=0,25<=s)throw Error(B(301));s+=1,it=Ye=null,e.updateQueue=null,_c.current=Yk,t=n(r,i)}while(Ga)}if(_c.current=od,e=Ye!==null&&Ye.next!==null,as=0,it=Ye=Oe=null,sd=!1,e)throw Error(B(300));return t}function Ug(){var t=_l!==0;return _l=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Oe.memoizedState=it=t:it=it.next=t,it}function gn(){if(Ye===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=it===null?Oe.memoizedState:it.next;if(e!==null)it=e,Ye=t;else{if(t===null)throw Error(B(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},it===null?Oe.memoizedState=it=t:it=it.next=t}return it}function Tl(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=gn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((as&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Oe.lanes|=d,ls|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,kn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function If(t){var e=gn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function zS(){}function $S(t,e){var n=Oe,r=gn(),i=e(),s=!kn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,Bg(GS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,El(9,HS.bind(null,n,r,i,e),void 0,null),st===null)throw Error(B(349));as&30||WS(n,e,i)}return i}function WS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HS(t,e,n,r){e.value=n,e.getSnapshot=r,qS(e)&&KS(t)}function GS(t,e,n){return n(function(){qS(e)&&KS(t)})}function qS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function KS(t){var e=Ir(t,1);e!==null&&Pn(e,t,1,-1)}function X0(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=Gk.bind(null,Oe,t),[e.memoizedState,t]}function El(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YS(){return gn().memoizedState}function Tc(t,e,n,r){var i=Ln();Oe.flags|=t,i.memoizedState=El(1|e,n,void 0,r===void 0?null:r)}function eh(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&jg(r,o.deps)){i.memoizedState=El(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=El(1|e,n,s,r)}function J0(t,e){return Tc(8390656,8,t,e)}function Bg(t,e){return eh(2048,8,t,e)}function QS(t,e){return eh(4,2,t,e)}function XS(t,e){return eh(4,4,t,e)}function JS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZS(t,e,n){return n=n!=null?n.concat([t]):null,eh(4,4,JS.bind(null,e,t),n)}function zg(){}function e1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function t1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function n1(t,e,n){return as&21?(kn(n,e)||(n=aS(),Oe.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function Wk(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Sf.transition;Sf.transition={};try{t(!1),e()}finally{ve=n,Sf.transition=r}}function r1(){return gn().memoizedState}function Hk(t,e,n){var r=ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i1(t))s1(e,n);else if(n=FS(t,e,n,r),n!==null){var i=Ot();Pn(n,t,r,i),o1(n,e,r)}}function Gk(t,e,n){var r=ci(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i1(t))s1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ng(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=FS(t,e,i,r),n!==null&&(i=Ot(),Pn(n,t,r,i),o1(n,e,r))}}function i1(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function s1(t,e){Ga=sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}var od={readContext:mn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},qk={readContext:mn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:J0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tc(4194308,4,JS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Hk.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:X0,useDebugValue:zg,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=X0(!1),e=t[0];return t=Wk.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Ln();if(Ae){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),st===null)throw Error(B(349));as&30||WS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,J0(GS.bind(null,r,s,t),[t]),r.flags|=2048,El(9,HS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=st.identifierPrefix;if(Ae){var n=mr,r=pr;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$k++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kk={readContext:mn,useCallback:e1,useContext:mn,useEffect:Bg,useImperativeHandle:ZS,useInsertionEffect:QS,useLayoutEffect:XS,useMemo:t1,useReducer:xf,useRef:YS,useState:function(){return xf(Tl)},useDebugValue:zg,useDeferredValue:function(t){var e=gn();return n1(e,Ye.memoizedState,t)},useTransition:function(){var t=xf(Tl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:zS,useSyncExternalStore:$S,useId:r1,unstable_isNewReconciler:!1},Yk={readContext:mn,useCallback:e1,useContext:mn,useEffect:Bg,useImperativeHandle:ZS,useInsertionEffect:QS,useLayoutEffect:XS,useMemo:t1,useReducer:If,useRef:YS,useState:function(){return If(Tl)},useDebugValue:zg,useDeferredValue:function(t){var e=gn();return Ye===null?e.memoizedState=t:n1(e,Ye.memoizedState,t)},useTransition:function(){var t=If(Tl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:zS,useSyncExternalStore:$S,useId:r1,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var th={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ci(t),s=wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(Pn(e,t,i,r),wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ci(t),s=wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(Pn(e,t,i,r),wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=ci(t),i=wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=li(t,i,r),e!==null&&(Pn(e,t,r,n),wc(e,t,r))}};function Z0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!pl(n,r)||!pl(i,s):!0}function a1(t,e,n){var r=!1,i=Ti,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Ht(e)?ss:Pt.current,r=e.contextTypes,s=(r=r!=null)?yo(t,i):Ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=th,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&th.enqueueReplaceState(e,e.state,null)}function Hp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Og(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Ht(e)?ss:Pt.current,i.context=yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&th.enqueueReplaceState(i,i.state,null),rd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e){try{var n="",r=e;do n+=SA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Qk=typeof WeakMap=="function"?WeakMap:Map;function l1(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ld||(ld=!0,nm=r),Gp(t,e)},n}function u1(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gp(t,e),typeof r!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cR.bind(null,t,e,n),e.then(t,t))}function nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,li(n,e,1))),n.lanes|=1),t)}var Xk=Nr.ReactCurrentOwner,$t=!1;function Nt(t,e,n,r){e.child=t===null?jS(e,null,n,r):wo(e,t.child,n,r)}function iw(t,e,n,r,i){n=n.render;var s=e.ref;return oo(e,i),r=Fg(t,e,n,r,s,i),n=Ug(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ae&&n&&Cg(e),e.flags|=1,Nt(t,e,r,i),e.child)}function sw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,c1(t,e,s,r,i)):(t=Ic(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(o,r)&&t.ref===e.ref)return br(t,e,i)}return e.flags|=1,t=di(s,r),t.ref=e.ref,t.return=e,e.child=t}function c1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(pl(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,br(t,e,i)}return qp(t,e,n,r,i)}function d1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ys,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Ys,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Ys,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Ys,Qt),Qt|=r;return Nt(t,e,i,n),e.child}function h1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,i){var s=Ht(n)?ss:Pt.current;return s=yo(e,s),oo(e,i),n=Fg(t,e,n,r,s,i),r=Ug(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ae&&r&&Cg(e),e.flags|=1,Nt(t,e,n,i),e.child)}function ow(t,e,n,r,i){if(Ht(n)){var s=!0;Jc(e)}else s=!1;if(oo(e,i),e.stateNode===null)Ec(t,e),a1(e,n,r),Hp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Ht(n)?ss:Pt.current,u=yo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ew(e,o,r,u),qr=!1;var f=e.memoizedState;o.state=f,rd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Wt.current||qr?(typeof d=="function"&&(Wp(e,n,d,r),l=e.memoizedState),(a=qr||Z0(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,US(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Ht(n)?ss:Pt.current,l=yo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ew(e,o,r,l),qr=!1,f=e.memoizedState,o.state=f,rd(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Wt.current||qr?(typeof m=="function"&&(Wp(e,n,m,r),v=e.memoizedState),(u=qr||Z0(e,n,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Kp(t,e,n,r,s,i)}function Kp(t,e,n,r,i,s){h1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H0(e,n,!1),br(t,e,s);r=e.stateNode,Xk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,s),e.child=wo(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&H0(e,n,!0),e.child}function f1(t){var e=t.stateNode;e.pendingContext?W0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W0(t,e.context,!1),Vg(t,e.containerInfo)}function aw(t,e,n,r,i){return vo(),Ag(i),e.flags|=256,Nt(t,e,n,r),e.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function p1(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(De,i&1),t===null)return zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ih(o,r,0,null),t=ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qp(n),e.memoizedState=Yp,t):$g(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Jk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=di(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yp,r}return s=t.child,t=s.sibling,r=di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $g(t,e){return e=ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qu(t,e,n,r){return r!==null&&Ag(r),wo(e,t.child,null,n),t=$g(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bf(Error(B(422))),qu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ih({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=Qp(o),e.memoizedState=Yp,s);if(!(e.mode&1))return qu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=bf(s,r,void 0),qu(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Pn(r,t,i,-1))}return Yg(),r=bf(Error(B(421))),qu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=ai(i.nextSibling),Zt=e,Ae=!0,Sn=null,t!==null&&(ln[un++]=pr,ln[un++]=mr,ln[un++]=os,pr=t.id,mr=t.overflow,os=e),e=$g(e,r.children),e.flags|=4096,e)}function lw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$p(t.return,e,n)}function Cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lw(t,n,e);else if(t.tag===19)lw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&id(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&id(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cf(e,!0,n,null,s);break;case"together":Cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zk(t,e,n){switch(e.tag){case 3:f1(e),vo();break;case 5:BS(e);break;case 1:Ht(e.type)&&Jc(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(td,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?p1(t,e,n):(Ee(De,De.current&1),t=br(t,e,n),t!==null?t.sibling:null);Ee(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,d1(t,e,n)}return br(t,e,n)}var g1,Xp,y1,v1;g1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};y1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(Bn.current);var s=null;switch(n){case"input":i=wp(t,i),r=wp(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Ep(t,i),r=Ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qc)}xp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(al.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(al.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};v1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ba(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eR(t,e,n){var r=e.pendingProps;switch(Pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Ht(e.type)&&Xc(),Et(e),null;case 3:return r=e.stateNode,_o(),be(Wt),be(Pt),Mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(sm(Sn),Sn=null))),Xp(t,e),Et(e),null;case 5:Lg(e);var i=Xi(wl.current);if(n=e.type,t!==null&&e.stateNode!=null)y1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Et(e),null}if(t=Xi(Bn.current),Hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[yl]=s,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)xe(Va[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":y0(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":w0(r,s),xe("invalid",r)}xp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),i=["children",""+a]):al.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Lu(r),v0(r,s,!0);break;case"textarea":Lu(r),_0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[yl]=r,g1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ip(n,r),n){case"dialog":xe("cancel",t),xe("close",t),i=r;break;case"iframe":case"object":case"embed":xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)xe(Va[i],t);i=r;break;case"source":xe("error",t),i=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=r;break;case"details":xe("toggle",t),i=r;break;case"input":y0(t,r),i=wp(t,r),xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),xe("invalid",t);break;case"textarea":w0(t,r),i=Ep(t,r),xe("invalid",t);break;default:i=r}xp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?YE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ll(t,l):typeof l=="number"&&ll(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(al.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",t):l!=null&&fg(t,s,l,o))}switch(n){case"input":Lu(t),v0(t,r,!1);break;case"textarea":Lu(t),_0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?no(t,!!r.multiple,s,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)v1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Xi(wl.current),Xi(Bn.current),Hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Et(e),null;case 13:if(be(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Jt!==null&&e.mode&1&&!(e.flags&128))LS(),vo(),e.flags|=98560,s=!1;else if(s=Hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[jn]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else Sn!==null&&(sm(Sn),Sn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Xe===0&&(Xe=3):Yg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return _o(),Xp(t,e),t===null&&ml(e.stateNode.containerInfo),Et(e),null;case 10:return Dg(e.type._context),Et(e),null;case 17:return Ht(e.type)&&Xc(),Et(e),null;case 19:if(be(De),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ba(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=id(t),o!==null){for(e.flags|=128,ba(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Eo&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304)}else{if(!r)if(t=id(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return Et(e),null}else 2*ze()-s.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=De.current,Ee(De,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Kg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function tR(t,e){switch(Pg(e),e.tag){case 1:return Ht(e.type)&&Xc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),be(Wt),be(Pt),Mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lg(e),null;case 13:if(be(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(De),null;case 4:return _o(),null;case 10:return Dg(e.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var Ku=!1,bt=!1,nR=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Jp(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var uw=!1;function rR(t,e){if(Vp=qc,t=SS(),bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lp={focusedElem:t,selectionRange:n},qc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,P=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?T:Tn(e.type,T),P);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){Fe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return v=uw,uw=!1,v}function qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jp(e,n,s)}i=i.next}while(i!==r)}}function nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function w1(t){var e=t.alternate;e!==null&&(t.alternate=null,w1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[yl],delete e[Fp],delete e[Fk],delete e[Uk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _1(t){return t.tag===5||t.tag===3||t.tag===4}function cw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qc));else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}var ut=null,En=!1;function $r(t,e,n){for(n=n.child;n!==null;)T1(t,e,n),n=n.sibling}function T1(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:bt||Ks(n,e);case 6:var r=ut,i=En;ut=null,$r(t,e,n),ut=r,En=i,ut!==null&&(En?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(En?(t=ut,n=n.stateNode,t.nodeType===8?_f(t.parentNode,n):t.nodeType===1&&_f(t,n),hl(t)):_f(ut,n.stateNode));break;case 4:r=ut,i=En,ut=n.stateNode.containerInfo,En=!0,$r(t,e,n),ut=r,En=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jp(n,e,o),i=i.next}while(i!==r)}$r(t,e,n);break;case 1:if(!bt&&(Ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}$r(t,e,n);break;case 21:$r(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,$r(t,e,n),bt=r):$r(t,e,n);break;default:$r(t,e,n)}}function dw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nR),e.forEach(function(r){var i=hR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,En=!1;break e;case 3:ut=a.stateNode.containerInfo,En=!0;break e;case 4:ut=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ut===null)throw Error(B(160));T1(s,o,i),ut=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)E1(e,t),e=e.sibling}function E1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Nn(t),r&4){try{qa(3,t,t.return),nh(3,t)}catch(T){Fe(t,t.return,T)}try{qa(5,t,t.return)}catch(T){Fe(t,t.return,T)}}break;case 1:_n(e,t),Nn(t),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(_n(e,t),Nn(t),r&512&&n!==null&&Ks(n,n.return),t.flags&32){var i=t.stateNode;try{ll(i,"")}catch(T){Fe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&WE(i,s),Ip(a,o);var u=Ip(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?YE(i,h):d==="dangerouslySetInnerHTML"?qE(i,h):d==="children"?ll(i,h):fg(i,d,h,u)}switch(a){case"input":_p(i,s);break;case"textarea":HE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?no(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?no(i,!!s.multiple,s.defaultValue,!0):no(i,!!s.multiple,s.multiple?[]:"",!1))}i[yl]=s}catch(T){Fe(t,t.return,T)}}break;case 6:if(_n(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Fe(t,t.return,T)}}break;case 3:if(_n(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(T){Fe(t,t.return,T)}break;case 4:_n(e,t),Nn(t);break;case 13:_n(e,t),Nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gg=ze())),r&4&&dw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,_n(e,t),bt=u):_n(e,t),Nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(h=q=d;q!==null;){switch(f=q,m=f.child,f.tag){case 0:case 11:case 14:case 15:qa(4,f,f.return);break;case 1:Ks(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){Fe(r,n,T)}}break;case 5:Ks(f,f.return);break;case 22:if(f.memoizedState!==null){fw(h);continue}}m!==null?(m.return=f,q=m):fw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KE("display",o))}catch(T){Fe(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){Fe(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(e,t),Nn(t),r&4&&dw(t);break;case 21:break;default:_n(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ll(i,""),r.flags&=-33);var s=cw(t);tm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cw(t);em(t,a,o);break;default:throw Error(B(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iR(t,e,n){q=t,S1(t)}function S1(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ku;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Ku;var u=bt;if(Ku=o,(bt=l)&&!u)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?pw(i):l!==null?(l.return=o,q=l):pw(i);for(;s!==null;)q=s,S1(s),s=s.sibling;q=i,Ku=a,bt=u}hw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):hw(t)}}function hw(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||nh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Q0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}bt||e.flags&512&&Zp(e)}catch(f){Fe(e,e.return,f)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function fw(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function pw(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nh(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{Zp(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{Zp(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var sR=Math.ceil,ad=Nr.ReactCurrentDispatcher,Wg=Nr.ReactCurrentOwner,pn=Nr.ReactCurrentBatchConfig,fe=0,st=null,Ge=null,pt=0,Qt=0,Ys=Di(0),Xe=0,Sl=null,ls=0,rh=0,Hg=0,Ka=null,zt=null,Gg=0,Eo=1/0,dr=null,ld=!1,nm=null,ui=null,Yu=!1,ti=null,ud=0,Ya=0,rm=null,Sc=-1,xc=0;function Ot(){return fe&6?ze():Sc!==-1?Sc:Sc=ze()}function ci(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:zk.transition!==null?(xc===0&&(xc=aS()),xc):(t=ve,t!==0||(t=window.event,t=t===void 0?16:pS(t.type)),t):1}function Pn(t,e,n,r){if(50<Ya)throw Ya=0,rm=null,Error(B(185));Ul(t,n,r),(!(fe&2)||t!==st)&&(t===st&&(!(fe&2)&&(rh|=n),Xe===4&&Qr(t,pt)),Gt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Eo=ze()+500,Zd&&Ni()))}function Gt(t,e){var n=t.callbackNode;zA(t,e);var r=Gc(t,t===st?pt:0);if(r===0)n!==null&&S0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&S0(n),e===1)t.tag===0?Bk(mw.bind(null,t)):NS(mw.bind(null,t)),Mk(function(){!(fe&6)&&Ni()}),n=null;else{switch(lS(r)){case 1:n=vg;break;case 4:n=sS;break;case 16:n=Hc;break;case 536870912:n=oS;break;default:n=Hc}n=R1(n,x1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x1(t,e){if(Sc=-1,xc=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=Gc(t,t===st?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cd(t,r);else{e=r;var i=fe;fe|=2;var s=b1();(st!==t||pt!==e)&&(dr=null,Eo=ze()+500,ts(t,e));do try{lR();break}catch(a){I1(t,a)}while(1);Rg(),ad.current=s,fe=i,Ge!==null?e=0:(st=null,pt=0,e=Xe)}if(e!==0){if(e===2&&(i=kp(t),i!==0&&(r=i,e=im(t,i))),e===1)throw n=Sl,ts(t,0),Qr(t,r),Gt(t,ze()),n;if(e===6)Qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!oR(i)&&(e=cd(t,r),e===2&&(s=kp(t),s!==0&&(r=s,e=im(t,s))),e===1))throw n=Sl,ts(t,0),Qr(t,r),Gt(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Hi(t,zt,dr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=Gg+500-ze(),10<e)){if(Gc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jp(Hi.bind(null,t,zt,dr),e);break}Hi(t,zt,dr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sR(r/1960))-r,10<r){t.timeoutHandle=jp(Hi.bind(null,t,zt,dr),r);break}Hi(t,zt,dr);break;case 5:Hi(t,zt,dr);break;default:throw Error(B(329))}}}return Gt(t,ze()),t.callbackNode===n?x1.bind(null,t):null}function im(t,e){var n=Ka;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=cd(t,e),t!==2&&(e=zt,zt=n,e!==null&&sm(e)),t}function sm(t){zt===null?zt=t:zt.push.apply(zt,t)}function oR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~Hg,e&=~rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function mw(t){if(fe&6)throw Error(B(327));ao();var e=Gc(t,0);if(!(e&1))return Gt(t,ze()),null;var n=cd(t,e);if(t.tag!==0&&n===2){var r=kp(t);r!==0&&(e=r,n=im(t,r))}if(n===1)throw n=Sl,ts(t,0),Qr(t,e),Gt(t,ze()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,zt,dr),Gt(t,ze()),null}function qg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Eo=ze()+500,Zd&&Ni())}}function us(t){ti!==null&&ti.tag===0&&!(fe&6)&&ao();var e=fe;fe|=1;var n=pn.transition,r=ve;try{if(pn.transition=null,ve=1,t)return t()}finally{ve=r,pn.transition=n,fe=e,!(fe&6)&&Ni()}}function Kg(){Qt=Ys.current,be(Ys)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lk(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xc();break;case 3:_o(),be(Wt),be(Pt),Mg();break;case 5:Lg(r);break;case 4:_o();break;case 13:be(De);break;case 19:be(De);break;case 10:Dg(r.type._context);break;case 22:case 23:Kg()}n=n.return}if(st=t,Ge=t=di(t.current,null),pt=Qt=e,Xe=0,Sl=null,Hg=rh=ls=0,zt=Ka=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qi=null}return t}function I1(t,e){do{var n=Ge;try{if(Rg(),_c.current=od,sd){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sd=!1}if(as=0,it=Ye=Oe=null,Ga=!1,_l=0,Wg.current=null,n===null||n.return===null){Xe=1,Sl=e,Ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nw(o);if(m!==null){m.flags&=-257,rw(m,o,a,s,e),m.mode&1&&tw(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){tw(s,u,e),Yg();break e}l=Error(B(426))}}else if(Ae&&a.mode&1){var P=nw(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),rw(P,o,a,s,e),Ag(To(l,a));break e}}s=l=To(l,a),Xe!==4&&(Xe=2),Ka===null?Ka=[s]:Ka.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=l1(s,l,e);Y0(s,g);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ui===null||!ui.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=u1(s,a,e);Y0(s,D);break e}}s=s.return}while(s!==null)}P1(n)}catch(V){e=V,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function b1(){var t=ad.current;return ad.current=od,t===null?od:t}function Yg(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),st===null||!(ls&268435455)&&!(rh&268435455)||Qr(st,pt)}function cd(t,e){var n=fe;fe|=2;var r=b1();(st!==t||pt!==e)&&(dr=null,ts(t,e));do try{aR();break}catch(i){I1(t,i)}while(1);if(Rg(),fe=n,ad.current=r,Ge!==null)throw Error(B(261));return st=null,pt=0,Xe}function aR(){for(;Ge!==null;)C1(Ge)}function lR(){for(;Ge!==null&&!NA();)C1(Ge)}function C1(t){var e=k1(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?P1(t):Ge=e,Wg.current=null}function P1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tR(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ge=null;return}}else if(n=eR(n,e,Qt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Xe===0&&(Xe=5)}function Hi(t,e,n){var r=ve,i=pn.transition;try{pn.transition=null,ve=1,uR(t,e,n,r)}finally{pn.transition=i,ve=r}return null}function uR(t,e,n,r){do ao();while(ti!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($A(t,s),t===st&&(Ge=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yu||(Yu=!0,R1(Hc,function(){return ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=ve;ve=1;var a=fe;fe|=4,Wg.current=null,rR(t,n),E1(n,t),Ak(Lp),qc=!!Vp,Lp=Vp=null,t.current=n,iR(n),OA(),fe=a,ve=o,pn.transition=s}else t.current=n;if(Yu&&(Yu=!1,ti=t,ud=i),s=t.pendingLanes,s===0&&(ui=null),MA(n.stateNode),Gt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ld)throw ld=!1,t=nm,nm=null,t;return ud&1&&t.tag!==0&&ao(),s=t.pendingLanes,s&1?t===rm?Ya++:(Ya=0,rm=t):Ya=0,Ni(),null}function ao(){if(ti!==null){var t=lS(ud),e=pn.transition,n=ve;try{if(pn.transition=null,ve=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,ud=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:qa(8,d,s)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var f=d.sibling,m=d.return;if(w1(d),d===u){q=null;break}if(f!==null){f.return=m,q=f;break}q=m}}}var v=s.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qa(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,q=g;break e}q=s.return}}var w=t.current;for(q=w;q!==null;){o=q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,q=E;else e:for(o=w;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nh(9,a)}}catch(V){Fe(a,a.return,V)}if(a===o){q=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,q=D;break e}q=a.return}}if(fe=i,Ni(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Kd,t)}catch{}r=!0}return r}finally{ve=n,pn.transition=e}}return!1}function gw(t,e,n){e=To(n,e),e=l1(t,e,1),t=li(t,e,1),e=Ot(),t!==null&&(Ul(t,1,e),Gt(t,e))}function Fe(t,e,n){if(t.tag===3)gw(t,t,n);else for(;e!==null;){if(e.tag===3){gw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ui===null||!ui.has(r))){t=To(n,t),t=u1(e,t,1),e=li(e,t,1),t=Ot(),e!==null&&(Ul(e,1,t),Gt(e,t));break}}e=e.return}}function cR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(pt&n)===n&&(Xe===4||Xe===3&&(pt&130023424)===pt&&500>ze()-Gg?ts(t,0):Hg|=n),Gt(t,e)}function A1(t,e){e===0&&(t.mode&1?(e=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):e=1);var n=Ot();t=Ir(t,e),t!==null&&(Ul(t,e,n),Gt(t,n))}function dR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),A1(t,n)}function hR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),A1(t,n)}var k1;k1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,Zk(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Ae&&e.flags&1048576&&OS(e,ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ec(t,e),t=e.pendingProps;var i=yo(e,Pt.current);oo(e,n),i=Fg(null,e,r,t,i,n);var s=Ug();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Jc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Og(e),i.updater=th,e.stateNode=i,i._reactInternals=e,Hp(e,r,t,n),e=Kp(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&Cg(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pR(r),t=Tn(r,t),i){case 0:e=qp(null,e,r,t,n);break e;case 1:e=ow(null,e,r,t,n);break e;case 11:e=iw(null,e,r,t,n);break e;case 14:e=sw(null,e,r,Tn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),qp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),ow(t,e,r,i,n);case 3:e:{if(f1(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,US(t,e),rd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=To(Error(B(423)),e),e=aw(t,e,r,n,i);break e}else if(r!==i){i=To(Error(B(424)),e),e=aw(t,e,r,n,i);break e}else for(Jt=ai(e.stateNode.containerInfo.firstChild),Zt=e,Ae=!0,Sn=null,n=jS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){e=br(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return BS(e),t===null&&zp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mp(r,i)?o=null:s!==null&&Mp(r,s)&&(e.flags|=32),h1(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&zp(e),null;case 13:return p1(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),iw(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(td,r._currentValue),r._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!Wt.current){e=br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$p(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$p(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oo(e,n),i=mn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),sw(t,e,r,i,n);case 15:return c1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Ec(t,e),e.tag=1,Ht(r)?(t=!0,Jc(e)):t=!1,oo(e,n),a1(e,r,i),Hp(e,r,i,n),Kp(null,e,r,!0,t,n);case 19:return m1(t,e,n);case 22:return d1(t,e,n)}throw Error(B(156,e.tag))};function R1(t,e){return iS(t,e)}function fR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new fR(t,e,n,r)}function Qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pR(t){if(typeof t=="function")return Qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mg)return 11;if(t===gg)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fs:return ns(n.children,i,s,e);case pg:o=8,i|=8;break;case mp:return t=fn(12,n,e,i|2),t.elementType=mp,t.lanes=s,t;case gp:return t=fn(13,n,e,i),t.elementType=gp,t.lanes=s,t;case yp:return t=fn(19,n,e,i),t.elementType=yp,t.lanes=s,t;case BE:return ih(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FE:o=10;break e;case UE:o=9;break e;case mg:o=11;break e;case gg:o=14;break e;case Gr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ns(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function ih(t,e,n,r){return t=fn(22,t,r,e),t.elementType=BE,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function Af(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uf(0),this.expirationTimes=uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xg(t,e,n,r,i,s,o,a,l){return t=new mR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Og(s),t}function gR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function D1(t){if(!t)return Ti;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ht(n))return DS(t,n,e)}return e}function N1(t,e,n,r,i,s,o,a,l){return t=Xg(n,r,!0,t,i,s,o,a,l),t.context=D1(null),n=t.current,r=Ot(),i=ci(n),s=wr(r,i),s.callback=e??null,li(n,s,i),t.current.lanes=i,Ul(t,i,r),Gt(t,r),t}function sh(t,e,n,r){var i=e.current,s=Ot(),o=ci(i);return n=D1(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=li(i,e,o),t!==null&&(Pn(t,i,o,s),wc(t,i,o)),o}function dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jg(t,e){yw(t,e),(t=t.alternate)&&yw(t,e)}function yR(){return null}var O1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zg(t){this._internalRoot=t}oh.prototype.render=Zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));sh(t,e,null,null)};oh.prototype.unmount=Zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){sh(null,t,null,null)}),e[xr]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=dS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&fS(t)}};function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vw(){}function vR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=dd(o);s.call(u)}}var o=N1(e,r,t,0,null,!1,!1,"",vw);return t._reactRootContainer=o,t[xr]=o.current,ml(t.nodeType===8?t.parentNode:t),us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=dd(l);a.call(u)}}var l=Xg(t,0,!1,null,null,!1,!1,"",vw);return t._reactRootContainer=l,t[xr]=l.current,ml(t.nodeType===8?t.parentNode:t),us(function(){sh(e,l,n,r)}),l}function lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=dd(o);a.call(l)}}sh(e,o,t,i)}else o=vR(n,e,t,i,r);return dd(o)}uS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(wg(e,n|1),Gt(e,ze()),!(fe&6)&&(Eo=ze()+500,Ni()))}break;case 13:us(function(){var r=Ir(t,1);if(r!==null){var i=Ot();Pn(r,t,1,i)}}),Jg(t,1)}};_g=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Ot();Pn(e,t,134217728,n)}Jg(t,134217728)}};cS=function(t){if(t.tag===13){var e=ci(t),n=Ir(t,e);if(n!==null){var r=Ot();Pn(n,t,e,r)}Jg(t,e)}};dS=function(){return ve};hS=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Cp=function(t,e,n){switch(e){case"input":if(_p(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jd(r);if(!i)throw Error(B(90));$E(r),_p(r,i)}}}break;case"textarea":HE(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};JE=qg;ZE=us;var wR={usingClientEntryPoint:!1,Events:[zl,$s,Jd,QE,XE,qg]},Ca={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_R={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||yR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Kd=Qu.inject(_R),Un=Qu}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wR;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ey(e))throw Error(B(200));return gR(t,e,null,n)};nn.createRoot=function(t,e){if(!ey(t))throw Error(B(299));var n=!1,r="",i=O1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xg(t,1,!1,null,null,n,!1,r,i),t[xr]=e.current,ml(t.nodeType===8?t.parentNode:t),new Zg(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=nS(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return us(t)};nn.hydrate=function(t,e,n){if(!ah(e))throw Error(B(200));return lh(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!ey(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=O1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=N1(e,null,t,1,n??null,i,!1,s,o),t[xr]=e.current,ml(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oh(e)};nn.render=function(t,e,n){if(!ah(e))throw Error(B(200));return lh(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!ah(t))throw Error(B(40));return t._reactRootContainer?(us(function(){lh(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1};nn.unstable_batchedUpdates=qg;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ah(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return lh(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function V1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V1)}catch(t){console.error(t)}}V1(),VE.exports=nn;var TR=VE.exports,ww=TR;fp.createRoot=ww.createRoot,fp.hydrateRoot=ww.hydrateRoot;const ER=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},M1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new xR;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IR=function(t){const e=L1(t);return M1.encodeByteArray(e,!0)},hd=function(t){return IR(t).replace(/\./g,"")},j1=function(t){try{return M1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>bR().__FIREBASE_DEFAULTS__,PR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j1(t[1]);return e&&JSON.parse(e)},uh=()=>{try{return ER()||CR()||PR()||AR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F1=t=>{var e,n;return(n=(e=uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kR=t=>{const e=F1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U1=()=>{var t;return(t=uh())===null||t===void 0?void 0:t.config},B1=t=>{var e;return(e=uh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hd(JSON.stringify(n)),hd(JSON.stringify(o)),a].join(".")}const Qa={};function NR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qa))Qa[e]?t.emulator.push(e):t.prod.push(e);return t}function OR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _w=!1;function $1(t,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Qa[t]===e||Qa[t]||_w)return;Qa[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=NR().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{_w=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=OR(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),T=n("learnmore"),P=document.getElementById(T)||document.createElement("a"),g=n("preprendIcon"),w=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),d(P,T);const D=u();l(w,g),E.append(w,v,P,D),document.body.appendChild(E)}s?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function LR(){var t;const e=(t=uh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UR(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zR(){try{return typeof indexedDB=="object"}catch{return!1}}function $R(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WR,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?HR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Or(i,a,r)}}function HR(t,e){return t.replace(GR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GR=/\{\$([^}]+)}/g;function qR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Tw(s)&&Tw(o)){if(!cs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KR(t,e){const n=new YR(t,e);return n.subscribe.bind(n)}class YR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kf),i.error===void 0&&(i.error=kf),i.complete===void 0&&(i.complete=kf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZR(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(t){return t===Gi?void 0:t}function ZR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const tD={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},nD=ue.INFO,rD={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},iD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=nD,this._logHandler=iD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const sD=(t,e)=>e.some(n=>t instanceof n);let Ew,Sw;function oD(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aD(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W1=new WeakMap,om=new WeakMap,H1=new WeakMap,Rf=new WeakMap,ny=new WeakMap;function lD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&W1.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function uD(t){if(om.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});om.set(t,e)}let am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cD(t){am=t(am)}function dD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Df(this),e,...n);return H1.set(r,e.sort?e.sort():[e]),hi(r)}:aD().includes(t)?function(...e){return t.apply(Df(this),e),hi(W1.get(this))}:function(...e){return hi(t.apply(Df(this),e))}}function hD(t){return typeof t=="function"?dD(t):(t instanceof IDBTransaction&&uD(t),sD(t,oD())?new Proxy(t,am):t)}function hi(t){if(t instanceof IDBRequest)return lD(t);if(Rf.has(t))return Rf.get(t);const e=hD(t);return e!==t&&(Rf.set(t,e),ny.set(e,t)),e}const Df=t=>ny.get(t);function fD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hi(o.result),l.oldVersion,l.newVersion,hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pD=["get","getKey","getAll","getAllKeys","count"],mD=["put","add","delete","clear"],Nf=new Map;function xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Nf.set(e,s),s}cD(t=>({...t,get:(e,n,r)=>xw(e,n)||t.get(e,n,r),has:(e,n)=>!!xw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lm="@firebase/app",Iw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new ty("@firebase/app"),vD="@firebase/app-compat",wD="@firebase/analytics-compat",_D="@firebase/analytics",TD="@firebase/app-check-compat",ED="@firebase/app-check",SD="@firebase/auth",xD="@firebase/auth-compat",ID="@firebase/database",bD="@firebase/data-connect",CD="@firebase/database-compat",PD="@firebase/functions",AD="@firebase/functions-compat",kD="@firebase/installations",RD="@firebase/installations-compat",DD="@firebase/messaging",ND="@firebase/messaging-compat",OD="@firebase/performance",VD="@firebase/performance-compat",LD="@firebase/remote-config",MD="@firebase/remote-config-compat",jD="@firebase/storage",FD="@firebase/storage-compat",UD="@firebase/firestore",BD="@firebase/ai",zD="@firebase/firestore-compat",$D="firebase",WD="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",HD={[lm]:"fire-core",[vD]:"fire-core-compat",[_D]:"fire-analytics",[wD]:"fire-analytics-compat",[ED]:"fire-app-check",[TD]:"fire-app-check-compat",[SD]:"fire-auth",[xD]:"fire-auth-compat",[ID]:"fire-rtdb",[bD]:"fire-data-connect",[CD]:"fire-rtdb-compat",[PD]:"fire-fn",[AD]:"fire-fn-compat",[kD]:"fire-iid",[RD]:"fire-iid-compat",[DD]:"fire-fcm",[ND]:"fire-fcm-compat",[OD]:"fire-perf",[VD]:"fire-perf-compat",[LD]:"fire-rc",[MD]:"fire-rc-compat",[jD]:"fire-gcs",[FD]:"fire-gcs-compat",[UD]:"fire-fst",[zD]:"fire-fst-compat",[BD]:"fire-vertex","fire-js":"fire-js",[$D]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,GD=new Map,cm=new Map;function bw(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(cm.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(const n of fd.values())bw(n,t);for(const n of GD.values())bw(n,t);return!0}function ry(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Wl("app","Firebase",qD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=WD;function G1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:um,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=U1()),!n)throw fi.create("no-options");const s=fd.get(i);if(s){if(cs(n,s.options)&&cs(r,s.config))return s;throw fi.create("duplicate-app",{appName:i})}const o=new eD(i);for(const l of cm.values())o.addComponent(l);const a=new KD(n,r,o);return fd.set(i,a),a}function q1(t=um){const e=fd.get(t);if(!e&&t===um&&U1())return G1();if(!e)throw fi.create("no-app",{appName:t});return e}function pi(t,e,n){var r;let i=(r=HD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(a.join(" "));return}So(new ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="firebase-heartbeat-database",QD=1,xl="firebase-heartbeat-store";let Of=null;function K1(){return Of||(Of=fD(YD,QD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),Of}async function XD(t){try{const n=(await K1()).transaction(xl),r=await n.objectStore(xl).get(Y1(t));return await n.done,r}catch(e){if(e instanceof Or)Cr.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(n.message)}}}async function Cw(t,e){try{const r=(await K1()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,Y1(t)),await r.done}catch(n){if(n instanceof Or)Cr.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cr.warn(r.message)}}}function Y1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1024,ZD=30;class eN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>ZD){const o=rN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pw(),{heartbeatsToSend:r,unsentEntries:i}=tN(this._heartbeatsCache.heartbeats),s=hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cr.warn(n),""}}}function Pw(){return new Date().toISOString().substring(0,10)}function tN(t,e=JD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Aw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zR()?$R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Aw(t){return hd(JSON.stringify({version:2,heartbeats:t})).length}function rN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){So(new ds("platform-logger",e=>new gD(e),"PRIVATE")),So(new ds("heartbeat",e=>new eN(e),"PRIVATE")),pi(lm,Iw,t),pi(lm,Iw,"esm2017"),pi("fire-js","")}iN("");function iy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sN=Q1,X1=new Wl("auth","Firebase",Q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new ty("@firebase/auth");function oN(t,...e){pd.logLevel<=ue.WARN&&pd.warn(`Auth (${Lo}): ${t}`,...e)}function bc(t,...e){pd.logLevel<=ue.ERROR&&pd.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw oy(t,...e)}function An(t,...e){return oy(t,...e)}function sy(t,e,n){const r=Object.assign(Object.assign({},sN()),{[e]:n});return new Wl("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return sy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),sy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X1.create(t,...e)}function ee(t,e,...n){if(!t)throw oy(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bc(e),new Error(e)}function Pr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lN(){return kw()==="http:"||kw()==="https:"}function kw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lN()||jR()||"connection"in navigator)?navigator.onLine:!0}function cN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=VR()||FR()}get(){return uN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fN=new Gl(3e4,6e4);function ly(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mo(t,e,n,r,i={}){return Z1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Hl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return MR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(u.credentials="include"),J1.fetch()(await ex(t,t.config.apiHost,n,a),u)})}async function Z1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dN),e);try{const i=new mN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sy(t,d,u);Yn(t,d)}}catch(i){if(i instanceof Or)throw i;Yn(t,"network-request-failed",{message:String(i)})}}async function pN(t,e,n,r,i={}){const s=await Mo(t,e,n,r,i);return"mfaPendingCredential"in s&&Yn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function ex(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?ay(t.config,i):`${t.config.apiScheme}://${i}`;return hN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class mN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(An(this.auth,"network-request-failed")),fN.get())})}}function Xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=An(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e){return Mo(t,"POST","/v1/accounts:delete",e)}async function md(t,e){return Mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yN(t,e=!1){const n=yn(t),r=await n.getIdToken(e),i=uy(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xa(Vf(i.auth_time)),issuedAtTime:Xa(Vf(i.iat)),expirationTime:Xa(Vf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=j1(n);return i?JSON.parse(i):(bc("Failed to decode base64 JWT payload"),null)}catch(i){return bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rw(t){const e=uy(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&vN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Il(t,md(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tx(s.providerUserInfo):[],a=TN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function _N(t){const e=yn(t);await gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tx(t){return t.map(e=>{var{providerId:n}=e,r=iy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){const n=await Z1(t,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await ex(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(l.credentials="include"),J1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SN(t,e){return Mo(t,"POST","/v2/accounts:revokeToken",ly(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Rw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new lo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yN(this,e)}reload(){return _N(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new In(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Il(this,gN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:D,isAnonymous:V,providerData:O,stsTokenManager:x}=n;ee(E&&x,e,"internal-error");const S=lo.fromJSON(this.name,x);ee(typeof E=="string",e,"internal-error"),Wr(h,e.name),Wr(f,e.name),ee(typeof D=="boolean",e,"internal-error"),ee(typeof V=="boolean",e,"internal-error"),Wr(m,e.name),Wr(v,e.name),Wr(T,e.name),Wr(P,e.name),Wr(g,e.name),Wr(w,e.name);const I=new In({uid:E,auth:e,email:f,emailVerified:D,displayName:h,isAnonymous:V,photoURL:v,phoneNumber:m,tenantId:T,stsTokenManager:S,createdAt:g,lastLoginAt:w});return O&&Array.isArray(O)&&(I.providerData=O.map(C=>Object.assign({},C))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new lo;i.updateFromServerResponse(n);const s=new In({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new lo;a.updateFromIdToken(r);const l=new In({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function yr(t){Pr(t instanceof Function,"Expected a class definition");let e=Dw.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nx.type="NONE";const Nw=nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await md(this.auth,{idToken:e}).catch(()=>{});return n?In._fromGetAccountInfoResponse(this.auth,n,e):null}return In._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(yr(Nw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||yr(Nw);const o=Cc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await md(e,{idToken:d}).catch(()=>{});if(!f)break;h=await In._fromGetAccountInfoResponse(e,f,d)}else h=In._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new uo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lx(e))return"Blackberry";if(ux(e))return"Webos";if(ix(e))return"Safari";if((e.includes("chrome/")||sx(e))&&!e.includes("edge/"))return"Chrome";if(ax(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rx(t=At()){return/firefox\//i.test(t)}function ix(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sx(t=At()){return/crios\//i.test(t)}function ox(t=At()){return/iemobile/i.test(t)}function ax(t=At()){return/android/i.test(t)}function lx(t=At()){return/blackberry/i.test(t)}function ux(t=At()){return/webos/i.test(t)}function cy(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xN(t=At()){var e;return cy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IN(){return UR()&&document.documentMode===10}function cx(t=At()){return cy(t)||ax(t)||ux(t)||lx(t)||/windows phone/i.test(t)||ox(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e=[]){let n;switch(t){case"Browser":n=Ow(At());break;case"Worker":n=`${Ow(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(t,e={}){return Mo(t,"GET","/v2/passwordPolicy",ly(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6;class AN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:PN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vw(this),this.idTokenSubscription=new Vw(this),this.beforeStateQueue=new bN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await md(this,{idToken:e}),r=await In._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(rs(this));const n=e?yn(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CN(this),n=new AN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ch(t){return yn(t)}class Vw{constructor(e){this.auth=e,this.observer=null,this.addObserver=KR(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RN(t){dy=t}function DN(t){return dy.loadJS(t)}function NN(){return dy.gapiScript}function ON(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e){const n=ry(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cs(s,e??{}))return i;Yn(i,"already-initialized")}return n.initialize({options:e})}function LN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MN(t,e,n){const r=ch(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=hx(e),{host:o,port:a}=jN(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(cs(u,r.config.emulator)&&cs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Vo(o)?(z1(`${s}//${o}${l}`),$1("Auth",!0)):i||FN()}function hx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jN(t){const e=hx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Lw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Lw(o)}}}function Lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e){return pN(t,"POST","/v1/accounts:signInWithIdp",ly(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="http://localhost";class hs extends fx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:UN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ql{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends ql{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends ql{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await In._fromIdTokenResponse(e,r,i),o=Mw(r);return new xo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Mw(r);return new xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yd(e,n,r,i)}}function px(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yd._fromErrorAndOperation(t,s,e,r):s})}async function BN(t,e,n=!1){const r=await Il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(rs(r));const i="reauthenticate";try{const s=await Il(t,px(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=uy(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),xo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e,n=!1){if(xn(t.app))return Promise.reject(rs(t));const r="signIn",i=await px(t,r,e),s=await xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function WN(t,e,n,r){return yn(t).onIdTokenChanged(e,n,r)}function HN(t,e,n){return yn(t).beforeAuthStateChanged(e,n)}function GN(t,e,n,r){return yn(t).onAuthStateChanged(e,n,r)}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1e3,KN=10;class gx extends mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gx.type="LOCAL";const YN=gx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yx.type="SESSION";const vx=yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await QN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=fy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function JN(t){zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function ZN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tO(){return wx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebaseLocalStorageDb",nO=1,wd="firebaseLocalStorage",Tx="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function rO(){const t=indexedDB.deleteDatabase(_x);return new Kl(t).toPromise()}function fm(){const t=indexedDB.open(_x,nO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wd,{keyPath:Tx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wd)?e(r):(r.close(),await rO(),e(await fm()))})})}async function jw(t,e,n){const r=hh(t,!0).put({[Tx]:e,value:n});return new Kl(r).toPromise()}async function iO(t,e){const n=hh(t,!1).get(e),r=await new Kl(n).toPromise();return r===void 0?null:r.value}function Fw(t,e){const n=hh(t,!0).delete(e);return new Kl(n).toPromise()}const sO=800,oO=3;class Ex{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(tO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZN(),!this.activeServiceWorker)return;this.sender=new XN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await jw(e,vd,"1"),await Fw(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hh(i,!1).getAll();return new Kl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ex.type="LOCAL";const aO=Ex;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){return e?yr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends fx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lO(t){return $N(t.auth,new py(t),t.bypassAuthState)}function uO(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),zN(n,new py(t),t.bypassAuthState)}async function cO(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),BN(n,new py(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lO;case"linkViaPopup":case"linkViaRedirect":return cO;case"reauthViaPopup":case"reauthViaRedirect":return uO;default:Yn(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Gl(2e3,1e4);async function hO(t,e,n){if(xn(t.app))return Promise.reject(An(t,"operation-not-supported-in-this-environment"));const r=ch(t);aN(t,e,hy);const i=Sx(r,n);return new Ji(r,"signInViaPopup",e,i).executeNotNull()}class Ji extends xx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(An(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dO.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="pendingRedirect",Pc=new Map;class pO extends xx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await mO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mO(t,e){const n=vO(e),r=yO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function gO(t,e){Pc.set(t._key(),e)}function yO(t){return yr(t._redirectPersistence)}function vO(t){return Cc(fO,t.config.apiKey,t.name)}async function wO(t,e,n=!1){if(xn(t.app))return Promise.reject(rs(t));const r=ch(t),i=Sx(r,e),o=await new pO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=10*60*1e3;class TO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ix(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(An(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uw(e))}saveEventToCache(e){this.cachedEventUids.add(Uw(e)),this.lastProcessedEventTime=Date.now()}}function Uw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ix({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ix(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e={}){return Mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IO=/^https?/;async function bO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SO(t);for(const n of e)try{if(CO(n))return}catch{}Yn(t,"unauthorized-domain")}function CO(t){const e=dm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IO.test(n))return!1;if(xO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new Gl(3e4,6e4);function Bw(){const t=zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AO(t){return new Promise((e,n)=>{var r,i,s;function o(){Bw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bw(),n(An(t,"network-request-failed"))},timeout:PO.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zn().gapi)===null||s===void 0)&&s.load)o();else{const a=ON("iframefcb");return zn()[a]=()=>{gapi.load?o():n(An(t,"network-request-failed"))},DN(`${NN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function kO(t){return Ac=Ac||AO(t),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new Gl(5e3,15e3),DO="__/auth/iframe",NO="emulator/auth/iframe",OO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LO(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ay(e,NO):`https://${t.config.authDomain}/${DO}`,r={apiKey:e.apiKey,appName:t.name,v:Lo},i=VO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Hl(r).slice(1)}`}async function MO(t){const e=await kO(t),n=zn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:LO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=An(t,"network-request-failed"),a=zn().setTimeout(()=>{s(o)},RO.get());function l(){zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FO=500,UO=600,BO="_blank",zO="http://localhost";class zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $O(t,e,n,r=FO,i=UO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jO),{width:r.toString(),height:i.toString(),top:s,left:o}),u=At().toLowerCase();n&&(a=sx(u)?BO:n),rx(u)&&(e=e||zO,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(xN(u)&&a!=="_self")return WO(e||"",a),new zw(null);const h=window.open(e||"",a,d);ee(h,t,"popup-blocked");try{h.focus()}catch{}return new zw(h)}function WO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="__/auth/handler",GO="emulator/auth/handler",qO=encodeURIComponent("fac");async function $w(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lo,eventId:i};if(e instanceof hy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof ql){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${qO}=${encodeURIComponent(l)}`:"";return`${KO(t)}?${Hl(a).slice(1)}${u}`}function KO({config:t}){return t.emulator?ay(t,GO):`https://${t.authDomain}/${HO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class YO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vx,this._completeRedirectFn=wO,this._overrideRedirectResult=gO}async _openPopup(e,n,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $w(e,n,r,dm(),i);return $O(e,o,fy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await $w(e,n,r,dm(),i);return JN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MO(e),r=new TO(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lf,{type:Lf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Lf];o!==void 0&&n(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cx()||ix()||cy()}}const QO=YO;var Ww="@firebase/auth",Hw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZO(t){So(new ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dx(t)},u=new kN(r,i,s,l);return LN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),So(new ds("auth-internal",e=>{const n=ch(e.getProvider("auth").getImmediate());return(r=>new XO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(Ww,Hw,JO(t)),pi(Ww,Hw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=5*60,tV=B1("authIdTokenMaxAge")||eV;let Gw=null;const nV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tV)return;const i=n==null?void 0:n.token;Gw!==i&&(Gw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jo(t=q1()){const e=ry(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VN(t,{popupRedirectResolver:QO,persistence:[aO,YN,vx]}),r=B1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=nV(s.toString());HN(n,o,()=>o(n.currentUser)),WN(n,a=>o(a))}}const i=F1("auth");return i&&MN(n,`http://${i}`),n}function rV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=An("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZO("Browser");var iV="firebase",sV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(iV,sV,"app");const oV={apiKey:"AIzaSyCEW_L_4Sq-fCJjo66hTxREUIcEbcjXvgo",authDomain:"joyenglish-40a8e.firebaseapp.com",projectId:"joyenglish-40a8e",storageBucket:"joyenglish-40a8e.firebasestorage.app",messagingSenderId:"732483026981",appId:"1:732483026981:web:4c4ed03fa259d161937fcc",measurementId:"G-YP2PHN8KJK"},vn=G1(oV);var aV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fh=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},u)=>k.createElement("svg",{ref:u,...aV,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${lV(t)}`,...l},[...e.map(([d,h])=>k.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},Pa=fh("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),uV=fh("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),cV=fh("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),dV=fh("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hV="modulepreload",fV=function(t){return"/"+t},qw={},pV=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=fV(s),s in qw)return;qw[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":hV,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var my={};Object.defineProperty(my,"__esModule",{value:!0});my.parse=TV;my.serialize=EV;const mV=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,gV=/^[\u0021-\u003A\u003C-\u007E]*$/,yV=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,vV=/^[\u0020-\u003A\u003D-\u007E]*$/,wV=Object.prototype.toString,_V=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function TV(t,e){const n=new _V,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||SV;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=Kw(t,s,o),d=Yw(t,o,u),h=t.slice(u,d);if(n[h]===void 0){let f=Kw(t,o+1,l),m=Yw(t,l,f);const v=i(t.slice(f,m));n[h]=v}s=l+1}while(s<r);return n}function Kw(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Yw(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function EV(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!mV.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!gV.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!yV.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!vV.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!xV(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function SV(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function xV(t){return wV.call(t)==="[object Date]"}var Qw="popstate";function IV(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return pm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bl(i)}return CV(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bV(){return Math.random().toString(36).substring(2,10)}function Xw(t,e){return{usr:t.state,key:t.key,idx:e}}function pm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fo(e):e,state:n,key:e&&e.key||r||bV()}}function bl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function CV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let P=d(),g=P==null?null:P-u;u=P,l&&l({action:a,location:T.location,delta:g})}function f(P,g){a="PUSH";let w=pm(T.location,P,g);n&&n(w,P),u=d()+1;let E=Xw(w,u),D=T.createHref(w);try{o.pushState(E,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(D)}s&&l&&l({action:a,location:T.location,delta:1})}function m(P,g){a="REPLACE";let w=pm(T.location,P,g);n&&n(w,P),u=d();let E=Xw(w,u),D=T.createHref(w);o.replaceState(E,"",D),s&&l&&l({action:a,location:T.location,delta:0})}function v(P){return PV(P)}let T={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qw,h),l=P,()=>{i.removeEventListener(Qw,h),l=null}},createHref(P){return e(i,P)},createURL:v,encodeLocation(P){let g=v(P);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(P){return o.go(P)}};return T}function PV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:bl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bx(t,e,n="/"){return AV(t,e,n,!1)}function AV(t,e,n,r){let i=typeof e=="string"?Fo(e):e,s=Ar(i.pathname||"/",n);if(s==null)return null;let o=Cx(t);kV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=BV(s);a=FV(o[l],u,r)}return a}function Cx(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=_r([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ve(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Cx(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:MV(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Px(s.path))i(s,o,l)}),e}function Px(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Px(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var RV=/^:[\w-]+$/,DV=3,NV=2,OV=1,VV=10,LV=-2,Jw=t=>t==="*";function MV(t,e){let n=t.split("/"),r=n.length;return n.some(Jw)&&(r+=LV),e&&(r+=NV),n.filter(i=>!Jw(i)).reduce((i,s)=>i+(RV.test(s)?DV:s===""?OV:VV),r)}function jV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FV(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=_d({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=_d({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:_r([s,h.pathname]),pathnameBase:HV(_r([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=_r([s,h.pathnameBase]))}return o}function _d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function UV(t,e=!1,n=!0){Qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ar(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:$V(n,e):e,search:GV(r),hash:qV(i)}}function $V(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ax(t){let e=WV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kx(t,e,n,r=!1){let i;typeof t=="string"?i=Fo(t):(i={...t},Ve(!i.pathname||!i.pathname.includes("?"),Mf("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),Mf("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),Mf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=zV(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var _r=t=>t.join("/").replace(/\/\/+/g,"/"),HV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Rx=["POST","PUT","PATCH","DELETE"];new Set(Rx);var YV=["GET",...Rx];new Set(YV);var Uo=k.createContext(null);Uo.displayName="DataRouter";var ph=k.createContext(null);ph.displayName="DataRouterState";var Dx=k.createContext({isTransitioning:!1});Dx.displayName="ViewTransition";var QV=k.createContext(new Map);QV.displayName="Fetchers";var XV=k.createContext(null);XV.displayName="Await";var er=k.createContext(null);er.displayName="Navigation";var Yl=k.createContext(null);Yl.displayName="Location";var Vr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var gy=k.createContext(null);gy.displayName="RouteError";function JV(t,{relative:e}={}){Ve(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(er),{hash:i,pathname:s,search:o}=Xl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:_r([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Ql(){return k.useContext(Yl)!=null}function Lr(){return Ve(Ql(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Yl).location}var Nx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ox(t){k.useContext(er).static||k.useLayoutEffect(t)}function tr(){let{isDataRoute:t}=k.useContext(Vr);return t?d2():ZV()}function ZV(){Ve(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Uo),{basename:e,navigator:n}=k.useContext(er),{matches:r}=k.useContext(Vr),{pathname:i}=Lr(),s=JSON.stringify(Ax(r)),o=k.useRef(!1);return Ox(()=>{o.current=!0}),k.useCallback((l,u={})=>{if(Qn(o.current,Nx),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=kx(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_r([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}k.createContext(null);function Xl(t,{relative:e}={}){let{matches:n}=k.useContext(Vr),{pathname:r}=Lr(),i=JSON.stringify(Ax(n));return k.useMemo(()=>kx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function e2(t,e){return Vx(t,e)}function Vx(t,e,n,r){var g;Ve(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(er),{matches:s}=k.useContext(Vr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let w=d&&d.path||"";Lx(l,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Lr(),f;if(e){let w=typeof e=="string"?Fo(e):e;Ve(u==="/"||((g=w.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),f=w}else f=h;let m=f.pathname||"/",v=m;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let T=bx(t,{pathname:v});Qn(d||T!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Qn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=s2(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:_r([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:_r([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&P?k.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},P):P}function t2(){let t=c2(),e=KV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,o)}var n2=k.createElement(t2,null),r2=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Vr.Provider,{value:this.props.routeContext},k.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i2({routeContext:t,match:e,children:n}){let r=k.useContext(Uo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Vr.Provider,{value:t},n)}function s2(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ve(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,f=!1,m=null,v=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||n2,o&&(a<0&&d===0?(Lx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):a===d&&(f=!0,v=u.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,d+1)),P=()=>{let g;return h?g=m:f?g=v:u.route.Component?g=k.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=l,k.createElement(i2,{match:u,routeContext:{outlet:l,matches:T,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?k.createElement(r2,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:P(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):P()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o2(t){let e=k.useContext(Uo);return Ve(e,yy(t)),e}function a2(t){let e=k.useContext(ph);return Ve(e,yy(t)),e}function l2(t){let e=k.useContext(Vr);return Ve(e,yy(t)),e}function vy(t){let e=l2(t),n=e.matches[e.matches.length-1];return Ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function u2(){return vy("useRouteId")}function c2(){var r;let t=k.useContext(gy),e=a2("useRouteError"),n=vy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function d2(){let{router:t}=o2("useNavigate"),e=vy("useNavigate"),n=k.useRef(!1);return Ox(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{Qn(n.current,Nx),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Zw={};function Lx(t,e,n){!e&&!Zw[t]&&(Zw[t]=!0,Qn(!1,n))}k.memo(h2);function h2({routes:t,future:e,state:n}){return Vx(t,void 0,n,e)}function Vn(t){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ve(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Fo(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=k.useMemo(()=>{let v=Ar(l,o);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return Qn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(er.Provider,{value:a},k.createElement(Yl.Provider,{children:e,value:m}))}function p2({children:t,location:e}){return e2(mm(t),e)}function mm(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,mm(r.props.children,s));return}Ve(r.type===Vn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mm(r.props.children,s)),n.push(o)}),n}var kc="get",Rc="application/x-www-form-urlencoded";function mh(t){return t!=null&&typeof t.tagName=="string"}function m2(t){return mh(t)&&t.tagName.toLowerCase()==="button"}function g2(t){return mh(t)&&t.tagName.toLowerCase()==="form"}function y2(t){return mh(t)&&t.tagName.toLowerCase()==="input"}function v2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w2(t,e){return t.button===0&&(!e||e==="_self")&&!v2(t)}var Ju=null;function _2(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var T2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(t){return t!=null&&!T2.has(t)?(Qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):t}function E2(t,e){let n,r,i,s,o;if(g2(t)){let a=t.getAttribute("action");r=a?Ar(a,e):null,n=t.getAttribute("method")||kc,i=jf(t.getAttribute("enctype"))||Rc,s=new FormData(t)}else if(m2(t)||y2(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ar(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||kc,i=jf(t.getAttribute("formenctype"))||jf(a.getAttribute("enctype"))||Rc,s=new FormData(a,t),!_2()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(mh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kc,r=null,i=Rc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function wy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function S2(t,e){if(t.id in e)return e[t.id];try{let n=await pV(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x2(t){return t!=null&&typeof t.page=="string"}function I2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function b2(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await S2(s,n);return o.links?o.links():[]}return[]}));return k2(r.flat(1).filter(I2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function e_(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function C2(t,e,{includeHydrateFallback:n}={}){return P2(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function P2(t){return[...new Set(t)]}function A2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function k2(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!x2(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(A2(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R2=new Set([100,101,204,205]);function D2(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ar(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Mx(){let t=k.useContext(Uo);return wy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function N2(){let t=k.useContext(ph);return wy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _y=k.createContext(void 0);_y.displayName="FrameworkContext";function jx(){let t=k.useContext(_y);return wy(t,"You must render this element inside a <HydratedRouter> element"),t}function O2(t,e){let n=k.useContext(_y),[r,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=g=>{g.forEach(w=>{o(w.isIntersecting)})},P=new IntersectionObserver(T,{threshold:.5});return f.current&&P.observe(f.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Aa(a,m),onBlur:Aa(l,v),onMouseEnter:Aa(u,m),onMouseLeave:Aa(d,v),onTouchStart:Aa(h,m)}]:[!1,f,{}]}function Aa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function V2({page:t,...e}){let{router:n}=Mx(),r=k.useMemo(()=>bx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(M2,{page:t,matches:r,...e}):null}function L2(t){let{manifest:e,routeModules:n}=jx(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return b2(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function M2({page:t,matches:e,...n}){let r=Lr(),{manifest:i,routeModules:s}=jx(),{basename:o}=Mx(),{loaderData:a,matches:l}=N2(),u=k.useMemo(()=>e_(t,e,l,i,r,"data"),[t,e,l,i,r]),d=k.useMemo(()=>e_(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,T=!1;if(e.forEach(g=>{var E;let w=i.routes[g.route.id];!w||!w.hasLoader||(!u.some(D=>D.route.id===g.route.id)&&g.route.id in a&&((E=s[g.route.id])!=null&&E.shouldRevalidate)||w.hasClientLoader?T=!0:v.add(g.route.id))}),v.size===0)return[];let P=D2(t,o);return T&&v.size>0&&P.searchParams.set("_routes",e.filter(g=>v.has(g.route.id)).map(g=>g.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,u,e,t,s]),f=k.useMemo(()=>C2(d,i),[d,i]),m=L2(d);return k.createElement(k.Fragment,null,h.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:T})=>k.createElement("link",{key:v,...T})))}function j2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fx&&(window.__reactRouterVersion="7.6.3")}catch{}function F2({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=IV({window:n,v5Compat:!0}));let i=r.current,[s,o]=k.useState({action:i.action,location:i.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(f2,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Td=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:v}=k.useContext(er),T=typeof u=="string"&&Ux.test(u),P,g=!1;if(typeof u=="string"&&T&&(P=u,Fx))try{let I=new URL(window.location.href),C=u.startsWith("//")?new URL(I.protocol+u):new URL(u),A=Ar(C.pathname,v);C.origin===I.origin&&A!=null?u=A+C.search+C.hash:g=!0}catch{Qn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=JV(u,{relative:i}),[E,D,V]=O2(r,f),O=$2(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(I){e&&e(I),I.defaultPrevented||O(I)}let S=k.createElement("a",{...f,...V,href:P||w,onClick:g||s?e:x,ref:j2(m,D),target:l,"data-discover":!T&&n==="render"?"true":void 0});return E&&!T?k.createElement(k.Fragment,null,S,k.createElement(V2,{page:w})):S});Td.displayName="Link";var U2=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=Xl(o,{relative:u.relative}),f=Lr(),m=k.useContext(ph),{navigator:v,basename:T}=k.useContext(er),P=m!=null&&K2(h)&&a===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,w=f.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),E=E?E.toLowerCase():null,g=g.toLowerCase()),E&&T&&(E=Ar(E,T)||E);const D=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let V=w===g||!i&&w.startsWith(g)&&w.charAt(D)==="/",O=E!=null&&(E===g||!i&&E.startsWith(g)&&E.charAt(g.length)==="/"),x={isActive:V,isPending:O,isTransitioning:P},S=V?e:void 0,I;typeof r=="function"?I=r(x):I=[r,V?"active":null,O?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(x):s;return k.createElement(Td,{...u,"aria-current":S,className:I,ref:d,style:C,to:o,viewTransition:a},typeof l=="function"?l(x):l)});U2.displayName="NavLink";var B2=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=kc,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let v=G2(),T=q2(a,{relative:u}),P=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&Ux.test(a),w=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,V=(D==null?void 0:D.getAttribute("formmethod"))||o;v(D||E.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return k.createElement("form",{ref:m,method:P,action:T,onSubmit:r?l:w,...f,"data-discover":!g&&t==="render"?"true":void 0})});B2.displayName="Form";function z2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(t){let e=k.useContext(Uo);return Ve(e,z2(t)),e}function $2(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=tr(),l=Lr(),u=Xl(t,{relative:s});return k.useCallback(d=>{if(w2(d,e)){d.preventDefault();let h=n!==void 0?n:bl(l)===bl(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var W2=0,H2=()=>`__${String(++W2)}__`;function G2(){let{router:t}=Bx("useSubmit"),{basename:e}=k.useContext(er),n=u2();return k.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=E2(r,e);if(i.navigate===!1){let d=i.fetcherKey||H2();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function q2(t,{relative:e}={}){let{basename:n}=k.useContext(er),r=k.useContext(Vr);Ve(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Xl(t||".",{relative:e})},o=Lr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:_r([n,s.pathname])),bl(s)}function K2(t,e={}){let n=k.useContext(Dx);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Bx("useViewTransitionState"),i=Xl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _d(i.pathname,o)!=null||_d(i.pathname,s)!=null}[...R2];const Y2=({isMenuOpen:t,setIsMenuOpen:e})=>{const[n,r]=k.useState(!1),i=Lr(),s=tr();k.useEffect(()=>{const u=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const o=[{name:"홈",to:"/"},{name:"커리큘럼",external:!0,href:"https://joyjukebox.notion.site/Business-English-Syllabus-141bfd2c8aa880cc9173fdf4ad2251d0"},{name:"소개",scrollTo:"about"},{name:"무료 시범강의 신청",to:"/trial"},{name:"그룹 클래스 예약",to:"/group-class"},{name:"토토방",to:"/toto-room"},{name:"상담문의",scrollTo:"contact"}],a=u=>{if(i.pathname!=="/")s("/"),setTimeout(()=>{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})},300);else{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})}},l=()=>{i.pathname!=="/"?s("/"):window.scrollTo({top:0,behavior:"smooth"}),e(!1)};return _.jsxs("nav",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${n?"bg-dark-900/95 backdrop-blur-sm shadow-lg":"bg-transparent"}`,children:[_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex justify-between items-center h-16",children:[_.jsx("div",{className:"flex-shrink-0",children:_.jsx("button",{onClick:l,className:"text-2xl font-bold gradient-text cursor-pointer hover:opacity-80 transition-opacity",children:"Joy English"})}),_.jsx("div",{className:"hidden md:block",children:_.jsx("div",{className:"ml-10 flex items-baseline space-x-8",children:o.map(u=>u.external?_.jsx("a",{href:u.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:u.name},u.name):u.scrollTo?_.jsx("button",{onClick:()=>a(u.scrollTo),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):u.name==="홈"?_.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):_.jsx(Td,{to:u.to,className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:u.name},u.name))})}),_.jsx("div",{className:"md:hidden",children:_.jsx("button",{onClick:()=>e(!t),className:"text-gray-300 hover:text-white p-2",children:t?_.jsx(dV,{size:24}):_.jsx(uV,{size:24})})})]})}),t&&_.jsx("div",{className:"md:hidden bg-dark-900/95 backdrop-blur-sm",children:_.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:o.map(u=>u.external?_.jsx("a",{href:u.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",onClick:()=>e(!1),children:u.name},u.name):u.scrollTo?_.jsx("button",{onClick:()=>{e(!1),a(u.scrollTo)},className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):u.name==="홈"?_.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):_.jsx(Td,{to:u.to,className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",onClick:()=>e(!1),children:u.name},u.name))})})]})},zx=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),gh=k.createContext({}),Ty=k.createContext(null),yh=typeof document<"u",Q2=yh?k.useLayoutEffect:k.useEffect,$x=k.createContext({strict:!1}),Ey=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),X2="framerAppearId",Wx="data-"+Ey(X2);function J2(t,e,n,r){const{visualElement:i}=k.useContext(gh),s=k.useContext($x),o=k.useContext(Ty),a=k.useContext(zx).reducedMotion,l=k.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;k.useInsertionEffect(()=>{u&&u.update(n,o)});const d=k.useRef(!!(n[Wx]&&!window.HandoffComplete));return Q2(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Qs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Z2(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qs(n)&&(n.current=r))},[e])}function Cl(t){return typeof t=="string"||Array.isArray(t)}function vh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Sy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xy=["initial",...Sy];function wh(t){return vh(t.animate)||xy.some(e=>Cl(t[e]))}function Hx(t){return!!(wh(t)||t.variants)}function eL(t,e){if(wh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cl(n)?n:void 0,animate:Cl(r)?r:void 0}}return t.inherit!==!1?e:{}}function tL(t){const{initial:e,animate:n}=eL(t,k.useContext(gh));return k.useMemo(()=>({initial:e,animate:n}),[t_(e),t_(n)])}function t_(t){return Array.isArray(t)?t.join(" "):t}const n_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pl={};for(const t in n_)Pl[t]={isEnabled:e=>n_[t].some(n=>!!e[n])};function nL(t){for(const e in t)Pl[e]={...Pl[e],...t[e]}}const Gx=k.createContext({}),qx=k.createContext({}),rL=Symbol.for("motionComponentSymbol");function iL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&nL(t);function s(a,l){let u;const d={...k.useContext(zx),...a,layoutId:sL(a)},{isStatic:h}=d,f=tL(a),m=r(a,h);if(!h&&yh){f.visualElement=J2(i,m,d,e);const v=k.useContext(qx),T=k.useContext($x).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,T,t,v))}return k.createElement(gh.Provider,{value:f},u&&f.visualElement?k.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,a,Z2(m,f.visualElement,l),m,h,f.visualElement))}const o=k.forwardRef(s);return o[rL]=i,o}function sL({layoutId:t}){const e=k.useContext(Gx).id;return e&&t!==void 0?e+"-"+t:t}function oL(t){function e(r,i={}){return iL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const aL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iy(t){return typeof t!="string"||t.includes("-")?!1:!!(aL.indexOf(t)>-1||/[A-Z]/.test(t))}const Ed={};function lL(t){Object.assign(Ed,t)}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vs=new Set(Jl);function Kx(t,{layout:e,layoutId:n}){return vs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ed[t]||t==="opacity")}const qt=t=>!!(t&&t.getVelocity),uL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cL=Jl.length;function dL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<cL;o++){const a=Jl[o];if(t[a]!==void 0){const l=uL[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Yx=t=>e=>typeof e=="string"&&e.startsWith(t),Qx=Yx("--"),gm=Yx("var(--"),hL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ei=(t,e,n)=>Math.min(Math.max(n,t),e),ws={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ja={...ws,transform:t=>Ei(0,1,t)},Zu={...ws,default:1},Za=t=>Math.round(t*1e5)/1e5,_h=/(-)?([\d]*\.?[\d])+/g,Xx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zl(t){return typeof t=="string"}const eu=t=>({test:e=>Zl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hr=eu("deg"),$n=eu("%"),J=eu("px"),mL=eu("vh"),gL=eu("vw"),r_={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},i_={...ws,transform:Math.round},Jx={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,size:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:Zu,scaleX:Zu,scaleY:Zu,scaleZ:Zu,skew:Hr,skewX:Hr,skewY:Hr,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:Ja,originX:r_,originY:r_,originZ:J,zIndex:i_,fillOpacity:Ja,strokeOpacity:Ja,numOctaves:i_};function by(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(Qx(h)){s[h]=f;continue}const m=Jx[h],v=fL(f,m);if(vs.has(h)){if(l=!0,o[h]=v,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=v):i[h]=v}if(e.transform||(l||r?i.transform=dL(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const Cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zx(t,e,n){for(const r in e)!qt(e[r])&&!Kx(r,n)&&(t[r]=e[r])}function yL({transformTemplate:t},e,n){return k.useMemo(()=>{const r=Cy();return by(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function vL(t,e,n){const r=t.style||{},i={};return Zx(i,r,t),Object.assign(i,yL(t,e,n)),t.transformValues?t.transformValues(i):i}function wL(t,e,n){const r={},i=vL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const _L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_L.has(t)}let eI=t=>!Sd(t);function TL(t){t&&(eI=e=>e.startsWith("on")?!Sd(e):t(e))}try{TL(require("@emotion/is-prop-valid").default)}catch{}function EL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(eI(i)||n===!0&&Sd(i)||!e&&!Sd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function s_(t,e,n){return typeof t=="string"?t:J.transform(e+n*t)}function SL(t,e,n){const r=s_(e,t.x,t.width),i=s_(n,t.y,t.height);return`${r} ${i}`}const xL={offset:"stroke-dashoffset",array:"stroke-dasharray"},IL={offset:"strokeDashoffset",array:"strokeDasharray"};function bL(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?xL:IL;t[s.offset]=J.transform(-r);const o=J.transform(e),a=J.transform(n);t[s.array]=`${o} ${a}`}function Py(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(by(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:T}=t;m.transform&&(T&&(v.transform=m.transform),delete m.transform),T&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=SL(T,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&bL(m,o,a,l,!1)}const tI=()=>({...Cy(),attrs:{}}),Ay=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CL(t,e,n,r){const i=k.useMemo(()=>{const s=tI();return Py(s,e,{enableHardwareAcceleration:!1},Ay(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Zx(s,t.style,t),i.style={...s,...i.style}}return i}function PL(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Iy(n)?CL:wL)(r,s,o,n),d={...EL(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=k.useMemo(()=>qt(h)?h.get():h,[h]);return k.createElement(n,{...d,children:f})}}function nI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const rI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iI(t,e,n,r){nI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(rI.has(i)?i:Ey(i),e.attrs[i])}function ky(t,e){const{style:n}=t,r={};for(const i in n)(qt(n[i])||e.style&&qt(e.style[i])||Kx(i,t))&&(r[i]=n[i]);return r}function sI(t,e){const n=ky(t,e);for(const r in t)if(qt(t[r])||qt(e[r])){const i=Jl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Ry(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function AL(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const xd=t=>Array.isArray(t),kL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),RL=t=>xd(t)?t[t.length-1]||0:t;function Dc(t){const e=qt(t)?t.get():t;return kL(e)?e.toValue():e}function DL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:NL(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const oI=t=>(e,n)=>{const r=k.useContext(gh),i=k.useContext(Ty),s=()=>DL(t,e,r,i);return n?s():AL(s)};function NL(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Dc(s[f]);let{initial:o,animate:a}=t;const l=wh(t),u=Hx(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!vh(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=Ry(t,m);if(!v)return;const{transitionEnd:T,transition:P,...g}=v;for(const w in g){let E=g[w];if(Array.isArray(E)){const D=d?E.length-1:0;E=E[D]}E!==null&&(i[w]=E)}for(const w in T)i[w]=T[w]}),i}const Ue=t=>t;class o_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function OL(t){let e=new o_,n=new o_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ec=["prepare","read","update","preRender","render","postRender"],VL=40;function LL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ec.reduce((h,f)=>(h[f]=OL(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,VL),1),i.timestamp=h,i.isProcessing=!0,ec.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ec.reduce((h,f)=>{const m=s[f];return h[f]=(v,T=!1,P=!1)=>(n||l(),m.schedule(v,T,P)),h},{}),cancel:h=>ec.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Ce,cancel:kr,state:xt,steps:Ff}=LL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ue,!0),ML={useVisualState:oI({scrapeMotionValuesFromProps:sI,createRenderState:tI,onMount:(t,e,{renderState:n,latestValues:r})=>{Ce.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ce.render(()=>{Py(n,r,{enableHardwareAcceleration:!1},Ay(e.tagName),t.transformTemplate),iI(e,n)})}})},jL={useVisualState:oI({scrapeMotionValuesFromProps:ky,createRenderState:Cy})};function FL(t,{forwardMotionProps:e=!1},n,r){return{...Iy(t)?ML:jL,preloadedFeatures:n,useRender:PL(e),createVisualElement:r,Component:t}}function vr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const aI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Th(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const UL=t=>e=>aI(e)&&t(e,Th(e));function Tr(t,e,n,r){return vr(t,e,UL(n),r)}const BL=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(BL);function lI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const a_=lI("dragHorizontal"),l_=lI("dragVertical");function uI(t){let e=!1;if(t==="y")e=l_();else if(t==="x")e=a_();else{const n=a_(),r=l_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function cI(){const t=uI(!0);return t?(t(),!1):!0}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||cI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ce.update(()=>a[r](s,o))};return Tr(t.current,n,i,{passive:!t.getProps()[r]})}class zL extends Oi{mount(){this.unmount=mi(u_(this.node,!0),u_(this.node,!1))}unmount(){}}class $L extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(vr(this.node.current,"focus",()=>this.onFocus()),vr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dI=(t,e)=>e?t===e?!0:dI(t,e.parentElement):!1;function Uf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Th(n))}class WL extends Oi{constructor(){super(...arguments),this.removeStartListeners=Ue,this.removeEndListeners=Ue,this.removeAccessibleListeners=Ue,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Tr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Ce.update(()=>{!h&&!dI(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Tr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Uf("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ce.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=vr(this.node.current,"keyup",o),Uf("down",(a,l)=>{this.startPress(a,l)})},n=vr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Uf("cancel",(s,o)=>this.cancelPress(s,o))},i=vr(this.node.current,"blur",r);this.removeAccessibleListeners=mi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ce.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ce.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Tr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=vr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ym=new WeakMap,Bf=new WeakMap,HL=t=>{const e=ym.get(t.target);e&&e(t)},GL=t=>{t.forEach(HL)};function qL({root:t,...e}){const n=t||document;Bf.has(n)||Bf.set(n,{});const r=Bf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(GL,{root:t,...e})),r[i]}function KL(t,e,n){const r=qL(e);return ym.set(t,n),r.observe(t),()=>{ym.delete(t),r.unobserve(t)}}const YL={some:0,all:1};class QL extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YL[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return KL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XL(e,n))&&this.startObserver()}unmount(){}}function XL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JL={inView:{Feature:QL},tap:{Feature:WL},focus:{Feature:$L},hover:{Feature:zL}};function hI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ZL(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function eM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Eh(t,e,n){const r=t.getProps();return Ry(r,e,n!==void 0?n:r.custom,ZL(t),eM(t))}let tM=Ue,Dy=Ue;const gi=t=>t*1e3,Er=t=>t/1e3,nM={current:!1},fI=t=>Array.isArray(t)&&typeof t[0]=="number";function pI(t){return!!(!t||typeof t=="string"&&mI[t]||fI(t)||Array.isArray(t)&&t.every(pI))}const La=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:La([0,.65,.55,1]),circOut:La([.55,0,1,.45]),backIn:La([.31,.01,.66,-.59]),backOut:La([.33,1.53,.69,.99])};function gI(t){if(t)return fI(t)?La(t):Array.isArray(t)?t.map(gI):mI[t]}function rM(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=gI(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function iM(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const yI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sM=1e-7,oM=12;function aM(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=yI(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>sM&&++a<oM);return o}function tu(t,e,n,r){if(t===e&&n===r)return Ue;const i=s=>aM(s,0,1,t,n);return s=>s===0||s===1?s:yI(i(s),e,r)}const lM=tu(.42,0,1,1),uM=tu(0,0,.58,1),vI=tu(.42,0,.58,1),cM=t=>Array.isArray(t)&&typeof t[0]!="number",wI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_I=t=>e=>1-t(1-e),Ny=t=>1-Math.sin(Math.acos(t)),TI=_I(Ny),dM=wI(Ny),EI=tu(.33,1.53,.69,.99),Oy=_I(EI),hM=wI(Oy),fM=t=>(t*=2)<1?.5*Oy(t):.5*(2-Math.pow(2,-10*(t-1))),pM={linear:Ue,easeIn:lM,easeInOut:vI,easeOut:uM,circIn:Ny,circInOut:dM,circOut:TI,backIn:Oy,backInOut:hM,backOut:EI,anticipate:fM},c_=t=>{if(Array.isArray(t)){Dy(t.length===4);const[e,n,r,i]=t;return tu(e,n,r,i)}else if(typeof t=="string")return pM[t];return t},Vy=(t,e)=>n=>!!(Zl(n)&&pL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),SI=(t,e,n)=>r=>{if(!Zl(r))return r;const[i,s,o,a]=r.match(_h);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mM=t=>Ei(0,255,t),zf={...ws,transform:t=>Math.round(mM(t))},Zi={test:Vy("rgb","red"),parse:SI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zf.transform(t)+", "+zf.transform(e)+", "+zf.transform(n)+", "+Za(Ja.transform(r))+")"};function gM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vm={test:Vy("#"),parse:gM,transform:Zi.transform},Xs={test:Vy("hsl","hue"),parse:SI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$n.transform(Za(e))+", "+$n.transform(Za(n))+", "+Za(Ja.transform(r))+")"},Dt={test:t=>Zi.test(t)||vm.test(t)||Xs.test(t),parse:t=>Zi.test(t)?Zi.parse(t):Xs.test(t)?Xs.parse(t):vm.parse(t),transform:t=>Zl(t)?t:t.hasOwnProperty("red")?Zi.transform(t):Xs.transform(t)},Ne=(t,e,n)=>-n*t+n*e+t;function $f(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=$f(l,a,t+1/3),s=$f(l,a,t),o=$f(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Wf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},vM=[vm,Zi,Xs],wM=t=>vM.find(e=>e.test(t));function d_(t){const e=wM(t);let n=e.parse(t);return e===Xs&&(n=yM(n)),n}const xI=(t,e)=>{const n=d_(t),r=d_(e),i={...n};return s=>(i.red=Wf(n.red,r.red,s),i.green=Wf(n.green,r.green,s),i.blue=Wf(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),Zi.transform(i))};function _M(t){var e,n;return isNaN(t)&&Zl(t)&&(((e=t.match(_h))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Xx))===null||n===void 0?void 0:n.length)||0)>0}const II={regex:hL,countKey:"Vars",token:"${v}",parse:Ue},bI={regex:Xx,countKey:"Colors",token:"${c}",parse:Dt.parse},CI={regex:_h,countKey:"Numbers",token:"${n}",parse:ws.parse};function Hf(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Id(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Hf(n,II),Hf(n,bI),Hf(n,CI),n}function PI(t){return Id(t).values}function AI(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Id(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(II.token,o[l]):l<r+n?a=a.replace(bI.token,Dt.transform(o[l])):a=a.replace(CI.token,Za(o[l]));return a}}const TM=t=>typeof t=="number"?0:t;function EM(t){const e=PI(t);return AI(t)(e.map(TM))}const Si={test:_M,parse:PI,createTransformer:AI,getAnimatableNone:EM},kI=(t,e)=>n=>`${n>0?e:t}`;function RI(t,e){return typeof t=="number"?n=>Ne(t,e,n):Dt.test(t)?xI(t,e):t.startsWith("var(")?kI(t,e):NI(t,e)}const DI=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>RI(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},SM=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=RI(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},NI=(t,e)=>{const n=Si.createTransformer(e),r=Id(t),i=Id(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mi(DI(r.values,i.values),n):kI(t,e)},Al=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},h_=(t,e)=>n=>Ne(t,e,n);function xM(t){return typeof t=="number"?h_:typeof t=="string"?Dt.test(t)?xI:NI:Array.isArray(t)?DI:typeof t=="object"?SM:h_}function IM(t,e,n){const r=[],i=n||xM(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ue:e;a=mi(l,a)}r.push(a)}return r}function OI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Dy(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=IM(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Al(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Ei(t[0],t[s-1],u)):l}function bM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Al(0,e,r);t.push(Ne(n,1,i))}}function CM(t){const e=[0];return bM(e,t.length-1),e}function PM(t,e){return t.map(n=>n*e)}function AM(t,e){return t.map(()=>e||vI).splice(0,t.length-1)}function bd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=cM(r)?r.map(c_):c_(r),s={done:!1,value:e[0]},o=PM(n&&n.length===e.length?n:CM(e),t),a=OI(o,e,{ease:Array.isArray(i)?i:AM(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function VI(t,e){return e?t*(1e3/e):0}const kM=5;function LI(t,e,n){const r=Math.max(e-kM,0);return VI(n-t(r),e-r)}const Gf=.001,RM=.01,f_=10,DM=.05,NM=1;function OM({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;tM(t<=gi(f_));let o=1-e;o=Ei(DM,NM,o),t=Ei(RM,f_,Er(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=wm(u,o),v=Math.exp(-h);return Gf-f/m*v},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-h),T=wm(Math.pow(u,2),o);return(-i(u)+Gf>0?-1:1)*((f-m)*v)/T}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Gf+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=LM(i,s,a);if(t=gi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const VM=12;function LM(t,e,n){let r=n;for(let i=1;i<VM;i++)r=r-t(r)/e(r);return r}function wm(t,e){return t*Math.sqrt(1-e*e)}const MM=["duration","bounce"],jM=["stiffness","damping","mass"];function p_(t,e){return e.some(n=>t[n]!==void 0)}function FM(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!p_(t,jM)&&p_(t,MM)){const n=OM(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function MI({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=FM({...r,velocity:-Er(r.velocity||0)}),m=h||0,v=l/(2*Math.sqrt(a*u)),T=s-i,P=Er(Math.sqrt(a/u)),g=Math.abs(T)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let w;if(v<1){const E=wm(P,v);w=D=>{const V=Math.exp(-v*P*D);return s-V*((m+v*P*T)/E*Math.sin(E*D)+T*Math.cos(E*D))}}else if(v===1)w=E=>s-Math.exp(-P*E)*(T+(m+P*T)*E);else{const E=P*Math.sqrt(v*v-1);w=D=>{const V=Math.exp(-v*P*D),O=Math.min(E*D,300);return s-V*((m+v*P*T)*Math.sinh(O)+E*T*Math.cosh(O))/E}}return{calculatedDuration:f&&d||null,next:E=>{const D=w(E);if(f)o.done=E>=d;else{let V=m;E!==0&&(v<1?V=LI(w,E,D):V=0);const O=Math.abs(V)<=n,x=Math.abs(s-D)<=e;o.done=O&&x}return o.value=o.done?s:D,o}}}function m_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,v=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let T=n*e;const P=h+T,g=o===void 0?P:o(P);g!==P&&(T=g-h);const w=S=>-T*Math.exp(-S/r),E=S=>g+w(S),D=S=>{const I=w(S),C=E(S);f.done=Math.abs(I)<=u,f.value=f.done?g:C};let V,O;const x=S=>{m(f.value)&&(V=S,O=MI({keyframes:[f.value,v(f.value)],velocity:LI(E,S,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return x(0),{calculatedDuration:null,next:S=>{let I=!1;return!O&&V===void 0&&(I=!0,D(S),x(S)),V!==void 0&&S>V?O.next(S-V):(!I&&D(S),f)}}}const UM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ce.update(e,!0),stop:()=>kr(e),now:()=>xt.isProcessing?xt.timestamp:performance.now()}},g_=2e4;function y_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<g_;)e+=n,r=t.next(e);return e>=g_?1/0:e}const BM={decay:m_,inertia:m_,tween:bd,keyframes:bd,spring:MI};function Cd({autoplay:t=!0,delay:e=0,driver:n=UM,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,v=!1,T,P;const g=()=>{P=new Promise(Y=>{T=Y})};g();let w;const E=BM[i]||bd;let D;E!==bd&&typeof r[0]!="number"&&(D=OI([0,100],r,{clamp:!1}),r=[0,100]);const V=E({...f,keyframes:r});let O;a==="mirror"&&(O=E({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let x="idle",S=null,I=null,C=null;V.calculatedDuration===null&&s&&(V.calculatedDuration=y_(V));const{calculatedDuration:A}=V;let N=1/0,R=1/0;A!==null&&(N=A+o,R=N*(s+1)-o);let X=0;const ne=Y=>{if(I===null)return;m>0&&(I=Math.min(I,Y)),m<0&&(I=Math.min(Y-R/m,I)),S!==null?X=S:X=Math.round(Y-I)*m;const ie=X-e*(m>=0?1:-1),me=m>=0?ie<0:ie>R;X=Math.max(ie,0),x==="finished"&&S===null&&(X=R);let ot=X,yt=V;if(s){const jt=Math.min(X,R)/N;let Kt=Math.floor(jt),vt=jt%1;!vt&&jt>=1&&(vt=1),vt===1&&Kt--,Kt=Math.min(Kt,s+1),!!(Kt%2)&&(a==="reverse"?(vt=1-vt,o&&(vt-=o/N)):a==="mirror"&&(yt=O)),ot=Ei(0,1,vt)*N}const $e=me?{done:!1,value:r[0]}:yt.next(ot);D&&($e.value=D($e.value));let{done:Ke}=$e;!me&&A!==null&&(Ke=m>=0?X>=R:X<=0);const nr=S===null&&(x==="finished"||x==="running"&&Ke);return h&&h($e.value),nr&&U(),$e},W=()=>{w&&w.stop(),w=void 0},se=()=>{x="idle",W(),T(),g(),I=C=null},U=()=>{x="finished",d&&d(),W(),T()},z=()=>{if(v)return;w||(w=n(ne));const Y=w.now();l&&l(),S!==null?I=Y-S:(!I||x==="finished")&&(I=Y),x==="finished"&&g(),C=I,S=null,x="running",w.start()};t&&z();const H={then(Y,ie){return P.then(Y,ie)},get time(){return Er(X)},set time(Y){Y=gi(Y),X=Y,S!==null||!w||m===0?S=Y:I=w.now()-Y/m},get duration(){const Y=V.calculatedDuration===null?y_(V):V.calculatedDuration;return Er(Y)},get speed(){return m},set speed(Y){Y===m||!w||(m=Y,H.time=Er(X))},get state(){return x},play:z,pause:()=>{x="paused",S=X},stop:()=>{v=!0,x!=="idle"&&(x="idle",u&&u(),se())},cancel:()=>{C!==null&&ne(C),se()},complete:()=>{x="finished"},sample:Y=>(I=0,ne(Y))};return H}function zM(t){let e;return()=>(e===void 0&&(e=t()),e)}const $M=zM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),WM=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),tc=10,HM=2e4,GM=(t,e)=>e.type==="spring"||t==="backgroundColor"||!pI(e.ease);function qM(t,e,{onUpdate:n,onComplete:r,...i}){if(!($M()&&WM.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(E=>{a=E})};d();let{keyframes:h,duration:f=300,ease:m,times:v}=i;if(GM(e,i)){const E=Cd({...i,repeat:0,delay:0});let D={done:!1,value:h[0]};const V=[];let O=0;for(;!D.done&&O<HM;)D=E.sample(O),V.push(D.value),O+=tc;v=void 0,h=V,f=O-tc,m="linear"}const T=rM(t.owner.current,e,h,{...i,duration:f,ease:m,times:v}),P=()=>{u=!1,T.cancel()},g=()=>{u=!0,Ce.update(P),a(),d()};return T.onfinish=()=>{u||(t.set(iM(h,i)),r&&r(),g())},{then(E,D){return l.then(E,D)},attachTimeline(E){return T.timeline=E,T.onfinish=null,Ue},get time(){return Er(T.currentTime||0)},set time(E){T.currentTime=gi(E)},get speed(){return T.playbackRate},set speed(E){T.playbackRate=E},get duration(){return Er(f)},play:()=>{o||(T.play(),kr(P))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:E}=T;if(E){const D=Cd({...i,autoplay:!1});t.setWithVelocity(D.sample(E-tc).value,D.sample(E).value,tc)}g()},complete:()=>{u||T.finish()},cancel:g}}function KM({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ue,pause:Ue,stop:Ue,then:s=>(s(),Promise.resolve()),cancel:Ue,complete:Ue});return e?Cd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const YM={type:"spring",stiffness:500,damping:25,restSpeed:10},QM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XM={type:"keyframes",duration:.8},JM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZM=(t,{keyframes:e})=>e.length>2?XM:vs.has(t)?t.startsWith("scale")?QM(e[1]):YM:JM,_m=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Si.test(e)||e==="0")&&!e.startsWith("url(")),ej=new Set(["brightness","contrast","saturate","opacity"]);function tj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_h)||[];if(!r)return t;const i=n.replace(r,"");let s=ej.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const nj=/([a-z-]*)\(.*?\)/g,Tm={...Si,getAnimatableNone:t=>{const e=t.match(nj);return e?e.map(tj).join(" "):t}},rj={...Jx,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Tm,WebkitFilter:Tm},Ly=t=>rj[t];function jI(t,e){let n=Ly(t);return n!==Tm&&(n=Si),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FI=t=>/^0[^.\s]+$/.test(t);function ij(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||FI(t)}function sj(t,e,n,r){const i=_m(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),ij(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=jI(e,a)}return s}function oj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function My(t,e){return t[e]||t.default||t}const aj={skipAnimations:!1},jy=(t,e,n,r={})=>i=>{const s=My(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-gi(o);const l=sj(e,t,n,s),u=l[0],d=l[l.length-1],h=_m(t,u),f=_m(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(oj(s)||(m={...m,...ZM(t,m)}),m.duration&&(m.duration=gi(m.duration)),m.repeatDelay&&(m.repeatDelay=gi(m.repeatDelay)),!h||!f||nM.current||s.type===!1||aj.skipAnimations)return KM(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=qM(e,t,m);if(v)return v}return Cd(m)};function Pd(t){return!!(qt(t)&&t.add)}const UI=t=>/^\-?\d*\.?\d+$/.test(t);function Fy(t,e){t.indexOf(e)===-1&&t.push(e)}function Uy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class By{constructor(){this.subscriptions=[]}add(e){return Fy(this.subscriptions,e),()=>Uy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lj=t=>!isNaN(parseFloat(t));class uj{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=xt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ce.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ce.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=lj(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new By);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?VI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Io(t,e){return new uj(t,e)}const BI=t=>e=>e.test(t),cj={test:t=>t==="auto",parse:t=>t},zI=[ws,J,$n,Hr,gL,mL,cj],ka=t=>zI.find(BI(t)),dj=[...zI,Dt,Si],hj=t=>dj.find(BI(t));function fj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Io(n))}function pj(t,e){const n=Eh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=RL(s[o]);fj(t,o,a)}}function mj(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(UI(d)||FI(d))?d=parseFloat(d):!hj(d)&&Si.test(u)&&(d=jI(l,u)),t.addValue(l,Io(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function gj(t,e){return e?(e[t]||e.default||e).from:void 0}function yj(t,e,n){const r={};for(const i in t){const s=gj(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function vj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function wj(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function $I(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||d&&vj(d,h))continue;const v={delay:n,elapsed:0,...My(s||{},h)};if(window.HandoffAppearAnimations){const g=t.getProps()[Wx];if(g){const w=window.HandoffAppearAnimations(g,h,f,Ce);w!==null&&(v.elapsed=w,v.isHandoff=!0)}}let T=!v.isHandoff&&!wj(f,m);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(T=!1),f.animation&&(T=!1),T)continue;f.start(jy(h,f,m,t.shouldReduceMotion&&vs.has(h)?{type:!1}:v));const P=f.animation;Pd(l)&&(l.add(h),P.then(()=>l.remove(h))),u.push(P)}return o&&Promise.all(u).then(()=>{o&&pj(t,o)}),u}function Em(t,e,n={}){const r=Eh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all($I(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return _j(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function _j(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Tj).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Em(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Tj(t,e){return t.sortNodePosition(e)}function Ej(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Em(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Em(t,e,n);else{const i=typeof e=="function"?Eh(t,e,n.custom):e;r=Promise.all($I(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Sj=[...Sy].reverse(),xj=Sy.length;function Ij(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ej(t,n,r)))}function bj(t){let e=Ij(t);const n=Pj();let r=!0;const i=(l,u)=>{const d=Eh(t,u);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let v={},T=1/0;for(let g=0;g<xj;g++){const w=Sj[g],E=n[w],D=d[w]!==void 0?d[w]:h[w],V=Cl(D),O=w===u?E.isActive:null;O===!1&&(T=g);let x=D===h[w]&&D!==d[w]&&V;if(x&&r&&t.manuallyAnimateOnMount&&(x=!1),E.protectedKeys={...v},!E.isActive&&O===null||!D&&!E.prevProp||vh(D)||typeof D=="boolean")continue;let I=Cj(E.prevProp,D)||w===u&&E.isActive&&!x&&V||g>T&&V,C=!1;const A=Array.isArray(D)?D:[D];let N=A.reduce(i,{});O===!1&&(N={});const{prevResolvedValues:R={}}=E,X={...R,...N},ne=W=>{I=!0,m.has(W)&&(C=!0,m.delete(W)),E.needsAnimating[W]=!0};for(const W in X){const se=N[W],U=R[W];if(v.hasOwnProperty(W))continue;let z=!1;xd(se)&&xd(U)?z=!hI(se,U):z=se!==U,z?se!==void 0?ne(W):m.add(W):se!==void 0&&m.has(W)?ne(W):E.protectedKeys[W]=!0}E.prevProp=D,E.prevResolvedValues=N,E.isActive&&(v={...v,...N}),r&&t.blockInitialAnimation&&(I=!1),I&&(!x||C)&&f.push(...A.map(W=>({animation:W,options:{type:w,...l}})))}if(m.size){const g={};m.forEach(w=>{const E=t.getBaseTarget(w);E!==void 0&&(g[w]=E)}),f.push({animation:g})}let P=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(f):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const f=o(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Cj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hI(e,t):!1}function $i(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pj(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class Aj extends Oi{constructor(e){super(e),e.animationState||(e.animationState=bj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),vh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let kj=0;class Rj extends Oi{constructor(){super(...arguments),this.id=kj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Dj={animation:{Feature:Aj},exit:{Feature:Rj}},v_=(t,e)=>Math.abs(t-e);function Nj(t,e){const n=v_(t.x,e.x),r=v_(t.y,e.y);return Math.sqrt(n**2+r**2)}class WI{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Kf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Nj(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:T}=xt;this.history.push({...v,timestamp:T});const{onStart:P,onMove:g}=this.handlers;f||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=qf(f,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Kf(h.type==="pointercancel"?this.lastMoveEventInfo:qf(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,P),v&&v(h,P)},!aI(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Th(e),a=qf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=xt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Kf(a,this.history)),this.removeListeners=mi(Tr(this.contextWindow,"pointermove",this.handlePointerMove),Tr(this.contextWindow,"pointerup",this.handlePointerUp),Tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function qf(t,e){return e?{point:e(t.point)}:t}function w_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kf({point:t},e){return{point:t,delta:w_(t,HI(e)),offset:w_(t,Oj(e)),velocity:Vj(e,.1)}}function Oj(t){return t[0]}function HI(t){return t[t.length-1]}function Vj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=HI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const s=Er(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tn(t){return t.max-t.min}function Sm(t,e=0,n=.01){return Math.abs(t-e)<=n}function __(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),(Sm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(Sm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function el(t,e,n,r){__(t.x,e.x,n.x,r?r.originX:void 0),__(t.y,e.y,n.y,r?r.originY:void 0)}function T_(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function Lj(t,e,n){T_(t.x,e.x,n.x),T_(t.y,e.y,n.y)}function E_(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function tl(t,e,n){E_(t.x,e.x,n.x),E_(t.y,e.y,n.y)}function Mj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function S_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jj(t,{top:e,left:n,bottom:r,right:i}){return{x:S_(t.x,n,i),y:S_(t.y,e,r)}}function x_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Fj(t,e){return{x:x_(t.x,e.x),y:x_(t.y,e.y)}}function Uj(t,e){let n=.5;const r=tn(t),i=tn(e);return i>r?n=Al(e.min,e.max-r,t.min):r>i&&(n=Al(t.min,t.max-i,e.min)),Ei(0,1,n)}function Bj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xm=.35;function zj(t=xm){return t===!1?t=0:t===!0&&(t=xm),{x:I_(t,"left","right"),y:I_(t,"top","bottom")}}function I_(t,e,n){return{min:b_(t,e),max:b_(t,n)}}function b_(t,e){return typeof t=="number"?t:t[e]||0}const C_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Js=()=>({x:C_(),y:C_()}),P_=()=>({min:0,max:0}),He=()=>({x:P_(),y:P_()});function an(t){return[t("x"),t("y")]}function GI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $j({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Wj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yf(t){return t===void 0||t===1}function Im({scale:t,scaleX:e,scaleY:n}){return!Yf(t)||!Yf(e)||!Yf(n)}function qi(t){return Im(t)||qI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function qI(t){return A_(t.x)||A_(t.y)}function A_(t){return t&&t!=="0%"}function Ad(t,e,n){const r=t-n,i=e*r;return n+i}function k_(t,e,n,r,i){return i!==void 0&&(t=Ad(t,i,r)),Ad(t,n,r)+e}function bm(t,e=0,n=1,r,i){t.min=k_(t.min,e,n,r,i),t.max=k_(t.max,e,n,r,i)}function KI(t,{x:e,y:n}){bm(t.x,e.translate,e.scale,e.originPoint),bm(t.y,n.translate,n.scale,n.originPoint)}function Hj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,KI(t,o)),r&&qi(s.latestValues)&&Zs(t,s.latestValues))}e.x=R_(e.x),e.y=R_(e.y)}function R_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Kr(t,e){t.min=t.min+e,t.max=t.max+e}function D_(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ne(t.min,t.max,s);bm(t,e[n],e[r],o,e.scale)}const Gj=["x","scaleX","originX"],qj=["y","scaleY","originY"];function Zs(t,e){D_(t.x,e,Gj),D_(t.y,e,qj)}function YI(t,e){return GI(Wj(t.getBoundingClientRect(),e))}function Kj(t,e,n){const r=YI(t,n),{scroll:i}=e;return i&&(Kr(r.x,i.offset.x),Kr(r.y,i.offset.y)),r}const QI=({current:t})=>t?t.ownerDocument.defaultView:null,Yj=new WeakMap;class Qj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Th(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uI(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(P=>{let g=this.getAxisMotionValue(P).get()||0;if($n.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[P];E&&(g=tn(E)*(parseFloat(g)/100))}}this.originPoint[P]=g}),v&&Ce.update(()=>v(d,h),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:T}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:P}=h;if(m&&this.currentDirection===null){this.currentDirection=Xj(P),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),T&&T(d,h)},a=(d,h)=>this.stop(d,h),l=()=>an(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new WI(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:QI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ce.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!nc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Mj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Qs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=jj(i.layoutBox,n):this.constraints=!1,this.elastic=zj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&an(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Bj(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Kj(r,i.root,this.visualElement.getTransformPagePoint());let o=Fj(i.layout.layoutBox,s);if(n){const a=n($j(o));this.hasMutatedConstraints=!!a,a&&(o=GI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=an(d=>{if(!nc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(jy(e,r,0,n))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){an(n=>{const{drag:r}=this.getProps();if(!nc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};an(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Uj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),an(o=>{if(!nc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ne(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Yj.set(this.visualElement,this);const e=this.visualElement.current,n=Tr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=vr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(an(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=xm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Xj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Jj extends Oi{constructor(e){super(e),this.removeGroupControls=Ue,this.removeListeners=Ue,this.controls=new Qj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const N_=t=>(e,n)=>{t&&Ce.update(()=>t(e,n))};class Zj extends Oi{constructor(){super(...arguments),this.removePointerDownListener=Ue}onPointerDown(e){this.session=new WI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:N_(e),onStart:N_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ce.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function e4(){const t=k.useContext(Ty);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=k.useId();return k.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Nc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ra={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=O_(t,e.target.x),r=O_(t,e.target.y);return`${n}% ${r}%`}},t4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Si.parse(t);if(i.length>5)return r;const s=Si.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class n4 extends Pe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;lL(r4),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XI(t){const[e,n]=e4(),r=k.useContext(Gx);return Pe.createElement(n4,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(qx),isPresent:e,safeToRemove:n})}const r4={borderRadius:{...Ra,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ra,borderTopRightRadius:Ra,borderBottomLeftRadius:Ra,borderBottomRightRadius:Ra,boxShadow:t4},JI=["TopLeft","TopRight","BottomLeft","BottomRight"],i4=JI.length,V_=t=>typeof t=="string"?parseFloat(t):t,L_=t=>typeof t=="number"||J.test(t);function s4(t,e,n,r,i,s){i?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,o4(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,a4(r))):s&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<i4;o++){const a=`border${JI[o]}Radius`;let l=M_(e,a),u=M_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||L_(l)===L_(u)?(t[a]=Math.max(Ne(V_(l),V_(u),r),0),($n.test(u)||$n.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function M_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const o4=ZI(0,.5,TI),a4=ZI(.5,.95,Ue);function ZI(t,e,n){return r=>r<t?0:r>e?1:n(Al(t,e,r))}function j_(t,e){t.min=e.min,t.max=e.max}function on(t,e){j_(t.x,e.x),j_(t.y,e.y)}function F_(t,e,n,r,i){return t-=e,t=Ad(t,1/n,r),i!==void 0&&(t=Ad(t,1/i,r)),t}function l4(t,e=0,n=1,r=.5,i,s=t,o=t){if($n.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(s.min,s.max,r);t===s&&(a-=e),t.min=F_(t.min,e,n,a,i),t.max=F_(t.max,e,n,a,i)}function U_(t,e,[n,r,i],s,o){l4(t,e[n],e[r],e[i],e.scale,s,o)}const u4=["x","scaleX","originX"],c4=["y","scaleY","originY"];function B_(t,e,n,r){U_(t.x,e,u4,n?n.x:void 0,r?r.x:void 0),U_(t.y,e,c4,n?n.y:void 0,r?r.y:void 0)}function z_(t){return t.translate===0&&t.scale===1}function eb(t){return z_(t.x)&&z_(t.y)}function d4(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function tb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function $_(t){return tn(t.x)/tn(t.y)}class h4{constructor(){this.members=[]}add(e){Fy(this.members,e),e.scheduleRender()}remove(e){if(Uy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W_(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const f4=(t,e)=>t.depth-e.depth;class p4{constructor(){this.children=[],this.isDirty=!1}add(e){Fy(this.children,e),this.isDirty=!0}remove(e){Uy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f4),this.isDirty=!1,this.children.forEach(e)}}function m4(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(kr(r),t(s-e))};return Ce.read(r,!0),()=>kr(r)}function g4(t){window.MotionDebug&&window.MotionDebug.record(t)}function y4(t){return t instanceof SVGElement&&t.tagName!=="svg"}function v4(t,e,n){const r=qt(t)?t:Io(t);return r.start(jy("",r,e,n)),r.animation}const H_=["","X","Y","Z"],w4={visibility:"hidden"},G_=1e3;let _4=0;const Ki={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ki.totalNodes=Ki.resolvedTargetDeltas=Ki.recalculatedProjection=0,this.nodes.forEach(S4),this.nodes.forEach(P4),this.nodes.forEach(A4),this.nodes.forEach(x4),g4(Ki)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new p4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new By),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y4(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=m4(f,250),Nc.hasAnimatedSinceResize&&(Nc.hasAnimatedSinceResize=!1,this.nodes.forEach(K_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||O4,{onLayoutAnimationStart:P,onLayoutAnimationComplete:g}=d.getProps(),w=!this.targetLayout||!tb(this.targetLayout,v)||m,E=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const D={...My(T,"layout"),onPlay:P,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else f||K_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q_);return}this.isUpdating||this.nodes.forEach(b4),this.isUpdating=!1,this.nodes.forEach(C4),this.nodes.forEach(T4),this.nodes.forEach(E4),this.clearAllSnapshots();const a=performance.now();xt.delta=Ei(0,1e3/60,a-xt.timestamp),xt.timestamp=a,xt.isProcessing=!0,Ff.update.process(xt),Ff.preRender.process(xt),Ff.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(I4),this.sharedNodes.forEach(R4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!eb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||qi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),V4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Kr(a.x,l.offset.x),Kr(a.y,l.offset.y)),a}removeElementScroll(o){const a=He();on(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){on(a,o);const{scroll:f}=this.root;f&&(Kr(a.x,-f.offset.x),Kr(a.y,-f.offset.y))}Kr(a.x,d.offset.x),Kr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=He();on(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zs(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),qi(d.latestValues)&&Zs(l,d.latestValues)}return qi(this.latestValues)&&Zs(l,this.latestValues),l}removeTransform(o){const a=He();on(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!qi(u.latestValues))continue;Im(u.latestValues)&&u.updateSnapshot();const d=He(),h=u.measurePageBox();on(d,h),B_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return qi(this.latestValues)&&B_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=xt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),tl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),KI(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),tl(this.relativeTargetOrigin,this.target,m.target),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ki.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Im(this.parent.latestValues)||qI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;on(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Hj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Js(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Js(),this.projectionDeltaWithTransform=Js());const T=this.projectionTransform;el(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=W_(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ki.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=He(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,T=m!==v,P=this.getStack(),g=!P||P.members.length<=1,w=!!(T&&!g&&this.options.crossfade===!0&&!this.path.some(N4));this.animationProgress=0;let E;this.mixTargetDelta=D=>{const V=D/1e3;Y_(h.x,o.x,V),Y_(h.y,o.y,V),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D4(this.relativeTarget,this.relativeTargetOrigin,f,V),E&&d4(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=He()),on(E,this.relativeTarget)),T&&(this.animationValues=d,s4(d,u,this.latestValues,V,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Nc.hasAnimatedSinceResize=!0,this.currentAnimation=v4(0,G_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&rb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||He();const h=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}on(a,l),Zs(a,d),el(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new h4),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<H_.length;d++){const h="rotate"+H_[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return w4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Dc(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Dc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!qi(this.latestValues)&&(T.transform=d?d({},""):"none",this.hasProjected=!1),T}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=W_(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in Ed){if(f[T]===void 0)continue;const{correct:P,applyTo:g}=Ed[T],w=u.transform==="none"?f[T]:P(f[T],h);if(g){const E=g.length;for(let D=0;D<E;D++)u[g[D]]=w}else u[T]=w}return this.options.layoutId&&(u.pointerEvents=h===this?Dc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(q_),this.root.sharedNodes.clear()}}}function T4(t){t.updateLayout()}function E4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?an(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(f);f.min=r[h].min,f.max=f.min+m}):rb(s,n.layoutBox,r)&&an(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Js();el(a,r,n.layoutBox);const l=Js();o?el(l,t.applyTransform(i,!0),n.measuredBox):el(l,r,n.layoutBox);const u=!eb(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=He();tl(v,n.layoutBox,f.layoutBox);const T=He();tl(T,r,m.layoutBox),tb(v,T)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function S4(t){Ki.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function x4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function I4(t){t.clearSnapshot()}function q_(t){t.clearMeasurements()}function b4(t){t.isLayoutDirty=!1}function C4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function K_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function P4(t){t.resolveTargetDelta()}function A4(t){t.calcProjection()}function k4(t){t.resetRotation()}function R4(t){t.removeLeadSnapshot()}function Y_(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Q_(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function D4(t,e,n,r){Q_(t.x,e.x,n.x,r),Q_(t.y,e.y,n.y,r)}function N4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const O4={duration:.45,ease:[.4,0,.1,1]},X_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),J_=X_("applewebkit/")&&!X_("chrome/")?Math.round:Ue;function Z_(t){t.min=J_(t.min),t.max=J_(t.max)}function V4(t){Z_(t.x),Z_(t.y)}function rb(t,e,n){return t==="position"||t==="preserve-aspect"&&!Sm($_(e),$_(n),.2)}const L4=nb({attachResizeListener:(t,e)=>vr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qf={current:void 0},ib=nb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qf.current){const t=new L4({});t.mount(window),t.setOptions({layoutScroll:!0}),Qf.current=t}return Qf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),M4={pan:{Feature:Zj},drag:{Feature:Jj,ProjectionNode:ib,MeasureLayout:XI}},j4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function F4(t){const e=j4.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Cm(t,e,n=1){const[r,i]=F4(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return UI(o)?parseFloat(o):o}else return gm(i)?Cm(i,e,n+1):i}function U4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!gm(s))return;const o=Cm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!gm(s))continue;const o=Cm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const B4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sb=t=>B4.has(t),z4=t=>Object.keys(t).some(sb),eT=t=>t===ws||t===J,tT=(t,e)=>parseFloat(t.split(", ")[e]),nT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return tT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?tT(s[1],t):0}},$4=new Set(["x","y","z"]),W4=Jl.filter(t=>!$4.has(t));function H4(t){const e=[];return W4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const bo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nT(4,13),y:nT(5,14)};bo.translateX=bo.x;bo.translateY=bo.y;const G4=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=bo[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=bo[u](l,s)}),t},q4=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(sb);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=ka(d);const f=e[l];let m;if(xd(f)){const v=f.length,T=f[0]===null?1:0;d=f[T],h=ka(d);for(let P=T;P<v&&f[P]!==null;P++)m?Dy(ka(f[P])===m):m=ka(f[P])}else m=ka(f);if(h!==m)if(eT(h)&&eT(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===J&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(f):(o||(s=H4(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=G4(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),yh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function K4(t,e,n,r){return z4(e)?q4(t,e,n,r):{target:e,transitionEnd:r}}const Y4=(t,e,n,r)=>{const i=U4(t,e,r);return e=i.target,r=i.transitionEnd,K4(t,e,n,r)},Pm={current:null},ob={current:!1};function Q4(){if(ob.current=!0,!!yh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pm.current=t.matches;t.addListener(e),e()}else Pm.current=!1}function X4(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(qt(s))t.addValue(i,s),Pd(r)&&r.add(i);else if(qt(o))t.addValue(i,Io(s,{owner:t})),Pd(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Io(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const rT=new WeakMap,ab=Object.keys(Pl),J4=ab.length,iT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Z4=xy.length;class eF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ce.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=wh(n),this.isVariantNode=Hx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&qt(f)&&(f.set(a[h],!1),Pd(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,rT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ob.current||Q4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rT.delete(this.current),this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=vs.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ce.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<J4;l++){const u=ab[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Pl[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Qs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iT.length;r++){const i=iT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=X4(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Z4;r++){const i=xy[r],s=this.props[i];(Cl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Io(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Ry(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new By),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lb extends eF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=yj(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){mj(this,r,o);const a=Y4(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function tF(t){return window.getComputedStyle(t)}class nF extends lb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(vs.has(n)){const r=Ly(n);return r&&r.default||0}else{const r=tF(e),i=(Qx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YI(e,n)}build(e,n,r,i){by(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ky(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){nI(e,n,r,i)}}class rF extends lb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vs.has(n)){const r=Ly(n);return r&&r.default||0}return n=rI.has(n)?n:Ey(n),e.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return sI(e,n)}build(e,n,r,i){Py(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){iI(e,n,r,i)}mount(e){this.isSVGTag=Ay(e.tagName),super.mount(e)}}const iF=(t,e)=>Iy(t)?new rF(e,{enableHardwareAcceleration:!1}):new nF(e,{enableHardwareAcceleration:!0}),sF={layout:{ProjectionNode:ib,MeasureLayout:XI}},oF={...Dj,...JL,...M4,...sF},cn=oL((t,e)=>FL(t,e,oF,iF)),aF=()=>{const t=tr(),e=()=>{const n=document.getElementById("contact");n&&n.scrollIntoView({behavior:"smooth"})};return _.jsxs("section",{id:"home",className:"relative min-h-[70vh] flex items-center justify-center overflow-hidden -mt-20",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900"}),_.jsxs("div",{className:"absolute inset-0",children:[_.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),_.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary-600/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),_.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:_.jsxs(cn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8 pt-20",children:[_.jsxs("div",{className:"space-y-4 pt-10",children:[_.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:[_.jsx("span",{className:"gradient-text",children:"Joy English"}),_.jsx("br",{})]}),_.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:['"Learn with Joy,',_.jsx("br",{className:"hidden md:block"}),'Grow with English."']})]}),_.jsxs(cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-col gap-4 justify-center items-center",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[_.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>window.open("https://bit.ly/joy_english","_blank"),children:["커리큘럼 보기",_.jsx(Pa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),_.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:e,children:["상담요청",_.jsx(Pa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),_.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/trial"),children:["무료 시범 강의 신청",_.jsx(Pa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[_.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/group-class"),children:["그룹 클래스 예약",_.jsx(Pa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),_.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/toto-room"),children:["토토방(토요토론방)",_.jsx(Pa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),_.jsx(cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"grid grid-cols-1 md:grid-cols-3 gap-8"})]})}),_.jsx(cn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:_.jsx("div",{className:"w-6 h-10 border-2 border-gray-400 rounded-full flex justify-center",children:_.jsx(cn.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0},className:"w-1 h-3 bg-gray-400 rounded-full mt-2"})})})]})},lF="/assets/joy_instructor-94b923f1.jpg";function sT(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function zy(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:sT(e[r])&&sT(t[r])&&Object.keys(e[r]).length>0&&zy(t[r],e[r])})}const ub={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function _s(){const t=typeof document<"u"?document:{};return zy(t,ub),t}const uF={document:ub,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Mt(){const t=typeof window<"u"?window:{};return zy(t,uF),t}function cF(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function dF(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function cb(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function kd(){return Date.now()}function hF(t){const e=Mt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function fF(t,e){e===void 0&&(e="x");const n=Mt();let r,i,s;const o=hF(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function rc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function pF(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!pF(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(rc(t[a])&&rc(r[a])?r[a].__swiper__?t[a]=r[a]:Xt(t[a],r[a]):!rc(t[a])&&rc(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Xt(t[a],r[a])):t[a]=r[a])}}}return t}function ic(t,e,n){t.style.setProperty(e,n)}function db(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Mt(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",d=(f,m)=>u==="next"&&f>=m||u==="prev"&&f<=m,h=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(f*Math.PI)/2;let v=s+m*(n-s);if(d(v,n)&&(v=n),e.wrapperEl.scrollTo({[r]:v}),d(v,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:v})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function Fn(t,e){e===void 0&&(e="");const n=Mt(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function mF(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function gF(t,e){const n=Mt();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=mF(t,e))),r}function Rd(t){try{console.warn(t);return}catch{}}function Dd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:cF(e)),n}function yF(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function vF(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ni(t,e){return Mt().getComputedStyle(t,null).getPropertyValue(e)}function oT(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function wF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function aT(t,e,n){const r=Mt();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function ur(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function lT(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Xf;function _F(){const t=Mt(),e=_s();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function hb(){return Xf||(Xf=_F()),Xf}let Jf;function TF(t){let{userAgent:e}=t===void 0?{}:t;const n=hb(),r=Mt(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let v=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&v&&n.touch&&T.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),v=!1),u&&!m&&(o.os="android",o.android=!0),(d||f||h)&&(o.os="ios",o.ios=!0),o}function fb(t){return t===void 0&&(t={}),Jf||(Jf=TF(t)),Jf}let Zf;function EF(){const t=Mt(),e=fb();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,u]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function pb(){return Zf||(Zf=EF()),Zf}function SF(t){let{swiper:e,on:n,emit:r}=t;const i=Mt();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:f,height:m}=e;let v=f,T=m;h.forEach(P=>{let{contentBoxSize:g,contentRect:w,target:E}=P;E&&E!==e.el||(v=w?w.width:(g[0]||g).inlineSize,T=w?w.height:(g[0]||g).blockSize)}),(v!==f||T!==m)&&a()})}),s.observe(e.el))},u=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function xF(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Mt(),a=function(d,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,m=new f(v=>{if(e.__preventObserver__)return;if(v.length===1){i("observerUpdate",v[0]);return}const T=function(){i("observerUpdate",v[0])};o.requestAnimationFrame?o.requestAnimationFrame(T):o.setTimeout(T,0)});m.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=wF(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",u)}var IF={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(r,n)})}),t}};function bF(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ni(r,"padding-left")||0,10)-parseInt(ni(r,"padding-right")||0,10),n=n-parseInt(ni(r,"padding-top")||0,10)-parseInt(ni(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function CF(){const t=this;function e(C,A){return parseFloat(C.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=Fn(i,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let f=[];const m=[],v=[];let T=n.slidesOffsetBefore;typeof T=="function"&&(T=n.slidesOffsetBefore.call(t));let P=n.slidesOffsetAfter;typeof P=="function"&&(P=n.slidesOffsetAfter.call(t));const g=t.snapGrid.length,w=t.slidesGrid.length;let E=n.spaceBetween,D=-T,V=0,O=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,d.forEach(C=>{o?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ic(r,"--swiper-centered-offset-before",""),ic(r,"--swiper-centered-offset-after",""));const x=n.grid&&n.grid.rows>1&&t.grid;x?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let S;const I=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(C=>typeof n.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<h;C+=1){S=0;let A;if(d[C]&&(A=d[C]),x&&t.grid.updateSlide(C,A,d),!(d[C]&&ni(A,"display")==="none")){if(n.slidesPerView==="auto"){I&&(d[C].style[t.getDirectionLabel("width")]="");const N=getComputedStyle(A),R=A.style.transform,X=A.style.webkitTransform;if(R&&(A.style.transform="none"),X&&(A.style.webkitTransform="none"),n.roundLengths)S=t.isHorizontal()?aT(A,"width",!0):aT(A,"height",!0);else{const ne=e(N,"width"),W=e(N,"padding-left"),se=e(N,"padding-right"),U=e(N,"margin-left"),z=e(N,"margin-right"),H=N.getPropertyValue("box-sizing");if(H&&H==="border-box")S=ne+U+z;else{const{clientWidth:Y,offsetWidth:ie}=A;S=ne+W+se+U+z+(ie-Y)}}R&&(A.style.transform=R),X&&(A.style.webkitTransform=X),n.roundLengths&&(S=Math.floor(S))}else S=(s-(n.slidesPerView-1)*E)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),d[C]&&(d[C].style[t.getDirectionLabel("width")]=`${S}px`);d[C]&&(d[C].swiperSlideSize=S),v.push(S),n.centeredSlides?(D=D+S/2+V/2+E,V===0&&C!==0&&(D=D-s/2-E),C===0&&(D=D-s/2-E),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),O%n.slidesPerGroup===0&&f.push(D),m.push(D)):(n.roundLengths&&(D=Math.floor(D)),(O-Math.min(t.params.slidesPerGroupSkip,O))%t.params.slidesPerGroup===0&&f.push(D),m.push(D),D=D+S+E),t.virtualSize+=S+E,V=S,O+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+P,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+E}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+E}px`),x&&t.grid.updateWrapperSize(S,f),!n.centeredSlides){const C=[];for(let A=0;A<f.length;A+=1){let N=f[A];n.roundLengths&&(N=Math.floor(N)),f[A]<=t.virtualSize-s&&C.push(N)}f=C,Math.floor(t.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-s)}if(l&&n.loop){const C=v[0]+E;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),N=C*n.slidesPerGroup;for(let R=0;R<A;R+=1)f.push(f[f.length-1]+N)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+C),m.push(m[m.length-1]+C),t.virtualSize+=C}if(f.length===0&&(f=[0]),E!==0){const C=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((A,N)=>!n.cssMode||n.loop?!0:N!==d.length-1).forEach(A=>{A.style[C]=`${E}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let C=0;v.forEach(N=>{C+=N+(E||0)}),C-=E;const A=C>s?C-s:0;f=f.map(N=>N<=0?-T:N>A?A+P:N)}if(n.centerInsufficientSlides){let C=0;v.forEach(N=>{C+=N+(E||0)}),C-=E;const A=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(C+A<s){const N=(s-C-A)/2;f.forEach((R,X)=>{f[X]=R-N}),m.forEach((R,X)=>{m[X]=R+N})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:m,slidesSizesGrid:v}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ic(r,"--swiper-centered-offset-before",`${-f[0]}px`),ic(r,"--swiper-centered-offset-after",`${t.size/2-v[v.length-1]/2}px`);const C=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(N=>N+C),t.slidesGrid=t.slidesGrid.map(N=>N+A)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const C=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(C);h<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(C):A&&t.el.classList.remove(C)}}function PF(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function AF(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const uT=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function kF(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const u=r[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),f=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),m=-(o-d),v=m+e.slidesSizesGrid[l],T=m>=0&&m<=e.size-e.slidesSizesGrid[l],P=m>=0&&m<e.size-1||v>1&&v<=e.size||m<=0&&v>=e.size;P&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),uT(u,P,n.slideVisibleClass),uT(u,T,n.slideFullyVisibleClass),u.progress=i?-h:h,u.originalProgress=i?-f:f}}function RF(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,u=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||i<=0,o=h||i>=1,d&&(i=0),h&&(i=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],m=e.slidesGrid[h],v=e.slidesGrid[e.slidesGrid.length-1],T=Math.abs(t);T>=f?a=(T-f)/v:a=(T+v-m)/v,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const ep=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function DF(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>Fn(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,u,d;if(s)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(h=>h.column===i),d=e.find(h=>h.column===i+1),u=e.find(h=>h.column===i-1)):l=e[i];l&&(o||(d=vF(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=yF(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{ep(h,h===l,n.slideActiveClass),ep(h,h===d,n.slideNextClass),ep(h,h===u,n.slidePrevClass)}),t.emitSlidesClasses()}const Oc=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},tp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Am=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+r+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&tp(t,u)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&tp(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&tp(t,o)};function NF(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function OF(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,u;const d=m=>{let v=m-e.virtual.slidesBefore;return v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),v};if(typeof l>"u"&&(l=NF(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);u=m+Math.floor((l-m)/i.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===s&&!e.params.loop){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=d(l);else if(h){const m=e.slides.find(T=>T.column===l);let v=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(v)&&(v=Math.max(e.slides.indexOf(m),0)),f=Math.floor(v/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?f=parseInt(m,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:f,previousIndex:s,activeIndex:l}),e.initialized&&Am(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function VF(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var LF={updateSize:bF,updateSlides:CF,updateAutoHeight:PF,updateSlidesOffset:AF,updateSlidesProgress:kF,updateProgress:RF,updateSlidesClasses:DF,updateActiveIndex:OF,updateClickedSlide:VF};function MF(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=fF(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function jF(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function FF(){return-this.snapGrid[0]}function UF(){return-this.snapGrid[this.snapGrid.length-1]}function BF(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let d;if(r&&t>l?d=l:r&&t<u?d=u:d=t,s.updateProgress(d),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return db({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var zF={getTranslate:MF,setTranslate:jF,minTranslate:FF,maxTranslate:UF,translateTo:BF};function $F(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function mb(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&a==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function WF(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),mb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function HF(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),mb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var GF={setTransition:$F,transitionStart:WF,transitionEnd:HF};function qF(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:m,enabled:v}=s;if(!v&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const T=Math.min(s.params.slidesPerGroupSkip,o);let P=T+Math.floor((o-T)/s.params.slidesPerGroup);P>=l.length&&(P=l.length-1);const g=-l[P];if(a.normalizeSlideIndex)for(let x=0;x<u.length;x+=1){const S=-Math.floor(g*100),I=Math.floor(u[x]*100),C=Math.floor(u[x+1]*100);typeof u[x+1]<"u"?S>=I&&S<C-(C-I)/2?o=x:S>=I&&S<C&&(o=x+1):S>=I&&(o=x)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(f?g>s.translate&&g>s.minTranslate():g<s.translate&&g<s.minTranslate())||!s.allowSlidePrev&&g>s.translate&&g>s.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(g);let w;o>h?w="next":o<h?w="prev":w="reset";const E=s.virtual&&s.params.virtual.enabled;if(!(E&&i)&&(f&&-g===s.translate||!f&&g===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(g),w!=="reset"&&(s.transitionStart(n,w),s.transitionEnd(n,w)),!1;if(a.cssMode){const x=s.isHorizontal(),S=f?g:-g;if(e===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[x?"scrollLeft":"scrollTop"]=S})):m[x?"scrollLeft":"scrollTop"]=S,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return db({swiper:s,targetPosition:S,side:x?"left":"top"}),!0;m.scrollTo({[x?"left":"top"]:S,behavior:"smooth"})}return!0}const O=pb().isSafari;return E&&!i&&O&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,w),e===0?s.transitionEnd(n,w):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(S){!s||s.destroyed||S.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,w))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function KF(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const f=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=l-a<d;if(u&&(h=h||a<Math.ceil(d/2)),r&&u&&i.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const f=u?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(s){const f=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function YF(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,u=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function QF(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=a?r.translate:-r.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const m=f(h),v=s.map(w=>f(w)),T=i.freeMode&&i.freeMode.enabled;let P=s[v.indexOf(m)-1];if(typeof P>"u"&&(i.cssMode||T)){let w;s.forEach((E,D)=>{m>=E&&(w=D)}),typeof w<"u"&&(P=T?s[w]:s[w>0?w-1:w])}let g=0;if(typeof P<"u"&&(g=o.indexOf(P),g<0&&(g=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(g,t,e,n)}),!0;return r.slideTo(g,t,e,n)}function XF(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function JF(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const u=i.snapGrid[a],d=i.snapGrid[a+1];l-u>(d-u)*r&&(s+=i.params.slidesPerGroup)}else{const u=i.snapGrid[a-1],d=i.snapGrid[a];l-u<=(d-u)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function ZF(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(Fn(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),cb(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var e3={slideTo:qF,slideToLoop:KF,slideNext:YF,slidePrev:QF,slideReset:XF,slideToClosest:JF,slideToClickedSlide:ZF};function t3(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Fn(i,`.${r.slideClass}, swiper-slide`).forEach((m,v)=>{m.setAttribute("data-swiper-slide-index",v)})},o=()=>{const f=Fn(i,`.${r.slideBlankClass}`);f.forEach(m=>{m.remove()}),f.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&o();const l=r.slidesPerGroup*(a?r.grid.rows:1),u=n.slides.length%l!==0,d=a&&n.slides.length%r.grid.rows!==0,h=f=>{for(let m=0;m<f;m+=1){const v=n.isElement?Dd("swiper-slide",[r.slideBlankClass]):Dd("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(v)}};if(u){if(r.loopAddBlankSlides){const f=l-n.slides.length%l;h(f),n.recalcSlides(),n.updateSlides()}else Rd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(d){if(r.loopAddBlankSlides){const f=r.grid.rows-n.slides.length%r.grid.rows;h(f),n.recalcSlides(),n.updateSlides()}else Rd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function n3(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:f,slidesEl:m,params:v}=u,{centeredSlides:T,initialSlide:P}=v;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&v.virtual.enabled){n&&(!v.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):v.centeredSlides&&u.snapIndex<v.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=h,u.allowSlideNext=f,u.emit("loopFix");return}let g=v.slidesPerView;g==="auto"?g=u.slidesPerViewDynamic():(g=Math.ceil(parseFloat(v.slidesPerView,10)),T&&g%2===0&&(g=g+1));const w=v.slidesPerGroupAuto?g:v.slidesPerGroup;let E=T?Math.max(w,Math.ceil(g/2)):w;E%w!==0&&(E+=w-E%w),E+=v.loopAdditionalSlides,u.loopedSlides=E;const D=u.grid&&v.grid&&v.grid.rows>1;d.length<g+E||u.params.effect==="cards"&&d.length<g+E*2?Rd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):D&&v.grid.fill==="row"&&Rd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const V=[],O=[],x=D?Math.ceil(d.length/v.grid.rows):d.length,S=o&&x-P<g&&!T;let I=S?P:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.find(W=>W.classList.contains(v.slideActiveClass))):I=s;const C=r==="next"||!r,A=r==="prev"||!r;let N=0,R=0;const ne=(D?d[s].column:s)+(T&&typeof i>"u"?-g/2+.5:0);if(ne<E){N=Math.max(E-ne,w);for(let W=0;W<E-ne;W+=1){const se=W-Math.floor(W/x)*x;if(D){const U=x-se-1;for(let z=d.length-1;z>=0;z-=1)d[z].column===U&&V.push(z)}else V.push(x-se-1)}}else if(ne+g>x-E){R=Math.max(ne-(x-E*2),w),S&&(R=Math.max(R,g-x+P+1));for(let W=0;W<R;W+=1){const se=W-Math.floor(W/x)*x;D?d.forEach((U,z)=>{U.column===se&&O.push(z)}):O.push(se)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<g+E*2&&(O.includes(s)&&O.splice(O.indexOf(s),1),V.includes(s)&&V.splice(V.indexOf(s),1)),A&&V.forEach(W=>{d[W].swiperLoopMoveDOM=!0,m.prepend(d[W]),d[W].swiperLoopMoveDOM=!1}),C&&O.forEach(W=>{d[W].swiperLoopMoveDOM=!0,m.append(d[W]),d[W].swiperLoopMoveDOM=!1}),u.recalcSlides(),v.slidesPerView==="auto"?u.updateSlides():D&&(V.length>0&&A||O.length>0&&C)&&u.slides.forEach((W,se)=>{u.grid.updateSlide(se,W,u.slides)}),v.watchSlidesProgress&&u.updateSlidesOffset(),n){if(V.length>0&&A){if(typeof e>"u"){const W=u.slidesGrid[I],U=u.slidesGrid[I+N]-W;l?u.setTranslate(u.translate-U):(u.slideTo(I+Math.ceil(N),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-U,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-U))}else if(i){const W=D?V.length/v.grid.rows:V.length;u.slideTo(u.activeIndex+W,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(O.length>0&&C)if(typeof e>"u"){const W=u.slidesGrid[I],U=u.slidesGrid[I-R]-W;l?u.setTranslate(u.translate-U):(u.slideTo(I-R,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-U,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-U))}else{const W=D?O.length/v.grid.rows:O.length;u.slideTo(u.activeIndex-W,0,!1,!0)}}if(u.allowSlidePrev=h,u.allowSlideNext=f,u.controller&&u.controller.control&&!a){const W={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...W,slideTo:se.params.slidesPerView===v.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...W,slideTo:u.controller.control.params.slidesPerView===v.slidesPerView?n:!1})}u.emit("loopFix")}function r3(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var i3={loopCreate:t3,loopFix:n3,loopDestroy:r3};function s3(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function o3(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var a3={setGrabCursor:s3,unsetGrabCursor:o3};function l3(t,e){e===void 0&&(e=this);function n(r){if(!r||r===_s()||r===Mt())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function cT(t,e,n){const r=Mt(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function u3(t){const e=this,n=_s();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){cT(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!gF(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(f?l3(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,v=o.currentY;if(!cT(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=v,i.touchStartTime=kd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let T=!0;l.matches(i.focusableElements)&&(T=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const P=T&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||P)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function c3(t){const e=_s(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(O=>O.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=kd());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;const f=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(f**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let O;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:f*f+m*m>=25&&(O=Math.atan2(Math.abs(m),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?O>i.touchAngle:90-O>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let v=n.isHorizontal()?f:m,T=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(v=Math.abs(v)*(o?1:-1),T=Math.abs(T)*(o?1:-1)),s.diff=v,v*=i.touchRatio,o&&(v=-v,T=-T);const P=n.touchesDirection;n.swipeDirection=v>0?"prev":"next",n.touchesDirection=T>0?"prev":"next";const g=n.params.loop&&!i.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(g&&w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const O=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(O)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let E;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&P!==n.touchesDirection&&g&&w&&Math.abs(v)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=v+r.startTranslate;let D=!0,V=i.resistanceRatio;if(i.touchReleaseOnEdges&&(V=0),v>0?(g&&w&&!E&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+v)**V))):v<0&&(g&&w&&!E&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-v)**V))),D&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(v)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function d3(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(V=>V.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=kd(),f=h-n.touchStartTime;if(e.allowClick){const V=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(V&&V[0]||r.target,V),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=kd(),cb(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const v=m>=-e.maxTranslate()&&!e.params.loop;let T=0,P=e.slidesSizesGrid[0];for(let V=0;V<u.length;V+=V<o.slidesPerGroupSkip?1:o.slidesPerGroup){const O=V<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[V+O]<"u"?(v||m>=u[V]&&m<u[V+O])&&(T=V,P=u[V+O]-u[V]):(v||m>=u[V])&&(T=V,P=u[u.length-1]-u[u.length-2])}let g=null,w=null;o.rewind&&(e.isBeginning?w=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(g=0));const E=(m-u[T])/P,D=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?g:T+D):e.slideTo(T)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(T+D):w!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(w):e.slideTo(T))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(T+D):e.slideTo(T):(e.swipeDirection==="next"&&e.slideTo(g!==null?g:T+D),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:T))}}function dT(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function h3(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function f3(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function p3(t){const e=this;Oc(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function m3(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const gb=(t,e)=>{const n=_s(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",dT,!0):t[u]("observerUpdate",dT,!0),i[l]("load",t.onLoad,{capture:!0}))};function g3(){const t=this,{params:e}=t;t.onTouchStart=u3.bind(t),t.onTouchMove=c3.bind(t),t.onTouchEnd=d3.bind(t),t.onDocumentTouchStart=m3.bind(t),e.cssMode&&(t.onScroll=f3.bind(t)),t.onClick=h3.bind(t),t.onLoad=p3.bind(t),gb(t,"on")}function y3(){gb(this,"off")}var v3={attachEvents:g3,detachEvents:y3};const hT=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function w3(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=_s(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),u=t.getBreakpoint(s,a,l);if(!u||t.currentBreakpoint===u)return;const h=(u in s?s[u]:void 0)||t.originalParams,f=hT(t,r),m=hT(t,h),v=t.params.grabCursor,T=h.grabCursor,P=r.enabled;f&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),v&&!T?t.unsetGrabCursor():!v&&T&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(O=>{if(typeof h[O]>"u")return;const x=r[O]&&r[O].enabled,S=h[O]&&h[O].enabled;x&&!S&&t[O].disable(),!x&&S&&t[O].enable()});const g=h.direction&&h.direction!==r.direction,w=r.loop&&(h.slidesPerView!==r.slidesPerView||g),E=r.loop;g&&n&&t.changeDirection(),Xt(t.params,h);const D=t.params.enabled,V=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),P&&!D?t.disable():!P&&D&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",h),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!E&&V?(t.loopCreate(e),t.updateSlides()):E&&!V&&t.loopDestroy()),t.emit("breakpoint",h)}function _3(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Mt(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}var T3={setBreakpoint:w3,getBreakpoint:_3};function E3(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function S3(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=E3(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function x3(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var I3={addClasses:S3,removeClasses:x3};function b3(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var C3={checkOverflow:b3},km={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function P3(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Xt(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Xt(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Xt(e,r)}}const np={eventsEmitter:IF,update:LF,translate:zF,transition:GF,slide:e3,loop:i3,grabCursor:a3,events:v3,breakpoints:T3,checkOverflow:C3,classes:I3},rp={};let $y=class cr{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Xt({},n),e&&!n.el&&(n.el=e);const o=_s();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Xt({},n,{el:h});d.push(new cr(f))}),d}const a=this;a.__swiper__=!0,a.support=hb(),a.device=fb({userAgent:n.userAgent}),a.browser=pb(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:P3(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=Xt({},km,l);return a.params=Xt({},u,rp,n),a.originalParams=Xt({},a.params),a.passedParams=Xt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Fn(n,`.${r.slideClass}, swiper-slide`),s=oT(i[0]);return oT(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Fn(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=r;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=s[u]?Math.ceil(s[u].swiperSlideSize):0,f;for(let m=u+1;m<s.length;m+=1)s[m]&&!f&&(h+=Math.ceil(s[m].swiperSlideSize),d+=1,h>l&&(f=!0));for(let m=u-1;m>=0;m-=1)s[m]&&!f&&(h+=s[m].swiperSlideSize,d+=1,h>l&&(f=!0))}else if(e==="current")for(let h=u+1;h<s.length;h+=1)(n?o[h]+a[h]-o[u]<l:o[h]-o[u]<l)&&(d+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Oc(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Fn(r,i())[0])();return!o&&n.params.createElements&&(o=Dd("div",n.params.wrapperClass),r.append(o),Fn(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ni(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ni(r,"direction")==="rtl"),wrongRTL:ni(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Oc(n,s):s.addEventListener("load",o=>{Oc(n,o.target)})}),Am(n),n.initialized=!0,Am(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),dF(r)),r.destroyed=!0),null}static extendDefaults(e){Xt(rp,e)}static get extendedDefaults(){return rp}static get defaults(){return km}static installModule(e){cr.prototype.__modules__||(cr.prototype.__modules__=[]);const n=cr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>cr.installModule(n)),cr):(cr.installModule(e),cr)}};Object.keys(np).forEach(t=>{Object.keys(np[t]).forEach(e=>{$y.prototype[e]=np[t][e]})});$y.use([SF,xF]);const yb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ho(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:fs(e[r])&&fs(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ho(t[r],e[r]):t[r]=e[r]})}function vb(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function wb(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function _b(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Tb(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function A3(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function k3(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:m,virtual:v,thumbs:T}=e;let P,g,w,E,D,V,O,x;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(P=!0),i.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(g=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(w=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(E=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(D=!0);const S=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),d[I].prevEl=void 0,d[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),d[I].el=void 0,e[I].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!r.loop?V=!0:!d.loop&&r.loop?O=!0:x=!0),u.forEach(I=>{if(fs(d[I])&&fs(r[I]))Object.assign(d[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&S(I);else{const C=r[I];(C===!0||C===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?C===!1&&S(I):d[I]=r[I]}}),u.includes("controller")&&!g&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&n&&v&&d.virtual.enabled?(v.slides=n,v.update(!0)):i.includes("virtual")&&v&&d.virtual.enabled&&(n&&(v.slides=n),v.update(!0)),i.includes("children")&&n&&d.loop&&(x=!0),P&&T.init()&&T.update(!0),g&&(e.controller.control=d.controller.control),w&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),D&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),lT(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),lT(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(V||x)&&e.loopDestroy(),(O||x)&&e.loopCreate(),e.update()}function R3(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};ho(n,km),n._emitClasses=!0,n.init=!1;const s={},o=yb.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?fs(t[l])?(n[l]={},i[l]={},ho(n[l],t[l]),ho(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function D3(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;vb(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),wb(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),_b(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function N3(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),u=n.map(i);l.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return yb.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(fs(t[l])&&fs(e[l])){const u=Object.keys(t[l]),d=Object.keys(e[l]);u.length!==d.length?o(l):(u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const O3=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}function Eb(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Sb(t){const e=[];return Pe.Children.toArray(t).forEach(n=>{Eb(n)?e.push(n):n.props&&n.props.children&&Sb(n.props.children).forEach(r=>e.push(r))}),e}function V3(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pe.Children.toArray(t).forEach(r=>{if(Eb(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=Sb(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function L3(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let d=a;d<l;d+=1)d>=s&&d<=o&&u.push(e[r(d)]);return u.map((d,h)=>Pe.cloneElement(d,{swiper:t,style:i,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function nl(t,e){return typeof window>"u"?k.useEffect(t,e):k.useLayoutEffect(t,e)}const fT=k.createContext(null),M3=k.createContext(null),xb=k.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[u,d]=k.useState("swiper"),[h,f]=k.useState(null),[m,v]=k.useState(!1),T=k.useRef(!1),P=k.useRef(null),g=k.useRef(null),w=k.useRef(null),E=k.useRef(null),D=k.useRef(null),V=k.useRef(null),O=k.useRef(null),x=k.useRef(null),{params:S,passedParams:I,rest:C,events:A}=R3(a),{slides:N,slots:R}=V3(s),X=()=>{v(!m)};Object.assign(S.on,{_containerClasses(z,H){d(H)}});const ne=()=>{Object.assign(S.on,A),l=!0;const z={...S};if(delete z.wrapperClass,g.current=new $y(z),g.current.virtual&&g.current.params.virtual.enabled){g.current.virtual.slides=N;const H={cache:!1,slides:N,renderExternal:f,renderExternalUpdate:!1};ho(g.current.params.virtual,H),ho(g.current.originalParams.virtual,H)}};P.current||ne(),g.current&&g.current.on("_beforeBreakpoint",X);const W=()=>{l||!A||!g.current||Object.keys(A).forEach(z=>{g.current.on(z,A[z])})},se=()=>{!A||!g.current||Object.keys(A).forEach(z=>{g.current.off(z,A[z])})};k.useEffect(()=>()=>{g.current&&g.current.off("_beforeBreakpoint",X)}),k.useEffect(()=>{!T.current&&g.current&&(g.current.emitSlidesClasses(),T.current=!0)}),nl(()=>{if(e&&(e.current=P.current),!!P.current)return g.current.destroyed&&ne(),D3({el:P.current,nextEl:D.current,prevEl:V.current,paginationEl:O.current,scrollbarEl:x.current,swiper:g.current},S),o&&!g.current.destroyed&&o(g.current),()=>{g.current&&!g.current.destroyed&&g.current.destroy(!0,!1)}},[]),nl(()=>{W();const z=N3(I,w.current,N,E.current,H=>H.key);return w.current=I,E.current=N,z.length&&g.current&&!g.current.destroyed&&k3({swiper:g.current,slides:N,passedParams:I,changedParams:z,nextEl:D.current,prevEl:V.current,scrollbarEl:x.current,paginationEl:O.current}),()=>{se()}}),nl(()=>{O3(g.current)},[h]);function U(){return S.virtual?L3(g.current,N,h):N.map((z,H)=>Pe.cloneElement(z,{swiper:g.current,swiperSlideIndex:H}))}return Pe.createElement(r,Nd({ref:P,className:Tb(`${u}${n?` ${n}`:""}`)},C),Pe.createElement(M3.Provider,{value:g.current},R["container-start"],Pe.createElement(i,{className:A3(S.wrapperClass)},R["wrapper-start"],U(),R["wrapper-end"]),vb(S)&&Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{ref:V,className:"swiper-button-prev"}),Pe.createElement("div",{ref:D,className:"swiper-button-next"})),_b(S)&&Pe.createElement("div",{ref:x,className:"swiper-scrollbar"}),wb(S)&&Pe.createElement("div",{ref:O,className:"swiper-pagination"}),R["container-end"]))});xb.displayName="Swiper";const Ib=k.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=k.useRef(null),[f,m]=k.useState("swiper-slide"),[v,T]=k.useState(!1);function P(D,V,O){V===h.current&&m(O)}nl(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){f!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",P),()=>{s&&s.off("_slideClass",P)}}}),nl(()=>{s&&h.current&&!s.destroyed&&m(s.getSlideClasses(h.current))},[s]);const g={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},w=()=>typeof r=="function"?r(g):r,E=()=>{T(!0)};return Pe.createElement(n,Nd({ref:h,className:Tb(`${f}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:E},d),o&&Pe.createElement(fT.Provider,{value:g},Pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},w(),a&&!v&&Pe.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Pe.createElement(fT.Provider,{value:g},w(),a&&!v&&Pe.createElement("div",{className:"swiper-lazy-preloader"})))});Ib.displayName="SwiperSlide";function j3(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Fn(t.el,`.${r[i]}`)[0];s||(s=Dd("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function F3(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(v){let T;return v&&typeof v=="string"&&e.isElement&&(T=e.el.querySelector(v)||e.hostEl.querySelector(v),T)?T:(v&&(typeof v=="string"&&(T=[...document.querySelectorAll(v)]),e.params.uniqueNavElements&&typeof v=="string"&&T&&T.length>1&&e.el.querySelectorAll(v).length===1?T=e.el.querySelector(v):T&&T.length===1&&(T=T[0])),v&&!T?v:T)}function o(v,T){const P=e.params.navigation;v=ur(v),v.forEach(g=>{g&&(g.classList[T?"add":"remove"](...P.disabledClass.split(" ")),g.tagName==="BUTTON"&&(g.disabled=T),e.params.watchOverflow&&e.enabled&&g.classList[e.isLocked?"add":"remove"](P.lockClass))})}function a(){const{nextEl:v,prevEl:T}=e.navigation;if(e.params.loop){o(T,!1),o(v,!1);return}o(T,e.isBeginning&&!e.params.rewind),o(v,e.isEnd&&!e.params.rewind)}function l(v){v.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(v){v.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const v=e.params.navigation;if(e.params.navigation=j3(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(v.nextEl||v.prevEl))return;let T=s(v.nextEl),P=s(v.prevEl);Object.assign(e.navigation,{nextEl:T,prevEl:P}),T=ur(T),P=ur(P);const g=(w,E)=>{w&&w.addEventListener("click",E==="next"?u:l),!e.enabled&&w&&w.classList.add(...v.lockClass.split(" "))};T.forEach(w=>g(w,"next")),P.forEach(w=>g(w,"prev"))}function h(){let{nextEl:v,prevEl:T}=e.navigation;v=ur(v),T=ur(T);const P=(g,w)=>{g.removeEventListener("click",w==="next"?u:l),g.classList.remove(...e.params.navigation.disabledClass.split(" "))};v.forEach(g=>P(g,"next")),T.forEach(g=>P(g,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(d(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:v,prevEl:T}=e.navigation;if(v=ur(v),T=ur(T),e.enabled){a();return}[...v,...T].filter(P=>!!P).forEach(P=>P.classList.add(e.params.navigation.lockClass))}),r("click",(v,T)=>{let{nextEl:P,prevEl:g}=e.navigation;P=ur(P),g=ur(g);const w=T.target;let E=g.includes(w)||P.includes(w);if(e.isElement&&!E){const D=T.path||T.composedPath&&T.composedPath();D&&(E=D.find(V=>P.includes(V)||g.includes(V)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===w||e.pagination.el.contains(w)))return;let D;P.length?D=P[0].classList.contains(e.params.navigation.hiddenClass):g.length&&(D=g[0].classList.contains(e.params.navigation.hiddenClass)),i(D===!0?"navigationShow":"navigationHide"),[...P,...g].filter(V=>!!V).forEach(V=>V.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:m,update:a,init:d,destroy:h})}const U3=()=>{const[t,e]=k.useState([{name:"양**",role:"외국계 제약회사 Sales rep",content:"제 눈높이에 맞춰서 차근차근 잘 알려주세요. 수업을 진행하면서 제가 필요한 부분을 물어보고 계속 반영해주시는 것이 너무 좋고, 딱딱하지 않고 유쾌하고 즐거운 분위기까지 좋습니다~",rating:5},{name:"김**",role:"무역회사 대표",content:"쉽게 기초부터 알려주십니다. 덕분에 실력이 느는것 같습니다. 감사합니다.",rating:5},{name:"최**",role:"쥬얼리회사 대표",content:"비즈니스 커리큘럼을 기반으로 수업을 진행하시는데, 거기에 저의 상황까지 고려하여 폭넓게 수업을 진행해주십니다. 제가 질문에 단순한 문장으로 대답할 때마다, 쉬운 단어를 조합해서 더욱 풍성하게 문장을 만드는 연습을 할 수 있도록 도와주시는 점이 가장 이 수업에서 마음에 드는 부분입니다. 저는 선생님 성격도 너무 중요한데.. 유쾌하시고 꼼꼼하셔서, 수업 시간이 즐겁고 매우 유익합니다. 이벤트를 언제까지 하실지 모르겠지만 첫달은 아주 합리적인 수업료로 제공하시더라구요. 고민하시는 분들이 있으시다면 부담없이 들어보고 결정하시는 것도 좋을 것 같습니다.",rating:5},{name:"최**",role:"외국계 반도체 회사 임원",content:"부족한 점에 대해서 정확히 파악 후 지속적으로 수정 및 개선될 수 있도록 가르쳐 주셔서 굉장히 많은 도움이 됩니다. 항상 진심으로 감사합니다 .",rating:5},{name:"유**",role:"쿠* 매니저",content:"매우 체계적으로 수업이 진행됩니다.",rating:5},{name:"크**",role:"금융계 실무자",content:"합리적인 비용으로 친절하게 수업해주십니다, 중간중간 수업방향에 대해 함께 짚고 넘어가면서 더 만족스러운 수업이 됐던 것 같습니다. 국내 대학원 영어 면접과 관련되어 수업을 했는데, 발음이나 문법뿐만 아니라 내용이나 면접에서 영어로 말하는 방식도 짚어 주십니다. 실력자 분이시니 망설이지말고 수업 들어보시길 권해드립니다~",rating:5},{name:"박**",role:"현* 모터스 임원",content:"우선 개인별 영어 실력의 수준 파악을 위한 사전 테스트와 결과체크를 꼼꼼히 해주셨어요 제가 보완하고자 하는 부분에 대해 상세히 상담하고, 사전 테스트 결과를 고려해서 수준에 맞고 적합한 레벨을 선정하여 진행해주셨습니다. 제 개인 사정으로 긴 시간동안 진행하지는 못했지만 열정적으로 학습자의 목적에 맞게 수업 진행해주셔서 정말 감사했습니다:)",rating:5}]);return k.useState({name:"",role:"",content:"",rating:5}),k.useState(""),_.jsx("section",{id:"about",className:"py-10 bg-dark-900 mt-0",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[_.jsx(cn.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"space-y-8",children:_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:_.jsx("span",{className:"gradient-text",children:"✓ Instructor Experiences/Job Roles"})}),_.jsxs("ul",{className:"text-xl text-gray-300 leading-relaxed mb-8 list-disc list-inside space-y-2",children:[_.jsx("li",{children:"Digital Media Contents Project Lead/Project Manager"}),_.jsx("li",{children:"IT Computer Academy Instructor (Web & Computer Graphics)"}),_.jsx("li",{children:"E-commerce Business Co-founder/Operations/Digital Marketing"}),_.jsx("li",{children:"Music Industry Digital Marketing/Data Analysis"})]})]})}),_.jsxs(cn.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[_.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[_.jsx("img",{src:lF,alt:"Instructor",className:"w-full h-96 object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900/80 via-transparent to-transparent"})]}),_.jsx(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"absolute -bottom-8 -left-8 bg-dark-800 rounded-xl p-6 shadow-2xl",children:_.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold gradient-text",children:"300+"}),_.jsx("div",{className:"text-gray-400 text-sm",children:"수강생"})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold gradient-text",children:"5년+"}),_.jsx("div",{className:"text-gray-400 text-sm",children:"운영 경력"})]})]})})]})]}),_.jsxs(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"mt-20",children:[_.jsx("h3",{className:"text-3xl font-bold text-center mb-12",children:_.jsx("span",{className:"gradient-text",children:"수강생 후기"})}),_.jsx(xb,{modules:[F3],navigation:!0,spaceBetween:24,slidesPerView:3,className:"testimonial-swiper",style:{paddingBottom:32},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},children:t.map((n,r)=>_.jsx(Ib,{children:_.jsx(B3,{testimonial:n})},r))})]})]})})},B3=({testimonial:t})=>{const[e,n]=k.useState(!1),r="h-64 md:h-64",i="text-2l",s=Pe.useRef(null),[o,a]=k.useState(!1);return Pe.useEffect(()=>{s.current&&a(s.current.scrollHeight>s.current.clientHeight)},[t.content,e]),_.jsxs(cn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`card flex flex-col justify-between ${r}`,children:[_.jsx("div",{className:"flex items-center mb-2",children:[...Array(t.rating)].map((l,u)=>_.jsx(cV,{size:16,className:"text-yellow-400 fill-current"},u))}),_.jsx("div",{className:"flex-1 flex flex-col justify-between min-h-0",children:_.jsxs("div",{className:"relative flex-1 min-h-0",children:[_.jsxs("div",{ref:s,className:`text-gray-300 leading-relaxed ${i} ${e?"overflow-y-auto pr-2":"overflow-hidden line-clamp-2"} transition-all duration-200`,style:{wordBreak:"break-word",maxHeight:e?"8.5rem":void 0,minHeight:"3.5rem"},children:['"',t.content,'"']}),!e&&o&&_.jsx("div",{className:"absolute right-0 bottom-0 w-full flex justify-end bg-gradient-to-t from-dark-800 via-transparent to-transparent pt-2",children:_.jsx("button",{className:"text-primary-400 underline text-base",onClick:()=>n(!0),children:"더보기"})}),e&&_.jsx("div",{className:"flex justify-end mt-2",children:_.jsx("button",{className:"text-primary-400 underline text-base",onClick:()=>n(!1),children:"닫기"})})]})}),_.jsxs("div",{className:"pt-2 border-t border-gray-700 mt-2",children:[_.jsx("div",{className:"font-semibold text-white text-sm",children:t.name}),_.jsx("div",{className:"text-gray-400 text-xs",children:t.role})]})]})};var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,bb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function I(){}I.prototype=S.prototype,x.D=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(C,A,N){for(var R=Array(arguments.length-2),X=2;X<arguments.length;X++)R[X-2]=arguments[X];return S.prototype[A].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,S,I){I||(I=0);var C=Array(16);if(typeof S=="string")for(var A=0;16>A;++A)C[A]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(A=0;16>A;++A)C[A]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],A=x.g[2];var N=x.g[3],R=S+(N^I&(A^N))+C[0]+3614090360&4294967295;S=I+(R<<7&4294967295|R>>>25),R=N+(A^S&(I^A))+C[1]+3905402710&4294967295,N=S+(R<<12&4294967295|R>>>20),R=A+(I^N&(S^I))+C[2]+606105819&4294967295,A=N+(R<<17&4294967295|R>>>15),R=I+(S^A&(N^S))+C[3]+3250441966&4294967295,I=A+(R<<22&4294967295|R>>>10),R=S+(N^I&(A^N))+C[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=N+(A^S&(I^A))+C[5]+1200080426&4294967295,N=S+(R<<12&4294967295|R>>>20),R=A+(I^N&(S^I))+C[6]+2821735955&4294967295,A=N+(R<<17&4294967295|R>>>15),R=I+(S^A&(N^S))+C[7]+4249261313&4294967295,I=A+(R<<22&4294967295|R>>>10),R=S+(N^I&(A^N))+C[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=N+(A^S&(I^A))+C[9]+2336552879&4294967295,N=S+(R<<12&4294967295|R>>>20),R=A+(I^N&(S^I))+C[10]+4294925233&4294967295,A=N+(R<<17&4294967295|R>>>15),R=I+(S^A&(N^S))+C[11]+2304563134&4294967295,I=A+(R<<22&4294967295|R>>>10),R=S+(N^I&(A^N))+C[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=N+(A^S&(I^A))+C[13]+4254626195&4294967295,N=S+(R<<12&4294967295|R>>>20),R=A+(I^N&(S^I))+C[14]+2792965006&4294967295,A=N+(R<<17&4294967295|R>>>15),R=I+(S^A&(N^S))+C[15]+1236535329&4294967295,I=A+(R<<22&4294967295|R>>>10),R=S+(A^N&(I^A))+C[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=N+(I^A&(S^I))+C[6]+3225465664&4294967295,N=S+(R<<9&4294967295|R>>>23),R=A+(S^I&(N^S))+C[11]+643717713&4294967295,A=N+(R<<14&4294967295|R>>>18),R=I+(N^S&(A^N))+C[0]+3921069994&4294967295,I=A+(R<<20&4294967295|R>>>12),R=S+(A^N&(I^A))+C[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=N+(I^A&(S^I))+C[10]+38016083&4294967295,N=S+(R<<9&4294967295|R>>>23),R=A+(S^I&(N^S))+C[15]+3634488961&4294967295,A=N+(R<<14&4294967295|R>>>18),R=I+(N^S&(A^N))+C[4]+3889429448&4294967295,I=A+(R<<20&4294967295|R>>>12),R=S+(A^N&(I^A))+C[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=N+(I^A&(S^I))+C[14]+3275163606&4294967295,N=S+(R<<9&4294967295|R>>>23),R=A+(S^I&(N^S))+C[3]+4107603335&4294967295,A=N+(R<<14&4294967295|R>>>18),R=I+(N^S&(A^N))+C[8]+1163531501&4294967295,I=A+(R<<20&4294967295|R>>>12),R=S+(A^N&(I^A))+C[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=N+(I^A&(S^I))+C[2]+4243563512&4294967295,N=S+(R<<9&4294967295|R>>>23),R=A+(S^I&(N^S))+C[7]+1735328473&4294967295,A=N+(R<<14&4294967295|R>>>18),R=I+(N^S&(A^N))+C[12]+2368359562&4294967295,I=A+(R<<20&4294967295|R>>>12),R=S+(I^A^N)+C[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=N+(S^I^A)+C[8]+2272392833&4294967295,N=S+(R<<11&4294967295|R>>>21),R=A+(N^S^I)+C[11]+1839030562&4294967295,A=N+(R<<16&4294967295|R>>>16),R=I+(A^N^S)+C[14]+4259657740&4294967295,I=A+(R<<23&4294967295|R>>>9),R=S+(I^A^N)+C[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=N+(S^I^A)+C[4]+1272893353&4294967295,N=S+(R<<11&4294967295|R>>>21),R=A+(N^S^I)+C[7]+4139469664&4294967295,A=N+(R<<16&4294967295|R>>>16),R=I+(A^N^S)+C[10]+3200236656&4294967295,I=A+(R<<23&4294967295|R>>>9),R=S+(I^A^N)+C[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=N+(S^I^A)+C[0]+3936430074&4294967295,N=S+(R<<11&4294967295|R>>>21),R=A+(N^S^I)+C[3]+3572445317&4294967295,A=N+(R<<16&4294967295|R>>>16),R=I+(A^N^S)+C[6]+76029189&4294967295,I=A+(R<<23&4294967295|R>>>9),R=S+(I^A^N)+C[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=N+(S^I^A)+C[12]+3873151461&4294967295,N=S+(R<<11&4294967295|R>>>21),R=A+(N^S^I)+C[15]+530742520&4294967295,A=N+(R<<16&4294967295|R>>>16),R=I+(A^N^S)+C[2]+3299628645&4294967295,I=A+(R<<23&4294967295|R>>>9),R=S+(A^(I|~N))+C[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=N+(I^(S|~A))+C[7]+1126891415&4294967295,N=S+(R<<10&4294967295|R>>>22),R=A+(S^(N|~I))+C[14]+2878612391&4294967295,A=N+(R<<15&4294967295|R>>>17),R=I+(N^(A|~S))+C[5]+4237533241&4294967295,I=A+(R<<21&4294967295|R>>>11),R=S+(A^(I|~N))+C[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=N+(I^(S|~A))+C[3]+2399980690&4294967295,N=S+(R<<10&4294967295|R>>>22),R=A+(S^(N|~I))+C[10]+4293915773&4294967295,A=N+(R<<15&4294967295|R>>>17),R=I+(N^(A|~S))+C[1]+2240044497&4294967295,I=A+(R<<21&4294967295|R>>>11),R=S+(A^(I|~N))+C[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=N+(I^(S|~A))+C[15]+4264355552&4294967295,N=S+(R<<10&4294967295|R>>>22),R=A+(S^(N|~I))+C[6]+2734768916&4294967295,A=N+(R<<15&4294967295|R>>>17),R=I+(N^(A|~S))+C[13]+1309151649&4294967295,I=A+(R<<21&4294967295|R>>>11),R=S+(A^(I|~N))+C[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=N+(I^(S|~A))+C[11]+3174756917&4294967295,N=S+(R<<10&4294967295|R>>>22),R=A+(S^(N|~I))+C[2]+718787259&4294967295,A=N+(R<<15&4294967295|R>>>17),R=I+(N^(A|~S))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+A&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var I=S-this.blockSize,C=this.B,A=this.h,N=0;N<S;){if(A==0)for(;N<=I;)i(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<S;)if(C[A++]=x.charCodeAt(N++),A==this.blockSize){i(this,C),A=0;break}}else for(;N<S;)if(C[A++]=x[N++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var I=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=I&255,I/=256;for(this.u(x),x=Array(16),S=I=0;4>S;++S)for(var C=0;32>C;C+=8)x[I++]=this.g[S]>>>C&255;return x};function s(x,S){var I=a;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function o(x,S){this.h=S;for(var I=[],C=!0,A=x.length-1;0<=A;A--){var N=x[A]|0;C&&N==S||(I[A]=N,C=!1)}this.g=I}var a={};function l(x){return-128<=x&&128>x?s(x,function(S){return new o([S|0],0>S?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return P(u(-x));for(var S=[],I=1,C=0;x>=I;C++)S[C]=x/I|0,I*=4294967296;return new o(S,0)}function d(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return P(d(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),C=h,A=0;A<x.length;A+=8){var N=Math.min(8,x.length-A),R=parseInt(x.substring(A,A+N),S);8>N?(N=u(Math.pow(S,N)),C=C.j(N).add(u(R))):(C=C.j(I),C=C.add(u(R)))}return C}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();for(var x=0,S=1,I=0;I<this.g.length;I++){var C=this.i(I);x+=(0<=C?C:4294967296+C)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(T(this))return"-"+P(this).toString(x);for(var S=u(Math.pow(x,6)),I=this,C="";;){var A=D(I,S).g;I=g(I,A.j(S));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=A,v(I))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function T(x){return x.h==-1}t.l=function(x){return x=g(this,x),T(x)?-1:v(x)?0:1};function P(x){for(var S=x.g.length,I=[],C=0;C<S;C++)I[C]=~x.g[C];return new o(I,~x.h).add(f)}t.abs=function(){return T(this)?P(this):this},t.add=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],C=0,A=0;A<=S;A++){var N=C+(this.i(A)&65535)+(x.i(A)&65535),R=(N>>>16)+(this.i(A)>>>16)+(x.i(A)>>>16);C=R>>>16,N&=65535,R&=65535,I[A]=R<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function g(x,S){return x.add(P(S))}t.j=function(x){if(v(this)||v(x))return h;if(T(this))return T(x)?P(this).j(P(x)):P(P(this).j(x));if(T(x))return P(this.j(P(x)));if(0>this.l(m)&&0>x.l(m))return u(this.m()*x.m());for(var S=this.g.length+x.g.length,I=[],C=0;C<2*S;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<x.g.length;A++){var N=this.i(C)>>>16,R=this.i(C)&65535,X=x.i(A)>>>16,ne=x.i(A)&65535;I[2*C+2*A]+=R*ne,w(I,2*C+2*A),I[2*C+2*A+1]+=N*ne,w(I,2*C+2*A+1),I[2*C+2*A+1]+=R*X,w(I,2*C+2*A+1),I[2*C+2*A+2]+=N*X,w(I,2*C+2*A+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new o(I,0)};function w(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function E(x,S){this.g=x,this.h=S}function D(x,S){if(v(S))throw Error("division by zero");if(v(x))return new E(h,h);if(T(x))return S=D(P(x),S),new E(P(S.g),P(S.h));if(T(S))return S=D(x,P(S)),new E(P(S.g),S.h);if(30<x.g.length){if(T(x)||T(S))throw Error("slowDivide_ only works with positive integers.");for(var I=f,C=S;0>=C.l(x);)I=V(I),C=V(C);var A=O(I,1),N=O(C,1);for(C=O(C,2),I=O(I,2);!v(C);){var R=N.add(C);0>=R.l(x)&&(A=A.add(I),N=R),C=O(C,1),I=O(I,1)}return S=g(x,A.j(S)),new E(A,S)}for(A=h;0<=x.l(S);){for(I=Math.max(1,Math.floor(x.m()/S.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(I),R=N.j(S);T(R)||0<R.l(x);)I-=C,N=u(I),R=N.j(S);v(N)&&(N=f),A=A.add(N),x=g(x,R)}return new E(A,x)}t.A=function(x){return D(this,x).h},t.and=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)&x.i(C);return new o(I,this.h&x.h)},t.or=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)|x.i(C);return new o(I,this.h|x.h)},t.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],C=0;C<S;C++)I[C]=this.i(C)^x.i(C);return new o(I,this.h^x.h)};function V(x){for(var S=x.g.length+1,I=[],C=0;C<S;C++)I[C]=x.i(C)<<1|x.i(C-1)>>>31;return new o(I,x.h)}function O(x,S){var I=S>>5;S%=32;for(var C=x.g.length-I,A=[],N=0;N<C;N++)A[N]=0<S?x.i(N+I)>>>S|x.i(N+I+1)<<32-S:x.i(N+I);return new o(A,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,yi=o}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,Ma,Pb,Vc,Rm,Ab,kb,Rb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in y))break e;y=y[L]}c=c[c.length-1],b=y[c],p=p(b),p!=b&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,b=!1,L={next:function(){if(!b&&y<c.length){var M=y++;return{value:p(M,c[M]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function v(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(b,L,M){for(var $=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];return p.prototype[L].apply(b,$)}}function T(c){const p=c.length;if(0<p){const y=Array(p);for(let b=0;b<p;b++)y[b]=c[b];return y}return[]}function P(c,p){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(l(b)){const L=c.length||0,M=b.length||0;c.length=L+M;for(let $=0;$<M;$++)c[L+$]=b[$]}else c.push(b)}}class g{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var V=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(c,p,y){for(const b in c)p.call(y,c[b],b,c)}function x(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function S(c){const p={};for(const y in c)p[y]=c[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let y,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(y in b)c[y]=b[y];for(let M=0;M<I.length;M++)y=I[M],Object.prototype.hasOwnProperty.call(b,y)&&(c[y]=b[y])}}function A(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function N(c){a.setTimeout(()=>{throw c},0)}function R(){var c=z;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,y){const b=ne.get();b.set(p,y),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new g(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let se,U=!1,z=new X,H=()=>{const c=a.Promise.resolve(void 0);se=()=>{c.then(Y)}};var Y=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(y){N(y)}var p=ne;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}U=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function yt(c,p){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(V){e:{try{D(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yt.aa.h.call(this)}}v(yt,me);var $e={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),nr=0;function jt(c,p,y,b,L){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!b,this.ha=L,this.key=++nr,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vt(c){this.src=c,this.g={},this.h=0}vt.prototype.add=function(c,p,y,b,L){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var $=Mi(c,p,b,L);return-1<$?(p=c[$],y||(p.fa=!1)):(p=new jt(p,this.src,M,!!b,L),p.fa=y,c.push(p)),p};function rr(c,p){var y=p.type;if(y in c.g){var b=c.g[y],L=Array.prototype.indexOf.call(b,p,void 0),M;(M=0<=L)&&Array.prototype.splice.call(b,L,1),M&&(Kt(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Mi(c,p,y,b){for(var L=0;L<c.length;++L){var M=c[L];if(!M.da&&M.listener==p&&M.capture==!!y&&M.ha==b)return L}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),ir={};function kt(c,p,y,b,L){if(b&&b.once)return Qo(c,p,y,b,L);if(Array.isArray(p)){for(var M=0;M<p.length;M++)kt(c,p[M],y,b,L);return null}return y=ea(y),c&&c[Ke]?c.K(p,y,u(b)?!!b.capture:!!b,L):ji(c,p,y,!1,b,L)}function ji(c,p,y,b,L,M){if(!p)throw Error("Invalid event type");var $=u(L)?!!L.capture:!!L,_e=Jo(c);if(_e||(c[Re]=_e=new vt(c)),y=_e.add(p,y,b,$,M),y.proxy)return y;if(b=du(),y.proxy=b,b.src=c,b.listener=y,c.addEventListener)ot||(L=$),L===void 0&&(L=!1),c.addEventListener(p.toString(),b,L);else if(c.attachEvent)c.attachEvent(fu(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function du(){function c(y){return p.call(c.src,c.listener,y)}const p=pu;return c}function Qo(c,p,y,b,L){if(Array.isArray(p)){for(var M=0;M<p.length;M++)Qo(c,p[M],y,b,L);return null}return y=ea(y),c&&c[Ke]?c.L(p,y,u(b)?!!b.capture:!!b,L):ji(c,p,y,!0,b,L)}function hu(c,p,y,b,L){if(Array.isArray(p))for(var M=0;M<p.length;M++)hu(c,p[M],y,b,L);else b=u(b)?!!b.capture:!!b,y=ea(y),c&&c[Ke]?(c=c.i,p=String(p).toString(),p in c.g&&(M=c.g[p],y=Mi(M,y,b,L),-1<y&&(Kt(M[y]),Array.prototype.splice.call(M,y,1),M.length==0&&(delete c.g[p],c.h--)))):c&&(c=Jo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Mi(p,y,b,L)),(y=-1<c?p[c]:null)&&Xo(y))}function Xo(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ke])rr(p.i,c);else{var y=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(y,b,c.capture):p.detachEvent?p.detachEvent(fu(y),b):p.addListener&&p.removeListener&&p.removeListener(b),(y=Jo(p))?(rr(y,c),y.h==0&&(y.src=null,p[Re]=null)):Kt(c)}}}function fu(c){return c in ir?ir[c]:ir[c]="on"+c}function pu(c,p){if(c.da)c=!0;else{p=new yt(p,this);var y=c.listener,b=c.ha||c.src;c.fa&&Xo(c),c=y.call(b,p)}return c}function Jo(c){return c=c[Re],c instanceof vt?c:null}var Zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(c){return typeof c=="function"?c:(c[Zo]||(c[Zo]=function(p){return c.handleEvent(p)}),c[Zo])}function Ze(){ie.call(this),this.i=new vt(this),this.M=this,this.F=null}v(Ze,ie),Ze.prototype[Ke]=!0,Ze.prototype.removeEventListener=function(c,p,y,b){hu(this,c,p,y,b)};function at(c,p){var y,b=c.F;if(b)for(y=[];b;b=b.F)y.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new me(p,c);else if(p instanceof me)p.target=p.target||c;else{var L=p;p=new me(b,c),C(p,L)}if(L=!0,y)for(var M=y.length-1;0<=M;M--){var $=p.g=y[M];L=jr($,b,!0,p)&&L}if($=p.g=c,L=jr($,b,!0,p)&&L,L=jr($,b,!1,p)&&L,y)for(M=0;M<y.length;M++)$=p.g=y[M],L=jr($,b,!1,p)&&L}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],b=0;b<y.length;b++)Kt(y[b]);delete c.g[p],c.h--}}this.F=null},Ze.prototype.K=function(c,p,y,b){return this.i.add(String(c),p,!1,y,b)},Ze.prototype.L=function(c,p,y,b){return this.i.add(String(c),p,!0,y,b)};function jr(c,p,y,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,M=0;M<p.length;++M){var $=p[M];if($&&!$.da&&$.capture==y){var _e=$.listener,lt=$.ha||$.src;$.fa&&rr(c.i,$),L=_e.call(lt,b)!==!1&&L}}return L&&!b.defaultPrevented}function ta(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function na(c){c.g=ta(()=>{c.g=null,c.i&&(c.i=!1,na(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class qh extends ie{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(c){ie.call(this),this.h=c,this.g={}}v(Rn,ie);var ra=[];function mu(c){O(c.g,function(p,y){this.g.hasOwnProperty(y)&&Xo(p)},c),c.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),mu(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=a.JSON.stringify,gu=a.JSON.parse,ia=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function sa(){}sa.prototype.h=null;function oa(c){return c.h||(c.h=c.i())}function yu(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){me.call(this,"d")}v(et,me);function tt(){me.call(this,"c")}v(tt,me);var sn={},Te=null;function Rt(){return Te=Te||new Ze}sn.La="serverreachability";function vu(c){me.call(this,sn.La,c)}v(vu,me);function sr(c){const p=Rt();at(p,new vu(p))}sn.STAT_EVENT="statevent";function aa(c,p){me.call(this,sn.STAT_EVENT,c),this.stat=p}v(aa,me);function nt(c){const p=Rt();at(p,new aa(p,c))}sn.Ma="timingevent";function Ps(c,p){me.call(this,sn.Ma,c),this.size=p}v(Ps,me);function Dn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function or(){this.g=!0}or.prototype.xa=function(){this.g=!1};function la(c,p,y,b,L,M){c.info(function(){if(c.g)if(M)for(var $="",_e=M.split("&"),lt=0;lt<_e.length;lt++){var pe=_e[lt].split("=");if(1<pe.length){var wt=pe[0];pe=pe[1];var _t=wt.split("_");$=2<=_t.length&&_t[1]=="type"?$+(wt+"="+pe+"&"):$+(wt+"=redacted&")}}else $=null;else $=M;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+p+`
`+y+`
`+$})}function ua(c,p,y,b,L,M,$){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+p+`
`+y+`
`+M+" "+$})}function Ur(c,p,y,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+wu(c,y)+(b?" "+b:"")})}function ca(c,p){c.info(function(){return"TIMEOUT: "+p})}or.prototype.info=function(){};function wu(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var b=y[c];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var $=1;$<L.length;$++)L[$]=""}}}}return Cs(y)}catch{return p}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_u={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oe;function we(){}v(we,sa),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},oe=new we;function ye(c,p,y,b){this.j=c,this.i=p,this.l=y,this.R=b||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var Ut={},Fi={};function da(c,p,y){c.L=1,c.v=Iu(ar(p)),c.m=y,c.P=!0,Tu(c,null)}function Tu(c,p){c.F=Date.now(),Eu(c),c.A=ar(c.v);var y=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),$v(y.i,"t",b),c.C=0,y=c.j.J,c.h=new Ft,c.g=a0(c.j,y?p:null,!c.m),0<c.O&&(c.M=new qh(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,b=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ra[0]=L.toString()),L=ra);for(var M=0;M<L.length;M++){var $=kt(y,L[M],b||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),sr(),la(c.i,c.u,c.A,c.l,c.R,c.m)}ye.prototype.ca=function(c){c=c.target;const p=this.M;p&&lr(c)==3?p.j():this.Y(c)},ye.prototype.Y=function(c){try{if(c==this.g)e:{const _t=lr(this.g);var p=this.g.Ba();const Ds=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Qv(this.g)))){this.J||_t!=4||p==7||(p==8||0>=Ds?sr(3):sr(2)),Kh(this);var y=this.g.Z();this.X=y;t:if(kv(this)){var b=Qv(this.g);c="";var L=b.length,M=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),ha(this);var $="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(M&&p==L-1)});b.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=y==200,ua(this.i,this.u,this.A,this.l,this.R,_t,y),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,lt=this.g;if((_e=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(_e)){var pe=_e;break t}}pe=null}if(y=pe)Ur(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,y);else{this.o=!1,this.s=3,nt(12),Ui(this),ha(this);break e}}if(this.P){y=!0;let wn;for(;!this.J&&this.C<$.length;)if(wn=kP(this,$),wn==Fi){_t==4&&(this.s=4,nt(14),y=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Ut){this.s=4,nt(15),Ur(this.i,this.l,$,"[Invalid Chunk]"),y=!1;break}else Ur(this.i,this.l,wn,null),Yh(this,wn);if(kv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||$.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)Ur(this.i,this.l,$,"[Invalid Chunked Response]"),Ui(this),ha(this);else if(0<$.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),tf(wt),wt.M=!0,nt(11))}}else Ur(this.i,this.l,$,null),Yh(this,$);_t==4&&Ui(this),this.o&&!this.J&&(_t==4?r0(this.j,this):(this.o=!1,Eu(this)))}else qP(this.g),y==400&&0<$.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ui(this),ha(this)}}}catch{}finally{}};function kv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kP(c,p){var y=c.C,b=p.indexOf(`
`,y);return b==-1?Fi:(y=Number(p.substring(y,b)),isNaN(y)?Ut:(b+=1,b+y>p.length?Fi:(p=p.slice(b,b+y),c.C=b+y,p)))}ye.prototype.cancel=function(){this.J=!0,Ui(this)};function Eu(c){c.S=Date.now()+c.I,Rv(c,c.I)}function Rv(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dn(f(c.ba,c),p)}function Kh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ye.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ca(this.i,this.A),this.L!=2&&(sr(),nt(17)),Ui(this),this.s=2,ha(this)):Rv(this,this.S-c)};function ha(c){c.j.G==0||c.J||r0(c.j,c)}function Ui(c){Kh(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,mu(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Yh(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Qh(y.h,c))){if(!c.K&&Qh(y.h,c)&&y.G==3){try{var b=y.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Ru(y),Au(y);else break e;ef(y),nt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Dn(f(y.Za,y),6e3));if(1>=Ov(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else zi(y,11)}else if((c.K||y.g==c)&&Ru(y),!w(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let pe=L[p];if(y.T=pe[0],pe=pe[1],y.G==2)if(pe[0]=="c"){y.K=pe[1],y.ia=pe[2];const wt=pe[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const _t=pe[4];_t!=null&&(y.Aa=_t,y.j.info("SVER="+y.Aa));const Ds=pe[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(b=1.5*Ds,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const wn=c.g;if(wn){const Nu=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nu){var M=b.h;M.g||Nu.indexOf("spdy")==-1&&Nu.indexOf("quic")==-1&&Nu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Xh(M,M.h),M.h=null))}if(b.D){const nf=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;nf&&(b.ya=nf,Se(b.I,b.D,nf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var $=c;if(b.qa=o0(b,b.J?b.ia:null,b.W),$.K){Vv(b.h,$);var _e=$,lt=b.L;lt&&(_e.I=lt),_e.B&&(Kh(_e),Eu(_e)),b.g=$}else t0(b);0<y.i.length&&ku(y)}else pe[0]!="stop"&&pe[0]!="close"||zi(y,7);else y.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?zi(y,7):Zh(y):pe[0]!="noop"&&y.l&&y.l.ta(pe),y.v=0)}}sr(4)}catch{}}var RP=class{constructor(c,p){this.g=c,this.map=p}};function Dv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ov(c){return c.h?1:c.g?c.g.size:0}function Qh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Xh(c,p){c.g?c.g.add(p):c.h=p}function Vv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Dv.prototype.cancel=function(){if(this.i=Lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return T(c.i)}function DP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,b=0;b<y;b++)p.push(c[b]);return p}p=[],y=0;for(b in c)p[y++]=c[b];return p}function NP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const b in c)p[y++]=b;return p}}}function Mv(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=NP(c),b=DP(c),L=b.length,M=0;M<L;M++)p.call(void 0,b[M],y&&y[M],c)}var jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OP(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var b=c[y].indexOf("="),L=null;if(0<=b){var M=c[y].substring(0,b);L=c[y].substring(b+1)}else M=c[y];p(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Bi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bi){this.h=c.h,Su(this,c.j),this.o=c.o,this.g=c.g,xu(this,c.s),this.l=c.l;var p=c.i,y=new ma;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Fv(this,y),this.m=c.m}else c&&(p=String(c).match(jv))?(this.h=!1,Su(this,p[1]||"",!0),this.o=fa(p[2]||""),this.g=fa(p[3]||"",!0),xu(this,p[4]),this.l=fa(p[5]||"",!0),Fv(this,p[6]||"",!0),this.m=fa(p[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Bi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(pa(p,Uv,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(pa(p,Uv,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(pa(y,y.charAt(0)=="/"?MP:LP,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",pa(y,FP)),c.join("")};function ar(c){return new Bi(c)}function Su(c,p,y){c.j=y?fa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function xu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Fv(c,p,y){p instanceof ma?(c.i=p,UP(c.i,c.h)):(y||(p=pa(p,jP)),c.i=new ma(p,c.h))}function Se(c,p,y){c.i.set(p,y)}function Iu(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,VP),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function VP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uv=/[#\/\?@]/g,LP=/[#\?:]/g,MP=/[#\?]/g,jP=/[#\?@]/g,FP=/#/g;function ma(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Br(c){c.g||(c.g=new Map,c.h=0,c.i&&OP(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=ma.prototype,t.add=function(c,p){Br(this),this.i=null,c=ks(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function Bv(c,p){Br(c),p=ks(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function zv(c,p){return Br(c),p=ks(c,p),c.g.has(p)}t.forEach=function(c,p){Br(this),this.g.forEach(function(y,b){y.forEach(function(L){c.call(p,L,b,this)},this)},this)},t.na=function(){Br(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let b=0;b<p.length;b++){const L=c[b];for(let M=0;M<L.length;M++)y.push(p[b])}return y},t.V=function(c){Br(this);let p=[];if(typeof c=="string")zv(this,c)&&(p=p.concat(this.g.get(ks(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return Br(this),this.i=null,c=ks(this,c),zv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function $v(c,p,y){Bv(c,p),0<y.length&&(c.i=null,c.g.set(ks(c,p),T(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var b=p[y];const M=encodeURIComponent(String(b)),$=this.V(b);for(b=0;b<$.length;b++){var L=M;$[b]!==""&&(L+="="+encodeURIComponent(String($[b]))),c.push(L)}}return this.i=c.join("&")};function ks(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function UP(c,p){p&&!c.j&&(Br(c),c.i=null,c.g.forEach(function(y,b){var L=b.toLowerCase();b!=L&&(Bv(this,b),$v(this,L,y))},c)),c.j=p}function BP(c,p){const y=new or;if(a.Image){const b=new Image;b.onload=m(zr,y,"TestLoadImage: loaded",!0,p,b),b.onerror=m(zr,y,"TestLoadImage: error",!1,p,b),b.onabort=m(zr,y,"TestLoadImage: abort",!1,p,b),b.ontimeout=m(zr,y,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function zP(c,p){const y=new or,b=new AbortController,L=setTimeout(()=>{b.abort(),zr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(M=>{clearTimeout(L),M.ok?zr(y,"TestPingServer: ok",!0,p):zr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),zr(y,"TestPingServer: error",!1,p)})}function zr(c,p,y,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(y)}catch{}}function $P(){this.g=new ia}function WP(c,p,y){const b=y||"";try{Mv(c,function(L,M){let $=L;u(L)&&($=Cs(L)),p.push(b+M+"="+encodeURIComponent($))})}catch(L){throw p.push(b+"type="+encodeURIComponent("_badmap")),L}}function bu(c){this.l=c.Ub||null,this.j=c.eb||!1}v(bu,sa),bu.prototype.g=function(){return new Cu(this.l,this.j)},bu.prototype.i=function(c){return function(){return c}}({});function Cu(c,p){Ze.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Cu,Ze),t=Cu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ya(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ga(this):ya(this),this.readyState==3&&Wv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ga(this))},t.Qa=function(c){this.g&&(this.response=c,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ya(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Hv(c){let p="";return O(c,function(y,b){p+=b,p+=":",p+=y,p+=`\r
`}),p}function Jh(c,p,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Hv(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Se(c,p,y))}function je(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(je,Ze);var HP=/^https?$/i,GP=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oe.g(),this.v=this.o?oa(this.o):oa(oe),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){Gv(this,M);return}if(c=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)y.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const M of b.keys())y.set(M,b.get(M));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(M=>M.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GP,p,void 0))||b||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,$]of y)this.g.setRequestHeader(M,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yv(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Gv(this,M)}};function Gv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,qv(c),Pu(c)}function qv(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),Pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pu(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kv(this):this.bb())},t.bb=function(){Kv(this)};function Kv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||lr(c)!=4||c.Z()!=2)){if(c.u&&lr(c)==4)ta(c.Ea,0,c);else if(at(c,"readystatechange"),lr(c)==4){c.h=!1;try{const $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var b;if(b=$===0){var L=String(c.D).match(jv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),b=!HP.test(L?L.toLowerCase():"")}y=b}if(y)at(c,"complete"),at(c,"success");else{c.m=6;try{var M=2<lr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",qv(c)}}finally{Pu(c)}}}}function Pu(c,p){if(c.g){Yv(c);const y=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||at(c,"ready");try{y.onreadystatechange=b}catch{}}}function Yv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),gu(p)}};function Qv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qP(c){const p={};c=(c.g&&2<=lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(w(c[b]))continue;var y=A(c[b]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const M=p[L]||[];p[L]=M,M.push(y)}x(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function Xv(c){this.Aa=0,this.i=[],this.j=new or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,c),this.cb=va("retryDelaySeedMs",1e4,c),this.Wa=va("forwardChannelMaxRetries",2,c),this.wa=va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Dv(c&&c.concurrentRequestLimit),this.Da=new $P,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xv.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,b){nt(0),this.W=c,this.H=p||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=o0(this,null,this.W),ku(this)};function Zh(c){if(Jv(c),c.G==3){var p=c.U++,y=ar(c.I);if(Se(y,"SID",c.K),Se(y,"RID",p),Se(y,"TYPE","terminate"),wa(c,y),p=new ye(c,c.j,p),p.L=2,p.v=Iu(ar(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=a0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Eu(p)}s0(c)}function Au(c){c.g&&(tf(c),c.g.cancel(),c.g=null)}function Jv(c){Au(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ru(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ku(c){if(!Nv(c.h)&&!c.s){c.s=!0;var p=c.Ga;se||H(),U||(se(),U=!0),z.add(p,c),c.B=0}}function KP(c,p){return Ov(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dn(f(c.Ga,c,p),i0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ye(this,this.j,c);let M=this.o;if(this.S&&(M?(M=S(M),C(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=e0(this,L,p),y=ar(this.I),Se(y,"RID",c),Se(y,"CVER",22),this.D&&Se(y,"X-HTTP-Session-Id",this.D),wa(this,y),M&&(this.O?p="headers="+encodeURIComponent(String(Hv(M)))+"&"+p:this.m&&Jh(y,this.m,M)),Xh(this.h,L),this.Ua&&Se(y,"TYPE","init"),this.P?(Se(y,"$req",p),Se(y,"SID","null"),L.T=!0,da(L,y,null)):da(L,y,p),this.G=2}}else this.G==3&&(c?Zv(this,c):this.i.length==0||Nv(this.h)||Zv(this))};function Zv(c,p){var y;p?y=p.l:y=c.U++;const b=ar(c.I);Se(b,"SID",c.K),Se(b,"RID",y),Se(b,"AID",c.T),wa(c,b),c.m&&c.o&&Jh(b,c.m,c.o),y=new ye(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=e0(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xh(c.h,y),da(y,b,p)}function wa(c,p){c.H&&O(c.H,function(y,b){Se(p,b,y)}),c.l&&Mv({},function(y,b){Se(p,b,y)})}function e0(c,p,y){y=Math.min(c.i.length,y);var b=c.l?f(c.l.Na,c.l,c):null;e:{var L=c.i;let M=-1;for(;;){const $=["count="+y];M==-1?0<y?(M=L[0].g,$.push("ofs="+M)):M=0:$.push("ofs="+M);let _e=!0;for(let lt=0;lt<y;lt++){let pe=L[lt].g;const wt=L[lt].map;if(pe-=M,0>pe)M=Math.max(0,L[lt].g-100),_e=!1;else try{WP(wt,$,"req"+pe+"_")}catch{b&&b(wt)}}if(_e){b=$.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,b}function t0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;se||H(),U||(se(),U=!0),z.add(p,c),c.v=0}}function ef(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dn(f(c.Fa,c),i0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,n0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dn(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Au(this),n0(this))};function tf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function n0(c){c.g=new ye(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ar(c.qa);Se(p,"RID","rpc"),Se(p,"SID",c.K),Se(p,"AID",c.T),Se(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(p,"TO",c.ja),Se(p,"TYPE","xmlhttp"),wa(c,p),c.m&&c.o&&Jh(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Iu(ar(p)),y.m=null,y.P=!0,Tu(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Au(this),ef(this),nt(19))};function Ru(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function r0(c,p){var y=null;if(c.g==p){Ru(c),tf(c),c.g=null;var b=2}else if(Qh(c.h,p))y=p.D,Vv(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;b=Rt(),at(b,new Ps(b,y)),ku(c)}else t0(c);else if(L=p.s,L==3||L==0&&0<p.X||!(b==1&&KP(c,p)||b==2&&ef(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),L){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function i0(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function zi(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),b=c.Xa;const L=!b;b=new Bi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Su(b,"https"),Iu(b),L?BP(b.toString(),y):zP(b.toString(),y)}else nt(2);c.G=0,c.l&&c.l.sa(p),s0(c),Jv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function s0(c){if(c.G=0,c.ka=[],c.l){const p=Lv(c.h);(p.length!=0||c.i.length!=0)&&(P(c.ka,p),P(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function o0(c,p,y){var b=y instanceof Bi?ar(y):new Bi(y);if(b.g!="")p&&(b.g=p+"."+b.g),xu(b,b.s);else{var L=a.location;b=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var M=new Bi(null);b&&Su(M,b),p&&(M.g=p),L&&xu(M,L),y&&(M.l=y),b=M}return y=c.D,p=c.ya,y&&p&&Se(b,y,p),Se(b,"VER",c.la),wa(c,b),b}function a0(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new je(new bu({eb:y})):new je(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function l0(){}t=l0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Du(){}Du.prototype.g=function(c,p){return new Yt(c,p)};function Yt(c,p){Ze.call(this),this.g=new Xv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Rs(this)}v(Yt,Ze),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Zh(this.g)},Yt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Cs(c),c=y);p.i.push(new RP(p.Ya++,c)),p.G==3&&ku(p)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,Yt.aa.N.call(this)};function u0(c){et.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}v(u0,et);function c0(){tt.call(this),this.status=1}v(c0,tt);function Rs(c){this.g=c}v(Rs,l0),Rs.prototype.ua=function(){at(this.g,"a")},Rs.prototype.ta=function(c){at(this.g,new u0(c))},Rs.prototype.sa=function(c){at(this.g,new c0)},Rs.prototype.ra=function(){at(this.g,"b")},Du.prototype.createWebChannel=Du.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Rb=function(){return new Du},kb=function(){return Rt()},Ab=sn,Rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Vc=As,_u.COMPLETE="complete",Pb=_u,yu.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Ma=yu,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Cb=je}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const mT="@firebase/firestore",gT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new ty("@firebase/firestore");function Os(){return ps.logLevel}function G(t,...e){if(ps.logLevel<=ue.DEBUG){const n=e.map(Wy);ps.debug(`Firestore (${Bo}): ${t}`,...n)}}function Rr(t,...e){if(ps.logLevel<=ue.ERROR){const n=e.map(Wy);ps.error(`Firestore (${Bo}): ${t}`,...n)}}function xi(t,...e){if(ps.logLevel<=ue.WARN){const n=e.map(Wy);ps.warn(`Firestore (${Bo}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Db(t,r,n)}function Db(t,e,n){let r=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rr(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Db(e,i,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class $3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W3{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new Nb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class H3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new H3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=K3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Dm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{const s=Ob(),o=Y3(s.encode(vT(t,n)),s.encode(vT(e,n)));return o!==0?o:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function vT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function Co(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__name__";class Mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const r=Mn.isNumericId(e),i=Mn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):Dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Ie extends Mn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Mn{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new dt([wT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ie.fromString(e))}static fromName(e){return new Q(Ie.fromString(e).popFirst(5))}static empty(){return new Q(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e,n){if(!n)throw new K(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X3(t,e,n,r){if(e===!0&&r===!0)throw new K(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _T(t){if(!Q.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(Q.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function kl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gy(t);throw new K(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function nu(t,e){if(!Lb(t))throw new K(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new K(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=-62135596800,ST=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ST);return new de(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ET)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ST}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,de._jsonSchema))return new de(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ET;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:qe("string",de._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new de(0,0))}static max(){return new te(new de(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function J3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new de(n+1,0):new de(n,r));return new Ii(i,Q.empty(),e)}function Z3(t){return new Ii(t.readTime,t.key,Rl)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(te.min(),Q.empty(),Rl)}static max(){return new Ii(te.max(),Q.empty(),Rl)}}function e6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==t6)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function r6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Sh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-1;function xh(t){return t==null}function Od(t){return t===0&&1/t==-1/0}function i6(t){return typeof t=="number"&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="";function s6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xT(e)),e=o6(t.get(n),e);return xT(e)}function o6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Mb:n+="";break;default:n+=s}}return n}function xT(t){return t+Mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??ct.EMPTY,this.right=s??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bT(this.data.getIterator())}getIteratorFrom(e){return new bT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class bT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Je(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Fb("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const a6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=a6.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",Bb="__type__",zb="__previous_value__",$b="__local_write_time__";function Ky(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bb])===null||n===void 0?void 0:n.stringValue)===Ub}function Ih(t){const e=t.mapValue.fields[zb];return Ky(e)?Ih(e):e}function Dl(t){const e=bi(t.mapValue.fields[$b].timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Vd="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="__type__",Hb="__max__",ac={mapValue:{fields:{__type__:{stringValue:Hb}}}},Gb="__vector__",Ld="value";function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ky(t)?4:c6(t)?9007199254740991:u6(t)?10:11:Z(28295,{value:t})}function Xn(t,e){if(t===e)return!0;const n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=bi(i.timestampValue),a=bi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ci(i.bytesValue).isEqual(Ci(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?Od(o)===Od(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IT(o)!==IT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xn(o[l],a[l])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function Ol(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=Pi(t),r=Pi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Be(s.integerValue||s.doubleValue),l=Be(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return CT(t.timestampValue,e.timestampValue);case 4:return CT(Dl(t),Dl(e));case 5:return Dm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ci(s),l=Ci(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ae(a[u],l[u]);if(d!==0)return d}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(Be(s.latitude),Be(o.latitude));return a!==0?a:ae(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h[Ld])===null||a===void 0?void 0:a.arrayValue,v=(l=f[Ld])===null||l===void 0?void 0:l.arrayValue,T=ae(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:PT(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ac.mapValue&&o===ac.mapValue)return 0;if(s===ac.mapValue)return 1;if(o===ac.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Dm(l[h],d[h]);if(f!==0)return f;const m=Po(a[l[h]],u[d[h]]);if(m!==0)return m}return ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{le:n})}}function CT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=bi(t),r=bi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function PT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Po(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Ao(t){return Nm(t)}function Nm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ci(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Nm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Nm(n.fields[o])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function Lc(t){switch(Pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(t);return e?16+Lc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ci(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Lc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ts(r.fields,(s,o)=>{i+=s.length+Lc(o)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function Om(t){return!!t&&"integerValue"in t}function Yy(t){return!!t&&"arrayValue"in t}function AT(t){return!!t&&"nullValue"in t}function kT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mc(t){return!!t&&"mapValue"in t}function u6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Wb])===null||n===void 0?void 0:n.stringValue)===Gb}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function c6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(rl(this.value))}}function qb(t){const e=[];return Ts(t.fields,(n,r)=>{const i=new dt([n]);if(Mc(r)){const s=qb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,te.min(),te.min(),te.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,te.min(),te.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,te.min(),te.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.position=e,this.inclusive=n}}function RT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function d6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{}class Qe extends Kb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f6(e,n,r):n==="array-contains"?new g6(e,r):n==="in"?new y6(e,r):n==="not-in"?new v6(e,r):n==="array-contains-any"?new w6(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new p6(e,r):new m6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends Kb{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Jn(e,n)}matches(e){return Yb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Yb(t){return t.op==="and"}function Qb(t){return h6(t)&&Yb(t)}function h6(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function Vm(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(Qb(t))return t.filters.map(e=>Vm(e)).join(",");{const e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function Xb(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Xn(r.value,i.value)}(t,e):t instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Xb(o,i.filters[a]),!0):!1}(t,e):void Z(19439)}function Jb(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Jb).join(" ,")+"}"}(t):"Filter"}class f6 extends Qe{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class p6 extends Qe{constructor(e,n){super(e,"in",n),this.keys=Zb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m6 extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=Zb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class g6 extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yy(n)&&Ol(n.arrayValue,this.value)}}class y6 extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class v6 extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class w6 extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function NT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _6(t,e,n,r,i,s,o)}function Qy(t){const e=re(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),e.Pe=n}return e.Pe}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DT(t.startAt,e.startAt)&&DT(t.endAt,e.endAt)}function Lm(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function T6(t,e,n,r,i,s,o,a){return new bh(t,e,n,r,i,s,o,a)}function eC(t){return new bh(t)}function OT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E6(t){return t.collectionGroup!==null}function il(t){const e=re(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new jd(s,r))}),n.has(dt.keyField().canonicalString())||e.Te.push(new jd(dt.keyField(),r))}return e.Te}function Wn(t){const e=re(t);return e.Ie||(e.Ie=S6(e,il(t))),e.Ie}function S6(t,e){if(t.limitType==="F")return NT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jd(i.field,s)});const n=t.endAt?new Md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Md(t.startAt.position,t.startAt.inclusive):null;return NT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mm(t,e,n){return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return Xy(Wn(t),Wn(e))&&t.limitType===e.limitType}function tC(t){return`${Qy(Wn(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jb(i)).join(", ")}]`),xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ao(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=RT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,il(r),i)||r.endAt&&!function(o,a,l){const u=RT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,il(r),i))}(t,e)}function x6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nC(t){return(e,n)=>{let r=!1;for(const i of il(t)){const s=I6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function I6(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Po(l,u):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new Me(Q.comparator);function Dr(){return b6}const rC=new Me(Q.comparator);function ja(...t){let e=rC;for(const n of t)e=e.insert(n.key,n);return e}function iC(t){let e=rC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return sl()}function sC(){return sl()}function sl(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const C6=new Me(Q.comparator),P6=new Je(Q.comparator);function ce(...t){let e=P6;for(const n of t)e=e.add(n);return e}const A6=new Je(ae);function k6(){return A6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function oC(t){return{integerValue:""+t}}function R6(t,e){return i6(e)?oC(e):Jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function D6(t,e,n){return t instanceof Fd?function(i,s){const o={fields:{[Bb]:{stringValue:Ub},[$b]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ky(s)&&(s=Ih(s)),s&&(o.fields[zb]=s),{mapValue:o}}(n,e):t instanceof Vl?lC(t,e):t instanceof Ll?uC(t,e):function(i,s){const o=aC(i,s),a=VT(o)+VT(i.Ee);return Om(o)&&Om(i.Ee)?oC(a):Jy(i.serializer,a)}(t,e)}function N6(t,e,n){return t instanceof Vl?lC(t,e):t instanceof Ll?uC(t,e):n}function aC(t,e){return t instanceof Ud?function(r){return Om(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fd extends Ah{}class Vl extends Ah{constructor(e){super(),this.elements=e}}function lC(t,e){const n=cC(e);for(const r of t.elements)n.some(i=>Xn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ll extends Ah{constructor(e){super(),this.elements=e}}function uC(t,e){let n=cC(e);for(const r of t.elements)n=n.filter(i=>!Xn(i,r));return{arrayValue:{values:n}}}class Ud extends Ah{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function VT(t){return Be(t.integerValue||t.doubleValue)}function cC(t){return Yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function O6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vl&&i instanceof Vl||r instanceof Ll&&i instanceof Ll?Co(r.elements,i.elements,Xn):r instanceof Ud&&i instanceof Ud?Xn(r.Ee,i.Ee):r instanceof Fd&&i instanceof Fd}(t.transform,e.transform)}class V6{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function dC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zy(t.key,Hn.none()):new ru(t.key,t.data,Hn.none());{const n=t.data,r=dn.empty();let i=new Je(dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ss(t.key,r,new bn(i.toArray()),Hn.none())}}function L6(t,e,n){t instanceof ru?function(i,s,o){const a=i.value.clone(),l=MT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ss?function(i,s,o){if(!jc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=MT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(hC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ol(t,e,n,r){return t instanceof ru?function(s,o,a,l){if(!jc(s.precondition,o))return a;const u=s.value.clone(),d=jT(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ss?function(s,o,a,l){if(!jc(s.precondition,o))return a;const u=jT(s.fieldTransforms,l,o),d=o.data;return d.setAll(hC(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return jc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function M6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aC(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function LT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Co(r,i,(s,o)=>O6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ru extends kh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends kh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function MT(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,N6(o,a,n[i]))}return r}function jT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,D6(s,o,e))}return r}class Zy extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j6 extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&L6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,r)=>LT(n,r))&&Co(this.baseMutations,e.baseMutations,(n,r)=>LT(n,r))}}class ev{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return C6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ev(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,he;function z6(t){switch(t){case F.OK:return Z(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function fC(t){if(t===void 0)return Rr("GRPC error has no .code"),F.UNKNOWN;switch(t){case We.OK:return F.OK;case We.CANCELLED:return F.CANCELLED;case We.UNKNOWN:return F.UNKNOWN;case We.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case We.INTERNAL:return F.INTERNAL;case We.UNAVAILABLE:return F.UNAVAILABLE;case We.UNAUTHENTICATED:return F.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case We.NOT_FOUND:return F.NOT_FOUND;case We.ALREADY_EXISTS:return F.ALREADY_EXISTS;case We.PERMISSION_DENIED:return F.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case We.ABORTED:return F.ABORTED;case We.OUT_OF_RANGE:return F.OUT_OF_RANGE;case We.UNIMPLEMENTED:return F.UNIMPLEMENTED;case We.DATA_LOSS:return F.DATA_LOSS;default:return Z(39323,{code:t})}}(he=We||(We={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new yi([4294967295,4294967295],0);function FT(t){const e=Ob().encode(t),n=new bb;return n.update(e),new Uint8Array(n.digest())}function UT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yi([n,r],0),new yi([i,s],0)]}class tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=yi.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(yi.fromNumber(r)));return i.compare($6)===1&&(i=new yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=FT(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=FT(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rh(te.min(),i,new Me(ae),Dr(),ce())}}class iu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class pC{constructor(e,n){this.targetId=e,this.De=n}}class mC{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BT{constructor(){this.ve=0,this.Ce=zT(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ce(),n=ce(),r=ce();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:s})}}),new iu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=zT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class W6{constructor(e){this.We=e,this.Ge=new Map,this.ze=Dr(),this.je=lc(),this.Je=lc(),this.He=new Me(ae)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(Lm(s))if(r===0){const o=new Q(s.path);this.Xe(n,o,Ct.newNoDocument(o,te.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ci(r).toUint8Array()}catch(l){if(l instanceof Fb)return xi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tv(o,i,s)}catch(l){return xi(l instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&Lm(a.target)){const l=new Q(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ct.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=ce();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new Rh(e,n,this.He,this.ze,r);return this.ze=Dr(),this.je=lc(),this.Je=lc(),this.He=new Me(ae),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new BT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Je(ae),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Je(ae),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new BT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function lc(){return new Me(Q.comparator)}function zT(){return new Me(Q.comparator)}const H6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),G6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),q6=(()=>({and:"AND",or:"OR"}))();class K6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y6(t,e){return Bd(t,e.toTimestamp())}function Gn(t){return ge(!!t,49232),te.fromTimestamp(function(n){const r=bi(n);return new de(r.seconds,r.nanos)}(t))}function nv(t,e){return Fm(t,e).canonicalString()}function Fm(t,e){const n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yC(t){const e=Ie.fromString(t);return ge(EC(e),10190,{key:e.toString()}),e}function Um(t,e){return nv(t.databaseId,e.path)}function ip(t,e){const n=yC(e);if(n.get(1)!==t.databaseId.projectId)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(wC(n))}function vC(t,e){return nv(t.databaseId,e)}function Q6(t){const e=yC(t);return e.length===4?Ie.emptyPath():wC(e)}function Bm(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wC(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $T(t,e,n){return{name:Um(t,e),fields:n.value.mapValue.fields}}function X6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ge(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?F.UNKNOWN:fC(u.code);return new K(d,u.message||"")}(o);n=new mC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ip(t,r.document.name),s=Gn(r.document.updateTime),o=r.document.createTime?Gn(r.document.createTime):te.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Fc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ip(t,r.document),s=r.readTime?Gn(r.readTime):te.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ip(t,r.document),s=r.removedTargetIds||[];n=new Fc([],s,i,null)}else{if(!("filter"in e))return Z(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new B6(i,s),a=r.targetId;n=new pC(a,o)}}return n}function J6(t,e){let n;if(e instanceof ru)n={update:$T(t,e.key,e.value)};else if(e instanceof Zy)n={delete:Um(t,e.key)};else if(e instanceof Ss)n={update:$T(t,e.key,e.data),updateMask:aU(e.fieldMask)};else{if(!(e instanceof j6))return Z(16599,{Rt:e.type});n={verify:Um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Fd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Y6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z(27497)}(t,e.precondition)),n}function Z6(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Gn(i.updateTime):Gn(s);return o.isEqual(te.min())&&(o=Gn(s)),new V6(o,i.transformResults||[])}(n,e))):[]}function eU(t,e){return{documents:[vC(t,e.path)]}}function tU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vC(t,i);const s=function(u){if(u.length!==0)return TC(Jn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ls(f.field),direction:iU(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function nU(t){let e=Q6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=_C(h);return f instanceof Jn&&Qb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new jd(Ms(v.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,xh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Md(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Md(m,f)}(n.endAt)),T6(e,i,o,s,a,"F",l,u)}function rU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _C(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ms(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ms(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ms(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ms(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>_C(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function iU(t){return H6[t]}function sU(t){return G6[t]}function oU(t){return q6[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Ms(t){return dt.fromServerFormat(t.fieldPath)}function TC(t){return t instanceof Qe?function(n){if(n.op==="=="){if(kT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:sU(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(i=>TC(i));return r.length===1?r[0]:{compositeFilter:{op:oU(n.op),filters:r}}}(t):Z(54877,{filter:t})}function aU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s=te.min(),o=te.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.gt=e}}function uU(t){const e=nU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.Dn=new dU}addToCollectionParentIndex(e,n){return this.Dn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Ii.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class dU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SC=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(SC,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ko(0)}static ur(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LruGarbageCollector",hU=1048576;function GT([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class fU{constructor(e){this.Tr=e,this.buffer=new Je(GT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(HT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?G(HT,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Rr(3e5)})}}class mU{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Sh.ue);const r=new fU(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(WT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Os()<=ue.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function gU(t,e){return new mU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ol(r.mutation,i,bn.empty(),de.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ja();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dr();const o=sl(),a=function(){return sl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ss)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ol(d.mutation,u,d.mutation.getFieldMask(),de.now())):o.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new vU(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sl();let i=new Me((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||bn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=sC();d.forEach(f=>{if(!s.has(f)){const m=dC(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(es());let a=Rl,l=s;return o.next(u=>j.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ce())).next(d=>({batchId:a,changes:iC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ja();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const u=function(h,f){return new bh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=ja();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&ol(d.mutation,u,bn.empty(),de.now()),Ph(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return j.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:uU(i.bundledQuery),readTime:Gn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.overlays=new Me(Q.comparator),this.kr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=es(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=es(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return j.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U6(n,r));let s=this.kr.get(n);s===void 0&&(s=ce(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.qr=new Je(rt.Qr),this.$r=new Je(rt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new rt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Q(new Ie([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Q(new Ie([])),r=new rt(n,e),i=new rt(n,e+1);let s=ce();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Q.comparator(e.key,n.key)||ae(e.Hr,n.Hr)}static Ur(e,n){return ae(e.Hr,n.Hr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Je(rt.Qr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new F6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?qy:this.er-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ae);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),j.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new rt(new Q(s),0);let a=new Je(ae);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),j.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return j.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new rt(n,0),i=this.Yr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.ni=e,this.docs=function(){return new Me(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dr();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||e6(Z3(d),r)<=0||(i.has(d.key)||Ph(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}ri(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IU(this)}getSize(e){return j.resolve(this.size)}}class IU extends yU{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.persistence=e,this.ii=new Es(n=>Qy(n),Xy),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new rv,this.targetCount=0,this._i=ko.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),j.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.hr(n),j.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.ai={},this.overlays={},this.ui=new Sh(0),this.ci=!1,this.ci=!0,this.li=new EU,this.referenceDelegate=e(this),this.hi=new bU(this),this.indexManager=new cU,this.remoteDocumentCache=function(i){return new xU(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new lU(n),this.Ti=new _U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new SU(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new CU(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return j.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class CU extends n6{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Ai=new rv,this.Ri=null}static Vi(e){return new iv(e)}get mi(){if(this.Ri)return this.Ri;throw Z(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.mi,r=>{const i=Q.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return j.or([()=>j.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zd{constructor(e,n){this.persistence=e,this.gi=new Es(r=>s6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gU(this,n)}static Vi(e,n){return new zd(e,n)}Ii(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return j.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),j.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lc(e.data.value)),n}Sr(e,n,r){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return BR()?8:r6(At())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new PU;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Os()<=ue.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Os()<=ue.DEBUG&&G("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Os()<=ue.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):j.resolve())}ps(e,n){if(OT(n))return j.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mm(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Mm(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return OT(n)||i.isEqual(te.min())?j.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?j.resolve(null):(Os()<=ue.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.vs(e,o,n,J3(i,Rl)).next(a=>a))})}bs(e,n){let r=new Je(nC(e));return n.forEach((i,s)=>{Ph(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Os()<=ue.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.gs.getDocumentsMatchingQuery(e,n,Ii.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LocalStore",kU=3e8;class RU{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Me(ae),this.Ms=new Es(s=>Qy(s),Xy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wU(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function DU(t,e,n,r){return new RU(t,e,n,r)}async function IC(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function NU(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=j.resolve();return f.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(T=>{const P=u.docVersions.get(v);ge(P!==null,48541),T.version.compareTo(P)<0&&(h.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bC(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function OU(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(T,P,g){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=kU?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(s,m))});let l=Dr(),u=ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(VU(s,o,e.documentUpdates).next(d=>{l=d.Ls,u=d.ks})),!r.isEqual(te.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(h=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function VU(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(ov,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function LU(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MU(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function zm(t,e,n){const r=re(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$o(o))throw o;G(ov,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function qT(t,e,n){const r=re(t);let i=te.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=re(l),f=h.Ms.get(d);return f!==void 0?j.resolve(h.Fs.get(f)):h.hi.getTargetData(u,d)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ce())).next(a=>(jU(r,x6(e),a),{documents:a,qs:s})))}function jU(t,e,n){let r=t.xs.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class KT{constructor(){this.activeTargetIds=k6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FU{constructor(){this.Fo=new KT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new KT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="ConnectivityMonitor";class QT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(YT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){G(YT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function $m(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",BU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zU{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Vd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=$m(),a=this.Go(e,n.toUriEncodedString());G(sp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),d=Vo(u);return this.jo(e,a,l,r,d).then(h=>(G(sp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw xi(sp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=BU[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class WU extends zU{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=$m();return new Promise((a,l)=>{const u=new Cb;u.setWithCredentials(!0),u.listenOnce(Pb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vc.NO_ERROR:const h=u.getResponseJson();G(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Vc.TIMEOUT:G(St,`RPC '${e}' ${o} timed out`),l(new K(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const f=u.getStatus();if(G(St,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const T=function(g){const w=g.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(v.status);l(new K(T,v.message))}else l(new K(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(F.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{G(St,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);G(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=$m(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rb(),a=kb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(St,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const v=new $U({Ho:P=>{m?G(St,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(f||(G(St,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),G(St,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},Yo:()=>h.close()}),T=(P,g,w)=>{P.listen(g,E=>{try{w(E)}catch(D){setTimeout(()=>{throw D},0)}})};return T(h,Ma.EventType.OPEN,()=>{m||(G(St,`RPC '${e}' stream ${i} transport opened.`),v.s_())}),T(h,Ma.EventType.CLOSE,()=>{m||(m=!0,G(St,`RPC '${e}' stream ${i} transport closed`),v.__(),this.I_(h))}),T(h,Ma.EventType.ERROR,P=>{m||(m=!0,xi(St,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),v.__(new K(F.UNAVAILABLE,"The operation could not be completed")))}),T(h,Ma.EventType.MESSAGE,P=>{var g;if(!m){const w=P.data[0];ge(!!w,16349);const E=w,D=(E==null?void 0:E.error)||((g=E[0])===null||g===void 0?void 0:g.error);if(D){G(St,`RPC '${e}' stream ${i} received error:`,D);const V=D.status;let O=function(I){const C=We[I];if(C!==void 0)return fC(C)}(V),x=D.message;O===void 0&&(O=F.INTERNAL,x="Unknown error status: "+V+" with message "+D.message),m=!0,v.__(new K(O,x)),h.close()}else G(St,`RPC '${e}' stream ${i} received:`,w),v.a_(w)}}),T(a,Ab.STAT_EVENT,P=>{P.stat===Rm.PROXY?G(St,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Rm.NOPROXY&&G(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.o_()},0),v}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new K6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="PersistentStream";class PC{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new CC(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new K(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return G(XT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(G(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HU extends PC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=X6(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Gn(o.readTime):te.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Lm(l)?{documents:eU(s,l)}:{query:tU(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=gC(s,o.resumeToken);const u=jm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Bd(s,o.snapshotVersion.toTimestamp());const u=jm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=rU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.k_(n)}}class GU extends PC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Z6(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Bm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J6(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{}class KU extends qU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Fm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(F.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Fm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(F.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class YU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Rr(n),this._a=!1):G("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class QU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{xs(this)&&(G(ms,"Restarting streams for network reachability change."),await async function(l){const u=re(l);u.Ia.add(4),await su(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Nh(u)}(this))})}),this.Aa=new YU(r,i)}}async function Nh(t){if(xs(t))for(const e of t.da)await e(!0)}async function su(t){for(const e of t.da)await e(!1)}function AC(t,e){const n=re(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),cv(n)?uv(n):Wo(n).x_()&&lv(n,e))}function av(t,e){const n=re(t),r=Wo(n);n.Ta.delete(e),r.x_()&&kC(n,e),n.Ta.size===0&&(r.x_()?r.B_():xs(n)&&n.Aa.set("Unknown"))}function lv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).H_(e)}function kC(t,e){t.Ra.$e(e),Wo(t).Y_(e)}function uv(t){t.Ra=new W6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.Aa.aa()}function cv(t){return xs(t)&&!Wo(t).M_()&&t.Ta.size>0}function xs(t){return re(t).Ia.size===0}function RC(t){t.Ra=void 0}async function XU(t){t.Aa.set("Online")}async function JU(t){t.Ta.forEach((e,n)=>{lv(t,e)})}async function ZU(t,e){RC(t),cv(t)?(t.Aa.la(e),uv(t)):t.Aa.set("Unknown")}async function eB(t,e,n){if(t.Aa.set("Online"),e instanceof mC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){G(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $d(t,r)}else if(e instanceof Fc?t.Ra.Ye(e):e instanceof pC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(te.min()))try{const r=await bC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),kC(s,l);const h=new ri(d.target,l,u,d.sequenceNumber);lv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ms,"Failed to raise snapshot:",r),await $d(t,r)}}async function $d(t,e,n){if(!$o(e))throw e;t.Ia.add(1),await su(t),t.Aa.set("Offline"),n||(n=()=>bC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ms,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Nh(t)})}function DC(t,e){return e().catch(n=>$d(t,n,e))}async function Oh(t){const e=re(t),n=Ai(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qy;for(;tB(e);)try{const i=await LU(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,nB(e,i)}catch(i){await $d(e,i)}NC(e)&&OC(e)}function tB(t){return xs(t)&&t.Pa.length<10}function nB(t,e){t.Pa.push(e);const n=Ai(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function NC(t){return xs(t)&&!Ai(t).M_()&&t.Pa.length>0}function OC(t){Ai(t).start()}async function rB(t){Ai(t).na()}async function iB(t){const e=Ai(t);for(const n of t.Pa)e.X_(n.mutations)}async function sB(t,e,n){const r=t.Pa.shift(),i=ev.from(r,e,n);await DC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Oh(t)}async function oB(t,e){e&&Ai(t).Z_&&await async function(r,i){if(function(o){return z6(o)&&o!==F.ABORTED}(i.code)){const s=r.Pa.shift();Ai(r).N_(),await DC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Oh(r)}}(t,e),NC(t)&&OC(t)}async function JT(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G(ms,"RemoteStore received new credentials");const r=xs(n);n.Ia.add(3),await su(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Nh(n)}async function aB(t,e){const n=re(t);e?(n.Ia.delete(2),await Nh(n)):e||(n.Ia.add(2),await su(n),n.Aa.set("Unknown"))}function Wo(t){return t.Va||(t.Va=function(n,r,i){const s=re(n);return s.ia(),new HU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:XU.bind(null,t),e_:JU.bind(null,t),n_:ZU.bind(null,t),J_:eB.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),cv(t)?uv(t):t.Aa.set("Unknown")):(await t.Va.stop(),RC(t))})),t.Va}function Ai(t){return t.ma||(t.ma=function(n,r,i){const s=re(n);return s.ia(),new GU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:rB.bind(null,t),n_:oB.bind(null,t),ea:iB.bind(null,t),ta:sB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Oh(t)):(await t.ma.stop(),t.Pa.length>0&&(G(ms,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new dv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),$o(t))return new K(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.fa=new Me(Q.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Z(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ro{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ro(e,n,fo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class uB{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=eE(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new K(F.ABORTED,"Firestore shutting down"))}}function eE(){return new Es(t=>tC(t),Ch)}async function cB(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new lB,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=hv(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&fv(n)}async function dB(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hB(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&fv(n)}function fB(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function fv(t){t.Da.forEach(e=>{e.next()})}var Wm,tE;(tE=Wm||(Wm={})).Fa="default",tE.Cache="cache";class pB{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.key=e}}class LC{constructor(e){this.key=e}}class mB{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ce(),this.mutatedKeys=ce(),this.Xa=nC(e),this.eu=new fo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new ZT,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Ph(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;f&&m?f.data.isEqual(m.data)?v!==T&&(r.track({type:3,doc:m}),P=!0):this.iu(f,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Xa(m,l)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),P=!0):f&&!m&&(r.track({type:1,doc:f}),P=!0,(l||u)&&(a=!0)),P&&(m?(o=o.add(m),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,v){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{At:P})}};return T(m)-T(v)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new Ro(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ZT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ce(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new LC(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new VC(r))}),n}uu(e){this.Ha=e.qs,this.Za=ce();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ro.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const pv="SyncEngine";class gB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yB{constructor(e){this.key=e,this.lu=!1}}class vB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Es(a=>tC(a),Ch),this.Tu=new Map,this.Iu=new Set,this.du=new Me(Q.comparator),this.Eu=new Map,this.Au=new rv,this.Ru={},this.Vu=new Map,this.mu=ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function wB(t,e,n=!0){const r=zC(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await MC(r,e,n,!0),i}async function _B(t,e){const n=zC(t);await MC(n,e,!0,!1)}async function MC(t,e,n,r){const i=await MU(t.localStore,Wn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await TB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AC(t.remoteStore,i),a}async function TB(t,e,n,r,i){t.gu=(h,f,m)=>async function(T,P,g,w){let E=P.view.nu(g);E.Ds&&(E=await qT(T.localStore,P.query,!1).then(({documents:x})=>P.view.nu(x,E)));const D=w&&w.targetChanges.get(P.targetId),V=w&&w.targetMismatches.get(P.targetId)!=null,O=P.view.applyChanges(E,T.isPrimaryClient,D,V);return rE(T,P.targetId,O._u),O.snapshot}(t,h,f,m);const s=await qT(t.localStore,e,!0),o=new mB(e,s.qs),a=o.nu(s.documents),l=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);rE(t,n,u._u);const d=new gB(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function EB(t,e,n){const r=re(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Ch(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&av(r.remoteStore,i.targetId),Hm(r,i.targetId)}).catch(zo)):(Hm(r,i.targetId),await zm(r.localStore,i.targetId,!0))}async function SB(t,e){const n=re(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),av(n.remoteStore,r.targetId))}async function xB(t,e,n){const r=RB(t);try{const i=await function(o,a){const l=re(o),u=de.now(),d=a.reduce((m,v)=>m.add(v.key),ce());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Dr(),T=ce();return l.Os.getEntries(m,d).next(P=>{v=P,v.forEach((g,w)=>{w.isValidDocument()||(T=T.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(P=>{h=P;const g=[];for(const w of a){const E=M6(w,h.get(w.key).overlayedDocument);E!=null&&g.push(new Ss(w.key,E,qb(E.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(P=>{f=P;const g=P.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(m,P.batchId,g)})}).then(()=>({batchId:f.batchId,changes:iC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new Me(ae)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await ou(r,i.changes),await Oh(r.remoteStore)}catch(i){const s=hv(i,"Failed to persist write");n.reject(s)}}async function jC(t,e){const n=re(t);try{const r=await OU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?ge(o.lu,14607):i.removedDocuments.size>0&&(ge(o.lu,42227),o.lu=!1))}),await ou(n,r,e)}catch(r){await zo(r)}}function nE(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(u=!0)}),u&&fv(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IB(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Me(Q.comparator);o=o.insert(s,Ct.newNoDocument(s,te.min()));const a=ce().add(s),l=new Rh(te.min(),new Map,new Me(ae),o,a);await jC(r,l),r.du=r.du.remove(s),r.Eu.delete(e),mv(r)}else await zm(r.localStore,e,!1).then(()=>Hm(r,e,n)).catch(zo)}async function bB(t,e){const n=re(t),r=e.batch.batchId;try{const i=await NU(n.localStore,e);UC(n,r,null),FC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ou(n,i)}catch(i){await zo(i)}}async function CB(t,e,n){const r=re(t);try{const i=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ge(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);UC(r,e,n),FC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ou(r,i)}catch(i){await zo(i)}}function FC(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function UC(t,e,n){const r=re(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||BC(t,r)})}function BC(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(av(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),mv(t))}function rE(t,e,n){for(const r of n)r instanceof VC?(t.Au.addReference(r.key,e),PB(t,r)):r instanceof LC?(G(pv,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||BC(t,r.key)):Z(19791,{yu:r})}function PB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(G(pv,"New document in limbo: "+n),t.Iu.add(r),mv(t))}function mv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Q(Ie.fromString(e)),r=t.mu.next();t.Eu.set(r,new yB(n)),t.du=t.du.insert(n,r),AC(t.remoteStore,new ri(Wn(eC(n.path)),r,"TargetPurposeLimboResolution",Sh.ue))}}async function ou(t,e,n){const r=re(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=sv.Es(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const d=re(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>j.forEach(u,f=>j.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>j.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!$o(h))throw h;G(ov,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),v=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(v);d.Fs=d.Fs.insert(f,T)}}}(r.localStore,s))}async function AB(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G(pv,"User change. New user:",e.toKey());const r=await IC(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new K(F.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(n,r.Bs)}}function kB(t,e){const n=re(t),r=n.Eu.get(e);if(r&&r.lu)return ce().add(r.key);{let i=ce();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function zC(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IB.bind(null,e),e.hu.J_=hB.bind(null,e.eventManager),e.hu.pu=fB.bind(null,e.eventManager),e}function RB(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CB.bind(null,e),e}class Wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return DU(this.persistence,new AU,e.initialUser,this.serializer)}Du(e){return new xC(iv.Vi,this.serializer)}bu(e){return new FU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wd.provider={build:()=>new Wd};class DB extends Wd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ge(this.persistence.referenceDelegate instanceof zd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pU(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new xC(r=>zd.Vi(r,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AB.bind(null,this.syncEngine),await aB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uB}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(s){return new WU(s)}(e.databaseInfo);return function(s,o,a,l){return new KU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new QU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return QT.C()?new QT:new UU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new vB(i,s,o,a,l,u);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);G(ms,"RemoteStore shutting down."),s.Ia.add(5),await su(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="FirestoreClient";class OB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=Hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(ki,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ki,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ap(t,e){t.asyncQueue.verifyOperationInProgress(),G(ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{xi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{xi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function iE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VB(t);G(ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JT(e.remoteStore,i)),t._onlineComponents=e}async function VB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ki,"Using user provided OfflineComponentProvider");try{await ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xi("Error using user provided cache. Falling back to memory cache: "+n),await ap(t,new Wd)}}else G(ki,"Using default OfflineComponentProvider"),await ap(t,new DB(void 0));return t._offlineComponents}async function $C(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ki,"Using user provided OnlineComponentProvider"),await iE(t,t._uninitializedComponentsProvider._online)):(G(ki,"Using default OnlineComponentProvider"),await iE(t,new Gm))),t._onlineComponents}function LB(t){return $C(t).then(e=>e.syncEngine)}async function MB(t){const e=await $C(t),n=e.eventManager;return n.onListen=wB.bind(null,e.syncEngine),n.onUnlisten=EB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_B.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SB.bind(null,e.syncEngine),n}function jB(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new NB({next:f=>{d.Ou(),o.enqueueAndForget(()=>dB(s,h)),f.fromCache&&l.source==="server"?u.reject(new K(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new pB(a,d,{includeMetadataChanges:!0,ka:!0});return cB(s,h)}(await MB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firestore.googleapis.com",oE=!0;class aE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HC,this.ssl=oE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hU)throw new K(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z3;switch(r.type){case"firstParty":return new G3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sE.get(n);r&&(G("ComponentProvider","Removing Datastore"),sE.delete(n),r.terminate())}(this),Promise.resolve()}}function FB(t,e,n,r={}){var i;t=kl(t,Vh);const s=Vo(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(z1(`https://${l}`),$1("Firestore",!0)),o.host!==HC&&o.host!==l&&xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!cs(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=It.MOCK_USER;else{d=DR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new K(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new It(f)}t._authCredentials=new $3(new Nb(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nu(n,ft._jsonSchema))return new ft(e,r||null,new Q(Ie.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:qe("string",ft._jsonSchemaVersion),referencePath:qe("string")};class wi extends Lh{constructor(e,n,r){super(e,n,eC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new Q(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function Zn(t,e,...n){if(t=yn(t),Vb("collection","path",e),t instanceof Vh){const r=Ie.fromString(e,...n);return TT(r),new wi(t,null,r)}{if(!(t instanceof ft||t instanceof wi))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return TT(r),new wi(t.firestore,null,r)}}function gv(t,e,...n){if(t=yn(t),arguments.length===1&&(e=Hy.newId()),Vb("doc","path",e),t instanceof Vh){const r=Ie.fromString(e,...n);return _T(r),new ft(t,null,new Q(r))}{if(!(t instanceof ft||t instanceof wi))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return _T(r),new ft(t.firestore,t instanceof wi?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new CC(this,"async_queue_retry"),this.oc=()=>{const r=op();r&&G(lE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new vi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$o(e))throw e;G(lE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Rr("INTERNAL UNHANDLED ERROR: ",cE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=dv.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Z(47125,{hc:cE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function cE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Mh extends Vh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function Ho(t,e){const n=typeof t=="object"?t:q1(),r=typeof t=="string"?t:e||Vd,i=ry(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kR("firestore");s&&FB(i,...s)}return i}function GC(t){if(t._terminated)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UB(t),t._firestoreClient}function UB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new l6(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,WC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new OB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hn(gt.fromBase64String(e))}catch(n){throw new K(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hn(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,hn._jsonSchema))return hn.fromBase64String(e.bytes)}}hn._jsonSchemaVersion="firestore/bytes/1.0",hn._jsonSchema={type:qe("string",hn._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qn._jsonSchemaVersion}}static fromJSON(e){if(nu(e,qn._jsonSchema))return new qn(e.latitude,e.longitude)}}qn._jsonSchemaVersion="firestore/geoPoint/1.0",qn._jsonSchema={type:qe("string",qn._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Kn(e.vectorValues);throw new K(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kn._jsonSchemaVersion="firestore/vectorValue/1.0",Kn._jsonSchema={type:qe("string",Kn._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=/^__.*__$/;class zB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}function KC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ec:t})}}class vv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Hd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(KC(this.Ec)&&BB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class $B{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Dc(e,n,r,i=!1){return new vv({Ec:e,methodName:n,bc:r,path:dt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WB(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new $B(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HB(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);JC("Data must be an object, but it was:",o,r);const a=QC(r,o);let l,u;if(s.merge)l=new bn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=GB(e,h,n);if(!o.contains(f))throw new K(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);KB(d,f)||d.push(f)}l=new bn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new zB(new dn(a),l,u)}function YC(t,e){if(XC(t=yn(t)))return JC("Unsupported field value:",e,t),QC(t,e);if(t instanceof qC)return function(r,i){if(!KC(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=YC(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return R6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=de.fromDate(r);return{timestampValue:Bd(i.serializer,s)}}if(r instanceof de){const s=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(i.serializer,s)}}if(r instanceof qn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hn)return{bytesValue:gC(i.serializer,r._byteString)};if(r instanceof ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kn)return function(o,a){return{mapValue:{fields:{[Wb]:{stringValue:Gb},[Ld]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Jy(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Gy(r)}`)}(t,e)}function QC(t,e){const n={};return jb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(r,i)=>{const s=YC(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof de||t instanceof qn||t instanceof hn||t instanceof ft||t instanceof qC||t instanceof Kn)}function JC(t,e,n){if(!XC(n)||!Lb(n)){const r=Gy(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function GB(t,e,n){if((e=yn(e))instanceof yv)return e._internalPath;if(typeof e=="string")return ZC(t,e);throw Hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const qB=new RegExp("[~\\*/\\[\\]]");function ZC(t,e,n){if(e.search(qB)>=0)throw Hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yv(...e.split("."))._internalPath}catch{throw Hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(F.INVALID_ARGUMENT,a+t+l)}function KB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YB extends eP{data(){return super.data()}}function tP(t,e){return typeof e=="string"?ZC(t,e):e instanceof yv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XB{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ts(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ld].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Be(o.doubleValue));return new Kn(s)}convertGeoPoint(e){return new qn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=bi(e);return new de(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);ge(EC(r),9688,{name:e});const i=new Nl(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends eP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:qe("string",po._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Uc extends po{data(e={}){return super.data(e)}}class mo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uc(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Uc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:ZB(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:qe("string",mo._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class e9 extends XB{constructor(e){super(),this.firestore=e}convertBytes(e){return new hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function jh(t){t=kl(t,Lh);const e=kl(t.firestore,Mh),n=GC(e),r=new e9(e);return QB(t._query),jB(n,t._query).then(i=>new mo(e,r,t,i))}function nP(t){return rP(kl(t.firestore,Mh),[new Zy(t._key,Hn.none())])}function Go(t,e){const n=kl(t.firestore,Mh),r=gv(t),i=JB(t.converter,e);return rP(n,[HB(WB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function rP(t,e){return function(r,i){const s=new vi;return r.asyncQueue.enqueueAndForget(async()=>xB(await LB(r),i,s)),s.promise}(GC(t),e)}(function(e,n=!0){(function(i){Bo=i})(Lo),So(new ds("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Mh(new W3(r.getProvider("auth-internal")),new q3(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pi(mT,gT,e),pi(mT,gT,"esm2017")})();const t9=()=>{const{user:t}=k.useContext(Yo),[e,n]=k.useState((t==null?void 0:t.displayName)||""),[r,i]=k.useState((t==null?void 0:t.email)||""),[s,o]=k.useState(localStorage.getItem("phone")||""),[a,l]=k.useState(""),[u,d]=k.useState(!1),[h,f]=k.useState(!1),[m,v]=k.useState(""),T=Ho(vn);k.useEffect(()=>{t&&(n(t.displayName||""),i(t.email||""))},[t]),k.useEffect(()=>{localStorage.setItem("phone",s)},[s]);const P=async g=>{if(g.preventDefault(),v(""),!e.trim()||!r.trim()||!s.trim()||!a.trim()){v("모든 항목을 입력해주세요.");return}d(!0);try{await Go(Zn(T,"contacts"),{name:e,email:r,phone:s,message:a,userId:(t==null?void 0:t.uid)||null,createdAt:de.now()}),f(!0),n((t==null?void 0:t.displayName)||""),i((t==null?void 0:t.email)||""),o(localStorage.getItem("phone")||""),l("")}catch{v("문의 저장 중 오류가 발생했습니다.")}finally{d(!1)}};return _.jsx("section",{id:"contact",className:"py-20 bg-dark-800",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:_.jsx("span",{className:"gradient-text",children:"상담문의"})}),_.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"궁금한 점이 있으시면 편히 연락주세요."})]}),_.jsx("div",{className:"flex justify-center",children:_.jsxs(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"card max-w-2xl w-full",children:[_.jsx("h3",{className:"text-2xl font-bold mb-6",children:"문의하기"}),h?_.jsx("div",{className:"text-green-400 text-center text-xl py-12",children:"문의가 성공적으로 접수되었습니다!"}):_.jsxs("form",{className:"space-y-6",onSubmit:P,children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"이름"}),_.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"이름을 입력하세요",value:e,onChange:g=>n(g.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"전화번호"}),_.jsx("input",{type:"tel",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"전화번호를 입력하세요",value:s,onChange:g=>o(g.target.value),required:!0})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"이메일"}),_.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"이메일을 입력하세요",value:r,onChange:g=>i(g.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"문의 내용"}),_.jsx("textarea",{rows:4,className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white resize-none",placeholder:"문의하실 내용을 자유롭게 작성해주세요",value:a,onChange:g=>l(g.target.value),required:!0})]}),m&&_.jsx("div",{className:"text-red-400 text-center",children:m}),_.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:u,children:u?"전송 중...":"문의하기"})]})]})})]})})},n9=()=>{const t=new Date().getFullYear();return _.jsx("footer",{className:"bg-dark-900 border-t border-gray-800",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:_.jsx("div",{className:"col-span-1 md:col-span-2"})}),_.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[_.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",t," Joy English Dance Studio. All rights reserved."]}),_.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[_.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"개인정보처리방침"}),_.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"이용약관"}),_.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"사이트맵"})]})]})]})})},r9=new fr,i9=async()=>{const t=jo(vn);try{await hO(t,r9)}catch(e){alert("구글 로그인 실패: "+e)}},s9=()=>{alert("카카오 로그인은 추후 지원됩니다.")},o9=()=>{alert("네이버 로그인은 추후 지원됩니다.")},a9=()=>_.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-md",children:[_.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"소셜 간편 로그인"}),_.jsxs("button",{className:"btn-primary w-full mb-4 flex items-center justify-center gap-2",onClick:i9,children:[_.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-6 h-6"}),"Google로 로그인"]}),_.jsxs("button",{className:"btn-primary w-full mb-4 flex items-center justify-center gap-2 bg-yellow-400 text-black hover:bg-yellow-500",onClick:s9,children:[_.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kakaotalk/kakaotalk-original.svg",alt:"Kakao",className:"w-6 h-6"}),"Kakao로 로그인"]}),_.jsxs("button",{className:"btn-primary w-full flex items-center justify-center gap-2 bg-green-500 text-white hover:bg-green-600",onClick:o9,children:[_.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/2e/Naver_Logotype.svg",alt:"Naver",className:"w-6 h-6 bg-white rounded"}),"Naver로 로그인"]})]})});function iP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fh(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iP(t))&&(r&&(r+=" "),r+=e);return r}const l9=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!u9(i,s)&&r||Object.defineProperty(t,n,s)},u9=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},c9=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},d9=(t,e)=>`/* Wrapped ${t}*/
${e}`,h9=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),f9=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),p9=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=d9.bind(null,r,e.toString());Object.defineProperty(i,"name",f9);const{writable:s,enumerable:o,configurable:a}=h9;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:o,configurable:a})};function m9(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))l9(t,e,i,n);return c9(t,e),p9(t,e,r),t}const g9=new WeakMap,dE=new WeakMap;function sP(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"){if(r>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){var d;const o=e?e(s):s[0],a=n.get(o);if(a)return a.data;const l=t.apply(this,s),u=typeof r=="function"?r(...s):r;if(n.set(o,{data:l,maxAge:u?Date.now()+u:Number.POSITIVE_INFINITY}),u&&u>0&&u!==Number.POSITIVE_INFINITY){const h=setTimeout(()=>{n.delete(o)},u);(d=h.unref)==null||d.call(h);const f=dE.get(t)??new Set;f.add(h),dE.set(t,f)}return l};return m9(i,t,{ignoreNonConfigurable:!0}),g9.set(i,n),i}function y9(t){return typeof t=="string"}function v9(t,e,n){return n.indexOf(t)===e}function w9(t){return t.toLowerCase()===t}function hE(t){return t.indexOf(",")===-1?t:t.split(",")}function qm(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return qm(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return qm(n)}if(t.indexOf("-")===-1||!w9(t))return t;var i=t.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function _9(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],u=0,d=a;u<d.length;u++){var h=d[u];l=l.concat(hE(h))}var f=navigator.language,m=f&&hE(f);o=o.concat(l,m)}return r&&o.push(s),o.filter(y9).map(qm).filter(v9)}var T9=sP(_9,{cacheKey:JSON.stringify});function E9(t){return T9(t)[0]||null}var oP=sP(E9,{cacheKey:JSON.stringify});function Mr(t,e,n){return function(i,s=n){const o=t(i)+s;return e(o)}}function au(t){return function(n){return new Date(t(n).getTime()-1)}}function lu(t,e){return function(r){return[t(r),e(r)]}}function ke(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Vi(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Uh(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function qo(t){const e=ke(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const S9=Mr(ke,qo,-100),aP=Mr(ke,qo,100),wv=au(aP),x9=Mr(ke,wv,-100),lP=lu(qo,wv);function Li(t){const e=ke(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const uP=Mr(ke,Li,-10),_v=Mr(ke,Li,10),Bh=au(_v),cP=Mr(ke,Bh,-10),dP=lu(Li,Bh);function Ko(t){const e=ke(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const hP=Mr(ke,Ko,-1),Tv=Mr(ke,Ko,1),zh=au(Tv),fP=Mr(ke,zh,-1),I9=lu(Ko,zh);function Ev(t,e){return function(r,i=e){const s=ke(r),o=Vi(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),t(a)}}function Is(t){const e=ke(t),n=Vi(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const pP=Ev(Is,-1),Sv=Ev(Is,1),uu=au(Sv),mP=Ev(uu,-1),b9=lu(Is,uu);function C9(t,e){return function(r,i=e){const s=ke(r),o=Vi(r),a=Uh(r)+i,l=new Date;return l.setFullYear(s,o,a),l.setHours(0,0,0,0),t(l)}}function cu(t){const e=ke(t),n=Vi(t),r=Uh(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const P9=C9(cu,1),xv=au(P9),A9=lu(cu,xv);function gP(t){return Uh(uu(t))}var ht={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},k9={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Iv=[0,1,2,3,4,5,6],lp=new Map;function R9(t){return function(n,r){var i=n||oP();lp.has(i)||lp.set(i,new Map);var s=lp.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function D9(t){var e=new Date(t);return new Date(e.setHours(12))}function bs(t){return function(e,n){return R9(t)(e,D9(n))}}var N9={day:"numeric"},O9={day:"numeric",month:"long",year:"numeric"},V9={month:"long"},L9={month:"long",year:"numeric"},M9={weekday:"short"},j9={weekday:"long"},F9={year:"numeric"},U9=bs(N9),B9=bs(O9),z9=bs(V9),yP=bs(L9),$9=bs(M9),W9=bs(j9),$h=bs(F9),H9=Iv[0],G9=Iv[5],fE=Iv[6];function Ml(t,e){e===void 0&&(e=ht.ISO_8601);var n=t.getDay();switch(e){case ht.ISO_8601:return(n+6)%7;case ht.ISLAMIC:return(n+1)%7;case ht.HEBREW:case ht.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function q9(t){var e=qo(t);return ke(e)}function K9(t){var e=Li(t);return ke(e)}function Km(t,e){e===void 0&&(e=ht.ISO_8601);var n=ke(t),r=Vi(t),i=t.getDate()-Ml(t,e);return new Date(n,r,i)}function Y9(t,e){e===void 0&&(e=ht.ISO_8601);var n=e===ht.GREGORY?ht.GREGORY:ht.ISO_8601,r=Km(t,e),i=ke(t)+1,s,o;do s=new Date(i,0,n===ht.ISO_8601?4:1),o=Km(s,e),i-=1;while(t<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function is(t,e){switch(t){case"century":return qo(e);case"decade":return Li(e);case"year":return Ko(e);case"month":return Is(e);case"day":return cu(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Q9(t,e){switch(t){case"century":return S9(e);case"decade":return uP(e);case"year":return hP(e);case"month":return pP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function vP(t,e){switch(t){case"century":return aP(e);case"decade":return _v(e);case"year":return Tv(e);case"month":return Sv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function X9(t,e){switch(t){case"decade":return uP(e,-100);case"year":return hP(e,-10);case"month":return pP(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function J9(t,e){switch(t){case"decade":return _v(e,100);case"year":return Tv(e,10);case"month":return Sv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function wP(t,e){switch(t){case"century":return wv(e);case"decade":return Bh(e);case"year":return zh(e);case"month":return uu(e);case"day":return xv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Z9(t,e){switch(t){case"century":return x9(e);case"decade":return cP(e);case"year":return fP(e);case"month":return mP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function e5(t,e){switch(t){case"decade":return cP(e,-100);case"year":return fP(e,-10);case"month":return mP(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function pE(t,e){switch(t){case"century":return lP(e);case"decade":return dP(e);case"year":return I9(e);case"month":return b9(e);case"day":return A9(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function t5(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[is(t,r[0]),wP(t,r[1])]}function _P(t,e,n){return n.map(function(r){return(e||$h)(t,r)}).join(" – ")}function n5(t,e,n){return _P(t,e,lP(n))}function TP(t,e,n){return _P(t,e,dP(n))}function r5(t){return t.getDay()===new Date().getDay()}function EP(t,e){e===void 0&&(e=ht.ISO_8601);var n=t.getDay();switch(e){case ht.ISLAMIC:case ht.HEBREW:return n===G9||n===fE;case ht.ISO_8601:case ht.GREGORY:return n===fE||n===H9;default:throw new Error("Unsupported calendar type.")}}var On="react-calendar__navigation";function i5(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?yP:r,s=t.formatYear,o=s===void 0?$h:s,a=t.locale,l=t.maxDate,u=t.minDate,d=t.navigationAriaLabel,h=d===void 0?"":d,f=t.navigationAriaLive,m=t.navigationLabel,v=t.next2AriaLabel,T=v===void 0?"":v,P=t.next2Label,g=P===void 0?"»":P,w=t.nextAriaLabel,E=w===void 0?"":w,D=t.nextLabel,V=D===void 0?"›":D,O=t.prev2AriaLabel,x=O===void 0?"":O,S=t.prev2Label,I=S===void 0?"«":S,C=t.prevAriaLabel,A=C===void 0?"":C,N=t.prevLabel,R=N===void 0?"‹":N,X=t.setActiveStartDate,ne=t.showDoubleView,W=t.view,se=t.views,U=se.indexOf(W)>0,z=W!=="century",H=Q9(W,e),Y=z?X9(W,e):void 0,ie=vP(W,e),me=z?J9(W,e):void 0,ot=function(){if(H.getFullYear()<0)return!0;var Re=Z9(W,e);return u&&u>=Re}(),yt=z&&function(){if(Y.getFullYear()<0)return!0;var Re=e5(W,e);return u&&u>=Re}(),$e=l&&l<ie,Ke=z&&l&&l<me;function nr(){X(H,"prev")}function jt(){X(Y,"prev2")}function Kt(){X(ie,"next")}function vt(){X(me,"next2")}function rr(Re){var ir=function(){switch(W){case"century":return n5(a,o,Re);case"decade":return TP(a,o,Re);case"year":return o(a,Re);case"month":return i(a,Re);default:throw new Error("Invalid view: ".concat(W,"."))}}();return m?m({date:Re,label:ir,locale:a||oP()||void 0,view:W}):ir}function Mi(){var Re="".concat(On,"__label");return _.jsxs("button",{"aria-label":h,"aria-live":f,className:Re,disabled:!U,onClick:n,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(Re,"__labelText ").concat(Re,"__labelText--from"),children:rr(e)}),ne?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(Re,"__divider"),children:" – "}),_.jsx("span",{className:"".concat(Re,"__labelText ").concat(Re,"__labelText--to"),children:rr(ie)})]}):null]})}return _.jsxs("div",{className:On,children:[I!==null&&z?_.jsx("button",{"aria-label":x,className:"".concat(On,"__arrow ").concat(On,"__prev2-button"),disabled:yt,onClick:jt,type:"button",children:I}):null,R!==null&&_.jsx("button",{"aria-label":A,className:"".concat(On,"__arrow ").concat(On,"__prev-button"),disabled:ot,onClick:nr,type:"button",children:R}),Mi(),V!==null&&_.jsx("button",{"aria-label":E,className:"".concat(On,"__arrow ").concat(On,"__next-button"),disabled:$e,onClick:Kt,type:"button",children:V}),g!==null&&z?_.jsx("button",{"aria-label":T,className:"".concat(On,"__arrow ").concat(On,"__next2-button"),disabled:Ke,onClick:vt,type:"button",children:g}):null]})}var eo=globalThis&&globalThis.__assign||function(){return eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eo.apply(this,arguments)},s5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mE(t){return"".concat(t,"%")}function bv(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,o=t.style,a=t.wrap,l=s5(t,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",eo({className:n,style:eo({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},l,{children:k.Children.map(e,function(u,d){var h=s&&d===0?mE(100*s/r):null;return k.cloneElement(u,eo(eo({},u.props),{style:{flexBasis:mE(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function o5(t,e,n){return e&&e>t?e:n&&n<t?n:t}function jl(t,e){return e[0]<=t&&e[1]>=t}function a5(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function SP(t,e){return jl(t[0],e)||jl(t[1],e)}function gE(t,e,n){var r=SP(e,t),i=[];if(r){i.push(n);var s=jl(t[0],e),o=jl(t[1],e);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function l5(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function u5(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var m=t.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return pE(m,n)}();if(jl(o,a)&&s.push("".concat(i,"--now")),!e||!l5(e))return s;var l=function(){if(Array.isArray(e))return e;var m=t.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return pE(m,e)}();a5(l,a)?s.push("".concat(i,"--active")):SP(l,a)&&s.push("".concat(i,"--hasActive"));var u=gE(l,a,"".concat(i,"--range"));s.push.apply(s,u);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var h=r>l[0]?[l[0],r]:[r,l[0]],f=gE(h,a,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function Wh(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,o=t.end,a=t.hover,l=t.offset,u=t.renderTile,d=t.start,h=t.step,f=h===void 0?1:h,m=t.value,v=t.valueType,T=[],P=d;P<=o;P+=f){var g=i(P);T.push(u({classes:u5({date:g,dateType:s,hover:a,value:m,valueType:v}),date:g}))}return _.jsx(bv,{className:e,count:r,offset:l,wrap:!0,children:T})}function Hh(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,o=t.locale,a=t.maxDate,l=t.maxDateTransform,u=t.minDate,d=t.minDateTransform,h=t.onClick,f=t.onMouseOver,m=t.style,v=t.tileClassName,T=t.tileContent,P=t.tileDisabled,g=t.view,w=k.useMemo(function(){var D={activeStartDate:e,date:i,view:g};return typeof v=="function"?v(D):v},[e,i,v,g]),E=k.useMemo(function(){var D={activeStartDate:e,date:i,view:g};return typeof T=="function"?T(D):T},[e,i,T,g]);return _.jsxs("button",{className:Fh(r,w),disabled:u&&d(u)>i||a&&l(a)<i||(P==null?void 0:P({activeStartDate:e,date:i,view:g})),onClick:h?function(D){return h(i,D)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:m,type:"button",children:[s?_.jsx("abbr",{"aria-label":s(o,i),children:n}):n,E]})}var Ym=globalThis&&globalThis.__assign||function(){return Ym=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ym.apply(this,arguments)},c5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},up="react-calendar__century-view__decades__decade";function d5(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?$h:i,o=c5(t,["classes","currentCentury","formatYear"]),a=o.date,l=o.locale,u=[];return n&&u.push.apply(u,n),up&&u.push(up),qo(a).getFullYear()!==r&&u.push("".concat(up,"--neighboringCentury")),_.jsx(Hh,Ym({},o,{classes:u,maxDateTransform:Bh,minDateTransform:Li,view:"century",children:TP(l,s,a)}))}var Qm=globalThis&&globalThis.__assign||function(){return Qm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qm.apply(this,arguments)},yE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function h5(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,o=yE(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=q9(e),l=a+(r?119:99);return _.jsx(Wh,{className:"react-calendar__century-view__decades",dateTransform:Li,dateType:"decade",end:l,hover:n,renderTile:function(u){var d=u.date,h=yE(u,["date"]);return _.jsx(d5,Qm({},o,h,{activeStartDate:e,currentCentury:a,date:d}),d.getTime())},start:a,step:10,value:i,valueType:s})}var Xm=globalThis&&globalThis.__assign||function(){return Xm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xm.apply(this,arguments)};function f5(t){function e(){return _.jsx(h5,Xm({},t))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var Jm=globalThis&&globalThis.__assign||function(){return Jm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jm.apply(this,arguments)},p5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},cp="react-calendar__decade-view__years__year";function m5(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?$h:i,o=p5(t,["classes","currentDecade","formatYear"]),a=o.date,l=o.locale,u=[];return n&&u.push.apply(u,n),cp&&u.push(cp),Li(a).getFullYear()!==r&&u.push("".concat(cp,"--neighboringDecade")),_.jsx(Hh,Jm({},o,{classes:u,maxDateTransform:zh,minDateTransform:Ko,view:"decade",children:s(l,a)}))}var Zm=globalThis&&globalThis.__assign||function(){return Zm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zm.apply(this,arguments)},vE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function g5(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,o=vE(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=K9(e),l=a+(r?11:9);return _.jsx(Wh,{className:"react-calendar__decade-view__years",dateTransform:Ko,dateType:"year",end:l,hover:n,renderTile:function(u){var d=u.date,h=vE(u,["date"]);return _.jsx(m5,Zm({},o,h,{activeStartDate:e,currentDecade:a,date:d}),d.getTime())},start:a,value:i,valueType:s})}var eg=globalThis&&globalThis.__assign||function(){return eg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eg.apply(this,arguments)};function y5(t){function e(){return _.jsx(g5,eg({},t))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var tg=globalThis&&globalThis.__assign||function(){return tg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tg.apply(this,arguments)},v5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},wE=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},w5="react-calendar__year-view__months__month";function _5(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?z9:r,s=t.formatMonthYear,o=s===void 0?yP:s,a=v5(t,["classes","formatMonth","formatMonthYear"]),l=a.date,u=a.locale;return _.jsx(Hh,tg({},a,{classes:wE(wE([],n,!0),[w5],!1),formatAbbr:o,maxDateTransform:uu,minDateTransform:Is,view:"year",children:i(u,l)}))}var ng=globalThis&&globalThis.__assign||function(){return ng=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ng.apply(this,arguments)},_E=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function T5(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=_E(t,["activeStartDate","hover","value","valueType"]),o=0,a=11,l=ke(e);return _.jsx(Wh,{className:"react-calendar__year-view__months",dateTransform:function(u){var d=new Date;return d.setFullYear(l,u,1),Is(d)},dateType:"month",end:a,hover:n,renderTile:function(u){var d=u.date,h=_E(u,["date"]);return _.jsx(_5,ng({},s,h,{activeStartDate:e,date:d}),d.getTime())},start:o,value:r,valueType:i})}var rg=globalThis&&globalThis.__assign||function(){return rg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rg.apply(this,arguments)};function E5(t){function e(){return _.jsx(T5,rg({},t))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var ig=globalThis&&globalThis.__assign||function(){return ig=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ig.apply(this,arguments)},S5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},dc="react-calendar__month-view__days__day";function x5(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,o=s===void 0?U9:s,a=t.formatLongDate,l=a===void 0?B9:a,u=S5(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=u.date,h=u.locale,f=[];return r&&f.push.apply(f,r),dc&&f.push(dc),EP(d,e)&&f.push("".concat(dc,"--weekend")),d.getMonth()!==i&&f.push("".concat(dc,"--neighboringMonth")),_.jsx(Hh,ig({},u,{classes:f,formatAbbr:l,maxDateTransform:xv,minDateTransform:cu,view:"month",children:o(h,d)}))}var sg=globalThis&&globalThis.__assign||function(){return sg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sg.apply(this,arguments)},TE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function I5(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,o=t.value,a=t.valueType,l=TE(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=ke(e),d=Vi(e),h=i||s,f=Ml(e,n),m=h?0:f,v=(h?-f:0)+1,T=function(){if(i)return v+6*7-1;var P=gP(e);if(s){var g=new Date;g.setFullYear(u,d,P),g.setHours(0,0,0,0);var w=7-Ml(g,n)-1;return P+w}return P}();return _.jsx(Wh,{className:"react-calendar__month-view__days",count:7,dateTransform:function(P){var g=new Date;return g.setFullYear(u,d,P),cu(g)},dateType:"day",hover:r,end:T,renderTile:function(P){var g=P.date,w=TE(P,["date"]);return _.jsx(x5,sg({},l,w,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:g}),g.getTime())},offset:m,start:v,value:o,valueType:a})}var xP="react-calendar__month-view__weekdays",dp="".concat(xP,"__weekday");function b5(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?$9:n,i=t.formatWeekday,s=i===void 0?W9:i,o=t.locale,a=t.onMouseLeave,l=new Date,u=Is(l),d=ke(u),h=Vi(u),f=[],m=1;m<=7;m+=1){var v=new Date(d,h,m-Ml(u,e)),T=s(o,v);f.push(_.jsx("div",{className:Fh(dp,r5(v)&&"".concat(dp,"--current"),EP(v,e)&&"".concat(dp,"--weekend")),children:_.jsx("abbr",{"aria-label":T,title:T,children:r(o,v).replace(".","")})},m))}return _.jsx(bv,{className:xP,count:7,onFocus:a,onMouseOver:a,children:f})}var Gd=globalThis&&globalThis.__assign||function(){return Gd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gd.apply(this,arguments)},EE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},SE="react-calendar__tile";function C5(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=_.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,o=t.weekNumber,a=EE(t,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",Gd({},a,{className:SE,onClick:function(l){return s(o,i,l)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var a=EE(t,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",Gd({},a,{className:SE,children:r}))}}function P5(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=function(){if(s)return 6;var u=gP(e),d=Ml(e,n),h=u-(7-d);return 1+Math.ceil(h/7)}(),a=function(){for(var u=ke(e),d=Vi(e),h=Uh(e),f=[],m=0;m<o;m+=1)f.push(Km(new Date(u,d,h+m*7),n));return f}(),l=a.map(function(u){return Y9(u,n)});return _.jsx(bv,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,d){var h=a[d];if(!h)throw new Error("date is not defined");return _.jsx(C5,{date:h,onClickWeekNumber:r,weekNumber:u},u)})})}var og=globalThis&&globalThis.__assign||function(){return og=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},og.apply(this,arguments)},A5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function k5(t){if(t)for(var e=0,n=Object.entries(k9);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return ht.ISO_8601}function R5(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,o=s===void 0?k5(n):s,a=t.formatShortWeekday,l=t.formatWeekday,u=t.onClickWeekNumber,d=t.showWeekNumbers,h=A5(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return _.jsx(b5,{calendarType:o,formatShortWeekday:a,formatWeekday:l,locale:n,onMouseLeave:r})}function m(){return d?_.jsx(P5,{activeStartDate:e,calendarType:o,onClickWeekNumber:u,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function v(){return _.jsx(I5,og({calendarType:o},h))}var T="react-calendar__month-view";return _.jsx("div",{className:Fh(T,d?"".concat(T,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[m(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),v()]})]})})}var to=globalThis&&globalThis.__assign||function(){return to=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},to.apply(this,arguments)},hc="react-calendar",Bc=["century","decade","year","month"],D5=["decade","year","month","day"],Cv=new Date;Cv.setFullYear(1,0,1);Cv.setHours(0,0,0,0);var N5=new Date(864e13);function Ua(t){return t instanceof Date?t:new Date(t)}function IP(t,e){return Bc.slice(Bc.indexOf(t),Bc.indexOf(e)+1)}function O5(t,e,n){var r=IP(e,n);return r.indexOf(t)!==-1}function Pv(t,e,n){return t&&O5(t,e,n)?t:n}function bP(t){var e=Bc.indexOf(t);return D5[e]}function V5(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Ua(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function CP(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,o=V5(n,e);if(!o)return null;var a=bP(s),l=function(){switch(e){case 0:return is(a,o);case 1:return wP(a,o);default:throw new Error("Invalid index value: ".concat(e))}}();return o5(l,r,i)}var Av=function(t){return CP(t,0)},PP=function(t){return CP(t,1)},L5=function(t){return[Av,PP].map(function(e){return e(t)})};function AP(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,o=t.view,a=Pv(o,i,n),l=Av({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return is(a,l)}function M5(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,o=t.maxDetail,a=t.minDate,l=t.minDetail,u=t.value,d=t.view,h=Pv(d,l,o),f=e||n;return f?is(h,f):AP({maxDate:s,maxDetail:o,minDate:a,minDetail:l,value:u||r,view:d||i})}function hp(t){return t&&(!Array.isArray(t)||t.length===1)}function fc(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var j5=k.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,a=e.defaultActiveStartDate,l=e.defaultValue,u=e.defaultView,d=e.formatDay,h=e.formatLongDate,f=e.formatMonth,m=e.formatMonthYear,v=e.formatShortWeekday,T=e.formatWeekday,P=e.formatYear,g=e.goToRangeStartOnSelect,w=g===void 0?!0:g,E=e.inputRef,D=e.locale,V=e.maxDate,O=V===void 0?N5:V,x=e.maxDetail,S=x===void 0?"month":x,I=e.minDate,C=I===void 0?Cv:I,A=e.minDetail,N=A===void 0?"century":A,R=e.navigationAriaLabel,X=e.navigationAriaLive,ne=e.navigationLabel,W=e.next2AriaLabel,se=e.next2Label,U=e.nextAriaLabel,z=e.nextLabel,H=e.onActiveStartDateChange,Y=e.onChange,ie=e.onClickDay,me=e.onClickDecade,ot=e.onClickMonth,yt=e.onClickWeekNumber,$e=e.onClickYear,Ke=e.onDrillDown,nr=e.onDrillUp,jt=e.onViewChange,Kt=e.prev2AriaLabel,vt=e.prev2Label,rr=e.prevAriaLabel,Mi=e.prevLabel,Re=e.returnValue,ir=Re===void 0?"start":Re,kt=e.selectRange,ji=e.showDoubleView,du=e.showFixedNumberOfWeeks,Qo=e.showNavigation,hu=Qo===void 0?!0:Qo,Xo=e.showNeighboringCentury,fu=e.showNeighboringDecade,pu=e.showNeighboringMonth,Jo=pu===void 0?!0:pu,Zo=e.showWeekNumbers,ea=e.tileClassName,Ze=e.tileContent,at=e.tileDisabled,jr=e.value,ta=e.view,na=k.useState(a),qh=na[0],Rn=na[1],ra=k.useState(null),mu=ra[0],Cs=ra[1],gu=k.useState(Array.isArray(l)?l.map(function(oe){return oe!==null?Ua(oe):null}):l!=null?Ua(l):null),ia=gu[0],sa=gu[1],oa=k.useState(u),yu=oa[0],Fr=oa[1],et=r||qh||M5({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:u,maxDate:O,maxDetail:S,minDate:C,minDetail:N,value:jr,view:ta}),tt=function(){var oe=function(){return kt&&hp(ia)?ia:jr!==void 0?jr:ia}();return oe?Array.isArray(oe)?oe.map(function(we){return we!==null?Ua(we):null}):oe!==null?Ua(oe):null:null}(),sn=bP(S),Te=Pv(ta||yu,N,S),Rt=IP(N,S),vu=kt?mu:null,sr=Rt.indexOf(Te)<Rt.length-1,aa=Rt.indexOf(Te)>0,nt=k.useCallback(function(oe){var we=function(){switch(ir){case"start":return Av;case"end":return PP;case"range":return L5;default:throw new Error("Invalid returnValue.")}}();return we({maxDate:O,maxDetail:S,minDate:C,value:oe})},[O,S,C,ir]),Ps=k.useCallback(function(oe,we){Rn(oe);var ye={action:we,activeStartDate:oe,value:tt,view:Te};H&&!fc(et,oe)&&H(ye)},[et,H,tt,Te]),Dn=k.useCallback(function(oe,we){var ye=function(){switch(Te){case"century":return me;case"decade":return $e;case"year":return ot;case"month":return ie;default:throw new Error("Invalid view: ".concat(Te,"."))}}();ye&&ye(oe,we)},[ie,me,ot,$e,Te]),or=k.useCallback(function(oe,we){if(sr){Dn(oe,we);var ye=Rt[Rt.indexOf(Te)+1];if(!ye)throw new Error("Attempted to drill down from the lowest view.");Rn(oe),Fr(ye);var Ft={action:"drillDown",activeStartDate:oe,value:tt,view:ye};H&&!fc(et,oe)&&H(Ft),jt&&Te!==ye&&jt(Ft),Ke&&Ke(Ft)}},[et,sr,H,Dn,Ke,jt,tt,Te,Rt]),la=k.useCallback(function(){if(aa){var oe=Rt[Rt.indexOf(Te)-1];if(!oe)throw new Error("Attempted to drill up from the highest view.");var we=is(oe,et);Rn(we),Fr(oe);var ye={action:"drillUp",activeStartDate:we,value:tt,view:oe};H&&!fc(et,we)&&H(ye),jt&&Te!==oe&&jt(ye),nr&&nr(ye)}},[et,aa,H,nr,jt,tt,Te,Rt]),ua=k.useCallback(function(oe,we){var ye=tt;Dn(oe,we);var Ft=kt&&!hp(ye),Ut;if(kt)if(Ft)Ut=is(sn,oe);else{if(!ye)throw new Error("previousValue is required");if(Array.isArray(ye))throw new Error("previousValue must not be an array");Ut=t5(sn,ye,oe)}else Ut=nt(oe);var Fi=!kt||Ft||w?AP({maxDate:O,maxDetail:S,minDate:C,minDetail:N,value:Ut,view:Te}):null;we.persist(),Rn(Fi),sa(Ut);var da={action:"onChange",activeStartDate:Fi,value:Ut,view:Te};if(H&&!fc(et,Fi)&&H(da),Y)if(kt){var Tu=hp(Ut);if(!Tu)Y(Ut||null,we);else if(i){if(Array.isArray(Ut))throw new Error("value must not be an array");Y([Ut||null,null],we)}}else Y(Ut||null,we)},[et,i,nt,w,O,S,C,N,H,Y,Dn,kt,tt,sn,Te]);function Ur(oe){Cs(oe)}function ca(){Cs(null)}k.useImperativeHandle(n,function(){return{activeStartDate:et,drillDown:or,drillUp:la,onChange:ua,setActiveStartDate:Ps,value:tt,view:Te}},[et,or,la,ua,Ps,tt,Te]);function wu(oe){var we=oe?vP(Te,et):is(Te,et),ye=sr?or:ua,Ft={activeStartDate:we,hover:vu,locale:D,maxDate:O,minDate:C,onClick:ye,onMouseOver:kt?Ur:void 0,tileClassName:ea,tileContent:Ze,tileDisabled:at,value:tt,valueType:sn};switch(Te){case"century":return _.jsx(f5,to({formatYear:P,showNeighboringCentury:Xo},Ft));case"decade":return _.jsx(y5,to({formatYear:P,showNeighboringDecade:fu},Ft));case"year":return _.jsx(E5,to({formatMonth:f,formatMonthYear:m},Ft));case"month":return _.jsx(R5,to({calendarType:s,formatDay:d,formatLongDate:h,formatShortWeekday:v,formatWeekday:T,onClickWeekNumber:yt,onMouseLeave:kt?ca:void 0,showFixedNumberOfWeeks:typeof du<"u"?du:ji,showNeighboringMonth:Jo,showWeekNumbers:Zo},Ft));default:throw new Error("Invalid view: ".concat(Te,"."))}}function As(){return hu?_.jsx(i5,{activeStartDate:et,drillUp:la,formatMonthYear:m,formatYear:P,locale:D,maxDate:O,minDate:C,navigationAriaLabel:R,navigationAriaLive:X,navigationLabel:ne,next2AriaLabel:W,next2Label:se,nextAriaLabel:U,nextLabel:z,prev2AriaLabel:Kt,prev2Label:vt,prevAriaLabel:rr,prevLabel:Mi,setActiveStartDate:Ps,showDoubleView:ji,view:Te,views:Rt}):null}var _u=Array.isArray(tt)?tt:[tt];return _.jsxs("div",{className:Fh(hc,kt&&_u.length===1&&"".concat(hc,"--selectRange"),ji&&"".concat(hc,"--doubleView"),o),ref:E,children:[As(),_.jsxs("div",{className:"".concat(hc,"__viewContainer"),onBlur:kt?ca:void 0,onMouseLeave:kt?ca:void 0,children:[wu(),ji?wu(!0):null]})]})});const Gh=j5;const F5=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(""),[i,s]=k.useState(!1),[o,a]=k.useState(!1),[l,u]=k.useState(""),[d,h]=k.useState([]),[f,m]=k.useState([]),[v,T]=k.useState([]),P=tr(),{user:g}=k.useContext(Yo),[w,E]=k.useState((g==null?void 0:g.displayName)||""),[D,V]=k.useState((g==null?void 0:g.email)||""),[O,x]=k.useState(localStorage.getItem("phone")||"");jo(vn);const S=Ho(vn);k.useEffect(()=>{(async()=>{const R=(await jh(Zn(S,"availableSlots"))).docs.map(ne=>({id:ne.id,...ne.data()}));h(R);const X=new Set(R.map(ne=>ne.date.toDate().toDateString()));m(Array.from(X).map(ne=>new Date(ne)))})()},[]),k.useEffect(()=>{if(t){const A=d.filter(N=>N.date.toDate().toDateString()===t.toDateString()).map(N=>N.time);T(A),r("")}else T([]),r("")},[t,d]),k.useEffect(()=>{if(i){const A=setTimeout(()=>{P("/")},5e3);return()=>clearTimeout(A)}},[i,P]),k.useEffect(()=>{g&&(E(g.displayName||""),V(g.email||""))},[g]),k.useEffect(()=>{localStorage.setItem("phone",O)},[O]);const I=async A=>{if(A.preventDefault(),u(""),!g){u("로그인이 필요합니다.");return}if(!w.trim()||!O.trim()){u("이름과 전화번호를 입력해주세요.");return}if(t&&n){a(!0);try{await Go(Zn(S,"reservations"),{userId:g.uid,userName:g.displayName||g.email||"익명",name:w,phone:O,date:de.fromDate(t),time:n,createdAt:de.now()}),s(!0)}catch{u("예약 저장 중 오류가 발생했습니다.")}finally{a(!1)}}},C=({date:A})=>!f.some(N=>N.toDateString()===A.toDateString());return _.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[_.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"무료 시범 강의 신청"}),i?_.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[_.jsx("div",{className:"text-center text-xl text-green-400 mb-4",children:"예약이 완료되었습니다!"}),_.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>P("/"),children:"확인"}),_.jsx("div",{className:"text-gray-400 text-sm mt-4",children:"5초 후 메인화면으로 이동합니다."})]}):_.jsxs("form",{onSubmit:I,className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),_.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:w,onChange:A=>E(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),_.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:D,onChange:A=>V(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),_.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:O,onChange:A=>x(A.target.value),required:!0})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),_.jsx(Gh,{onChange:A=>e(A),value:t,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden",tileDisabled:C})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2 mt-4",children:"시간 선택"}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map(A=>_.jsx("button",{type:"button",className:`px-2 py-2 rounded-lg border text-white ${n===A?"bg-primary-600 border-primary-600":"bg-dark-700 border-gray-600"}`,onClick:()=>r(A),children:A},A))})]}),l&&_.jsx("div",{className:"text-red-400 text-center mb-2",children:l}),_.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:!t||!n||o,children:o?"예약 중...":"예약하기"}),!g&&_.jsxs("div",{className:"text-center text-gray-400 text-sm mt-2",children:["예약을 위해 ",_.jsx("a",{href:"/login",className:"text-primary-400 underline",children:"로그인"}),"이 필요합니다."]})]})]})})};const U5={1:["14:00","15:00","16:00"],2:["14:00","15:00","16:00","20:00","21:00"],3:["14:00","15:00","16:00","22:00"],4:["14:00","15:00","16:00","20:00","21:00","22:00"],5:["14:00","15:00","16:00","20:00","21:00","22:00"],6:["09:00","10:00","11:00","12:00"]},B5=["joyjisunlee0123@gmail.com"],z5=()=>{const t=jo(vn),e=Ho(vn),n=t.currentUser,r=n&&B5.includes(n.email||""),[i,s]=k.useState(null),[o,a]=k.useState(""),[l,u]=k.useState([]),[d,h]=k.useState(!1),[f,m]=k.useState(""),[v,T]=k.useState([]),[P,g]=k.useState(!1),w=tr(),E=async()=>{h(!0);const O=await jh(Zn(e,"availableSlots"));u(O.docs.map(x=>({id:x.id,...x.data()}))),h(!1)};k.useEffect(()=>{E()},[]),k.useEffect(()=>{if(i){const O=i.getDay();T(U5[O]||[]),a("")}else T([]),a("")},[i]);const D=async()=>{if(m(""),!(!i||!o)){h(!0);try{await Go(Zn(e,"availableSlots"),{date:de.fromDate(i),time:o,createdAt:de.now()}),s(null),a(""),E(),g(!0)}catch{m("추가 중 오류 발생")}finally{h(!1)}}},V=async O=>{h(!0);try{await nP(gv(e,"availableSlots",O)),E()}catch{m("삭제 중 오류 발생")}finally{h(!1)}};return n?r?_.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[_.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"관리자 시간대 관리"}),P&&_.jsx("div",{className:"text-xl text-green-400 mb-6 text-center",children:"스케쥴이 성공적으로 등록되었습니다!"}),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),_.jsx(Gh,{onChange:O=>s(O),value:i,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden calendar-custom",tileClassName:({date:O,view:x})=>x==="month"&&O.getDay()===0?"calendar-sunday":x==="month"&&O.getDay()===6?"calendar-saturday":void 0})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택 (해당 요일만 표시)"}),_.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.length===0&&_.jsx("div",{className:"col-span-3 text-gray-400",children:"날짜를 선택하세요."}),v.map(O=>_.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${o===O?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>a(O),children:O},O))]})]}),_.jsx("button",{className:"btn-primary w-full mb-4 mt-2",onClick:D,disabled:!i||!o||d,children:d?"추가 중...":"시간대 추가"}),f&&_.jsx("div",{className:"text-red-400 text-center mb-2",children:f}),_.jsxs("div",{className:"mt-8",children:[_.jsx("h3",{className:"text-xl font-bold mb-2",children:"등록된 시간대"}),d?_.jsx("div",{className:"text-gray-400",children:"불러오는 중..."}):_.jsx("ul",{className:"space-y-2",children:l.map(O=>_.jsxs("li",{className:"flex justify-between items-center bg-dark-700 rounded px-4 py-2",children:[_.jsxs("span",{children:[O.date&&O.date.toDate?O.date.toDate().toLocaleDateString():""," ",O.time]}),_.jsx("button",{className:"text-red-400 underline text-sm",onClick:()=>V(O.id),children:"삭제"})]},O.id))})]}),_.jsx("div",{className:"flex justify-center mt-8",children:_.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>w("/"),children:"완료"})})]})]})}):_.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):_.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})},$5=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(!1),[f,m]=k.useState(!1),[v,T]=k.useState(""),[P,g]=k.useState([]),[w,E]=k.useState([]),[D,V]=k.useState([]),O=tr(),{user:x}=k.useContext(Yo);jo(vn);const S=Ho(vn);k.useEffect(()=>{(async()=>{const R=(await jh(Zn(S,"groupClassSlots"))).docs.map(ne=>({id:ne.id,...ne.data()}));g(R);const X=new Set(R.map(ne=>ne.date.toDate().toDateString()));E(Array.from(X).map(ne=>new Date(ne)))})()},[]),k.useEffect(()=>{x&&(s(x.displayName||""),a(x.email||""))},[x]),k.useEffect(()=>{localStorage.setItem("phone",l)},[l]),k.useEffect(()=>{if(t){const A=t.toDateString(),N=P.filter(R=>R.date.toDate().toDateString()===A).map(R=>R.time);V(N),r("")}else V([]),r("")},[t,P]),k.useEffect(()=>{if(d){const A=setTimeout(()=>{O("/")},5e3);return()=>clearTimeout(A)}},[d,O]);const I=async A=>{if(A.preventDefault(),T(""),!x){T("로그인이 필요합니다.");return}if(!i.trim()||!l.trim()){T("이름과 전화번호를 입력해주세요.");return}if(!t||!n){T("날짜와 시간을 선택해주세요.");return}m(!0);try{await Go(Zn(S,"groupClassReservations"),{userId:x.uid,userName:x.displayName||x.email||"익명",name:i,phone:l,date:de.fromDate(t),time:n,createdAt:de.now()}),h(!0)}catch{T("예약 저장 중 오류가 발생했습니다.")}finally{m(!1)}},C=({date:A})=>!w.some(N=>N.toDateString()===A.toDateString());return _.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-4xl flex flex-col md:flex-row gap-8",children:[_.jsx("div",{className:"flex-1 flex items-center justify-center",children:_.jsx("img",{src:"https://images.unsplash.com/photo-1513258496099-48168024aec0?auto=format&fit=crop&w=400&q=80",alt:"Group Class",className:"rounded-2xl w-full max-w-xs object-cover shadow-lg"})}),_.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[_.jsx("h2",{className:"text-3xl font-bold mb-4",children:"그룹 클래스 예약"}),_.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:["Joy English의 그룹 클래스는 소수 정예로 진행되며, 실전 회화와 다양한 액티비티를 통해 영어 실력을 빠르게 향상시킬 수 있습니다.",_.jsx("br",{}),"아래 개설일 중 원하는 날짜와 시간을 선택하고 예약해 주세요!"]}),d?_.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[_.jsx("div",{className:"text-center text-xl text-green-400 mb-4",children:"예약이 완료되었습니다!"}),_.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>O("/"),children:"확인"}),_.jsx("div",{className:"text-gray-400 text-sm mt-4",children:"5초 후 메인화면으로 이동합니다."})]}):_.jsxs("form",{className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),_.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:i,onChange:A=>s(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),_.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:o,onChange:A=>a(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),_.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:l,onChange:A=>u(A.target.value),required:!0})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"개설일 선택"}),_.jsx(Gh,{onChange:A=>e(A),value:t,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden",tileDisabled:C})]}),t&&D.length>0&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택"}),_.jsx("div",{className:"grid grid-cols-3 gap-3",children:D.map(A=>_.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${n===A?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>r(A),children:A},A))})]}),v&&_.jsx("div",{className:"text-red-400 text-center mb-2",children:v}),_.jsx("button",{type:"button",className:"btn-primary w-full mt-4",disabled:f,onClick:I,children:f?"예약 중...":"클래스 예약하기"})]})]})]})})},W5={1:["14:00","15:00","16:00"],2:["14:00","15:00","16:00","20:00","21:00"],3:["14:00","15:00","16:00","22:00"],4:["14:00","15:00","16:00","20:00","21:00","22:00"],5:["14:00","15:00","16:00","20:00","21:00","22:00"],6:["09:00","10:00","11:00","12:00"]},H5=["joyjisunlee0123@gmail.com"],G5=()=>{const t=jo(vn),e=Ho(vn),n=t.currentUser,r=n&&H5.includes(n.email||""),i=tr(),[s,o]=k.useState(null),[a,l]=k.useState(""),[u,d]=k.useState([]),[h,f]=k.useState(!1),[m,v]=k.useState(""),[T,P]=k.useState([]),[g,w]=k.useState(!1),E=async()=>{f(!0);const O=await jh(Zn(e,"groupClassSlots"));d(O.docs.map(x=>({id:x.id,...x.data()}))),f(!1)};k.useEffect(()=>{E()},[]),k.useEffect(()=>{if(s){const O=s.getDay();P(W5[O]||[]),l("")}else P([]),l("")},[s]);const D=async()=>{if(v(""),!(!s||!a)){f(!0);try{if(u.some(x=>x.date&&x.date.toDate&&x.date.toDate().toDateString()===s.toDateString()&&x.time===a)){v("이미 등록된 날짜와 시간입니다."),f(!1);return}await Go(Zn(e,"groupClassSlots"),{date:de.fromDate(s),time:a,createdAt:de.now()}),o(null),l(""),E(),w(!0)}catch{v("추가 중 오류 발생")}finally{f(!1)}}},V=async O=>{f(!0);try{await nP(gv(e,"groupClassSlots",O)),E()}catch{v("삭제 중 오류 발생")}finally{f(!1)}};return n?r?_.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[_.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"그룹 클래스 개설일 관리"}),g&&_.jsx("div",{className:"text-xl text-green-400 mb-6 text-center",children:"스케쥴이 성공적으로 등록되었습니다!"}),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),_.jsx(Gh,{onChange:O=>o(O),value:s,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden calendar-custom",tileClassName:({date:O,view:x})=>x==="month"&&O.getDay()===0?"calendar-sunday":x==="month"&&O.getDay()===6?"calendar-saturday":void 0})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택 (해당 요일만 표시)"}),_.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[T.length===0&&_.jsx("div",{className:"col-span-3 text-gray-400",children:"날짜를 선택하세요."}),T.map(O=>_.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${a===O?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>l(O),children:O},O))]})]}),_.jsx("button",{className:"btn-primary w-full mb-4 mt-2",onClick:D,disabled:!s||!a||h,children:h?"추가 중...":"개설일 추가"}),m&&_.jsx("div",{className:"text-red-400 text-center mb-2",children:m}),_.jsxs("div",{className:"mt-8",children:[_.jsx("h3",{className:"text-xl font-bold mb-2",children:"등록된 개설일"}),h?_.jsx("div",{className:"text-gray-400",children:"불러오는 중..."}):_.jsx("ul",{className:"space-y-2",children:u.map(O=>_.jsxs("li",{className:"flex justify-between items-center bg-dark-700 rounded px-4 py-2",children:[_.jsxs("span",{children:[O.date&&O.date.toDate?O.date.toDate().toLocaleDateString():""," ",O.time]}),_.jsx("button",{className:"text-red-400 underline text-sm",onClick:()=>V(O.id),children:"삭제"})]},O.id))})]}),_.jsx("div",{className:"flex justify-center mt-8",children:_.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>i("/"),children:"완료"})})]})]})}):_.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):_.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})},q5=()=>{const[t,e]=k.useState(""),n=tr(),{user:r}=k.useContext(Yo),i=()=>{const o=[],a=new Date;let l=new Date(a);for(;l.getDay()!==6;)l.setDate(l.getDate()+1);for(let u=0;u<4;u++){const d=new Date(l);d.setDate(l.getDate()+u*7),o.push(d)}return o},s=()=>{if(!r){n("/login");return}if(!t){alert("날짜를 선택해주세요.");return}n("/payment",{state:{paymentData:{type:"toto-room",date:t,amount:5e3}}})};return _.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-6xl flex flex-col md:flex-row gap-8",children:[_.jsx("div",{className:"flex-1 flex items-center justify-center",children:_.jsx("img",{src:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&w=500&q=80",alt:"Online Discussion",className:"rounded-2xl w-full max-w-md object-cover shadow-lg"})}),_.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[_.jsx("h2",{className:"text-3xl font-bold mb-4",children:"토토방 (토요토론방)"}),_.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:["매주 토요일 진행되는 온라인 토론방입니다!",_.jsx("br",{}),"다양한 주제로 영어로 자유롭게 토론하며 실력을 키워보세요.",_.jsx("br",{}),"소수 정예로 진행되어 개인별 피드백도 받을 수 있습니다."]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[_.jsx("h3",{className:"text-xl font-semibold mb-2",children:"참가 혜택"}),_.jsxs("ul",{className:"text-gray-300 space-y-1",children:[_.jsx("li",{children:"• 실시간 영어 토론 연습"}),_.jsx("li",{children:"• 다양한 주제로 흥미로운 대화"}),_.jsx("li",{children:"• 소수 정예 (최대 6명)"}),_.jsx("li",{children:"• 30분 topic 분석 강의"}),_.jsx("li",{children:"• 30분 개별 토론"})]})]}),_.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[_.jsx("h3",{className:"text-xl font-semibold mb-2",children:"참가비"}),_.jsx("p",{className:"text-2xl font-bold text-primary-400",children:"5,000원"}),_.jsx("p",{className:"text-sm text-gray-400",children:"1회 참가 (60분)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"참가 날짜 선택"}),_.jsx("div",{className:"grid grid-cols-2 gap-3",children:i().map((o,a)=>_.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${t===o.toISOString().split("T")[0]?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>e(o.toISOString().split("T")[0]),children:o.toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short"})},a))})]}),_.jsx("button",{className:"btn-primary w-full py-4 text-lg font-bold",onClick:s,disabled:!t,children:"신청하기"}),!r&&_.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["결제를 위해 ",_.jsx("a",{href:"/login",className:"text-primary-400 underline",children:"로그인"}),"이 필요합니다."]})]})]})]})})},K5=()=>{var V;const[t,e]=k.useState("");k.useState(""),k.useState(""),k.useState("");const[n,r]=k.useState(!1),[i,s]=k.useState(!1),[o,a]=k.useState(""),l=tr(),u=Lr(),{user:d}=k.useContext(Yo),h=Ho(vn),f=((V=u.state)==null?void 0:V.paymentData)||{type:"toto-room",date:"",amount:15e3},[m,v]=k.useState((d==null?void 0:d.displayName)||""),[T,P]=k.useState((d==null?void 0:d.email)||""),[g,w]=k.useState(localStorage.getItem("phone")||"");k.useEffect(()=>{if(!d){l("/login",{state:{from:"/payment",paymentData:f}});return}},[d,l]),k.useEffect(()=>{d&&(v(d.displayName||""),P(d.email||""))},[d]),k.useEffect(()=>{localStorage.setItem("phone",g)},[g]),k.useEffect(()=>{if(i){const O=setTimeout(()=>{l("/")},3e3);return()=>clearTimeout(O)}},[i,l]);const E=async O=>{if(O.preventDefault(),a(""),!m.trim()||!T.trim()||!g.trim()){a("이름, 이메일, 전화번호를 모두 입력해주세요.");return}r(!0);try{await new Promise(x=>setTimeout(x,2e3)),await Go(Zn(h,"payments"),{userId:d==null?void 0:d.uid,userName:(d==null?void 0:d.displayName)||(d==null?void 0:d.email)||"익명",type:f.type,date:f.date,amount:f.amount,cardLast4:t.replace(/\s/g,"").slice(-4),status:"completed",createdAt:de.now()}),await D(),s(!0)}catch{a("결제 처리 중 오류가 발생했습니다.")}finally{r(!1)}},D=async()=>{console.log("이메일 알림 전송:",{to:d==null?void 0:d.email,subject:"토토방 결제 완료",body:`${f.date} 토토방 참가 신청이 완료되었습니다.`})};return i?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-900",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg text-center",children:[_.jsx("div",{className:"text-6xl mb-4",children:"✅"}),_.jsx("h2",{className:"text-3xl font-bold mb-4",children:"결제가 완료되었습니다!"}),_.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:[f.date," 토토방 참가 신청이 완료되었습니다.",_.jsx("br",{}),"입금 확인 후 24시간 이내 안내 이메일이 발송됩니다."]}),_.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>l("/"),children:"확인"})]})}):_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-900 py-12",children:_.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-md",children:[_.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"결제"}),_.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"결제 정보"}),_.jsxs("p",{className:"text-gray-300",children:["토토방 참가비: ",f.amount.toLocaleString(),"원"]}),_.jsxs("p",{className:"text-gray-300",children:["참가 날짜: ",f.date]})]}),_.jsxs("div",{className:"mb-6 p-4 bg-blue-900 rounded-lg",children:[_.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-300",children:"송금 안내"}),_.jsx("p",{className:"text-gray-300 mb-2",children:"아래 계좌로 송금해주세요:"}),_.jsxs("div",{className:"bg-dark-800 p-3 rounded",children:[_.jsx("p",{className:"text-white font-mono",children:" 국민 04850100056471"}),_.jsx("p",{className:"text-white font-mono",children:"예금주: (주)비잉"})]})]}),_.jsxs("form",{onSubmit:E,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),_.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:m,onChange:O=>v(O.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),_.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:T,onChange:O=>P(O.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),_.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:g,onChange:O=>w(O.target.value),required:!0})]}),o&&_.jsx("div",{className:"text-red-400 text-center",children:o}),_.jsx("button",{type:"submit",className:"btn-primary w-full py-3 text-lg",disabled:n,children:n?"결제 처리 중...":"송금 완료"})]})]})})},Y5=()=>{const t=tr();return k.useEffect(()=>{t("/")},[t]),null},Yo=k.createContext({user:null});function Q5(){const[t,e]=k.useState(!1),[n,r]=k.useState(null);return k.useEffect(()=>{const i=jo(vn),s=GN(i,o=>{r(o),console.log("Firebase 로그인 상태:",o)});return()=>s()},[]),_.jsx(Yo.Provider,{value:{user:n},children:_.jsx(F2,{children:_.jsxs("div",{className:"min-h-screen bg-dark-900",children:[_.jsx(Y2,{isMenuOpen:t,setIsMenuOpen:e}),_.jsx("main",{children:_.jsxs(p2,{children:[_.jsx(Vn,{path:"/",element:_.jsxs(_.Fragment,{children:[_.jsx(aF,{}),_.jsx(U3,{}),_.jsx(t9,{})]})}),_.jsx(Vn,{path:"/trial",element:_.jsx(F5,{})}),_.jsx(Vn,{path:"/admin/schedule",element:_.jsx(z5,{})}),_.jsx(Vn,{path:"/login",element:_.jsx(a9,{})}),_.jsx(Vn,{path:"/group-class",element:_.jsx($5,{})}),_.jsx(Vn,{path:"/admin/group-class-schedule",element:_.jsx(G5,{})}),_.jsx(Vn,{path:"/toto-room",element:_.jsx(q5,{})}),_.jsx(Vn,{path:"/payment",element:_.jsx(K5,{})}),_.jsx(Vn,{path:"/curriculum",element:_.jsx(Y5,{})})]})}),_.jsx(n9,{})]})})})}fp.createRoot(document.getElementById("root")).render(_.jsx(Pe.StrictMode,{children:_.jsx(Q5,{})}));
