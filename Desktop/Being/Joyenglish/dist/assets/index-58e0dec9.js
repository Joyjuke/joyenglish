(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ZP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PE={exports:{}},Kd={},AE={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),eA=Symbol.for("react.portal"),tA=Symbol.for("react.fragment"),nA=Symbol.for("react.strict_mode"),rA=Symbol.for("react.profiler"),iA=Symbol.for("react.provider"),sA=Symbol.for("react.context"),oA=Symbol.for("react.forward_ref"),aA=Symbol.for("react.suspense"),lA=Symbol.for("react.memo"),uA=Symbol.for("react.lazy"),f0=Symbol.iterator;function cA(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var kE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RE=Object.assign,DE={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=DE,this.updater=n||kE}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NE(){}NE.prototype=Lo.prototype;function lg(t,e,n){this.props=t,this.context=e,this.refs=DE,this.updater=n||kE}var ug=lg.prototype=new NE;ug.constructor=lg;RE(ug,Lo.prototype);ug.isPureReactComponent=!0;var p0=Array.isArray,OE=Object.prototype.hasOwnProperty,cg={current:null},VE={key:!0,ref:!0,__self:!0,__source:!0};function LE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)OE.call(e,r)&&!VE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ul,type:t,key:s,ref:o,props:i,_owner:cg.current}}function dA(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function hA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m0=/\/+/g;function sf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hA(""+t.key):e.toString(36)}function mc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case eA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sf(o,0):r,p0(i)?(n="",t!=null&&(n=t.replace(m0,"$&/")+"/"),mc(i,e,n,"",function(u){return u})):i!=null&&(dg(i)&&(i=dA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",p0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+sf(s,a);o+=mc(s,e,n,l,i)}else if(l=cA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+sf(s,a++),o+=mc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vu(t,e,n){if(t==null)return t;var r=[],i=0;return mc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},gc={transition:null},pA={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:gc,ReactCurrentOwner:cg};function ME(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Vu,forEach:function(t,e,n){Vu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vu(t,function(){e++}),e},toArray:function(t){return Vu(t,function(e){return e})||[]},only:function(t){if(!dg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Lo;ue.Fragment=tA;ue.Profiler=rA;ue.PureComponent=lg;ue.StrictMode=nA;ue.Suspense=aA;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pA;ue.act=ME;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)OE.call(e,l)&&!VE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ul,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:sA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iA,_context:t},t.Consumer=t};ue.createElement=LE;ue.createFactory=function(t){var e=LE.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:oA,render:t}};ue.isValidElement=dg;ue.lazy=function(t){return{$$typeof:uA,_payload:{_status:-1,_result:t},_init:fA}};ue.memo=function(t,e){return{$$typeof:lA,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=gc.transition;gc.transition={};try{t()}finally{gc.transition=e}};ue.unstable_act=ME;ue.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ue.useContext=function(t){return Vt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ue.useId=function(){return Vt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};ue.useRef=function(t){return Vt.current.useRef(t)};ue.useState=function(t){return Vt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Vt.current.useTransition()};ue.version="18.3.1";AE.exports=ue;var A=AE.exports;const Pe=ZP(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA=A,gA=Symbol.for("react.element"),yA=Symbol.for("react.fragment"),vA=Object.prototype.hasOwnProperty,wA=mA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_A={key:!0,ref:!0,__self:!0,__source:!0};function jE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vA.call(e,r)&&!_A.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gA,type:t,key:s,ref:o,props:i,_owner:wA.current}}Kd.Fragment=yA;Kd.jsx=jE;Kd.jsxs=jE;PE.exports=Kd;var v=PE.exports,pp={},FE={exports:{}},nn={},UE={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var q=F.length;F.push(W);e:for(;0<q;){var Q=q-1>>>1,ee=F[Q];if(0<i(ee,W))F[Q]=W,F[q]=ee,q=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],q=F.pop();if(q!==W){F[0]=q;e:for(var Q=0,ee=F.length,pe=ee>>>1;Q<pe;){var ot=2*(Q+1)-1,yt=F[ot],$e=ot+1,Ke=F[$e];if(0>i(yt,q))$e<ee&&0>i(Ke,yt)?(F[Q]=Ke,F[$e]=q,Q=$e):(F[Q]=yt,F[ot]=q,Q=ot);else if($e<ee&&0>i(Ke,q))F[Q]=Ke,F[$e]=q,Q=$e;else break e}}return W}function i(F,W){var q=F.sortIndex-W.sortIndex;return q!==0?q:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,w=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function D(F){if(E=!1,T(F),!w)if(n(l)!==null)w=!0,j(O);else{var W=n(u);W!==null&&K(D,W.startTime-F)}}function O(F,W){w=!1,E&&(E=!1,g(x),x=-1),m=!0;var q=f;try{for(T(W),h=n(l);h!==null&&(!(h.expirationTime>W)||F&&!k());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var ee=Q(h.expirationTime<=W);W=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),T(W)}else r(l);h=n(l)}if(h!==null)var pe=!0;else{var ot=n(u);ot!==null&&K(D,ot.startTime-W),pe=!1}return pe}finally{h=null,f=q,m=!1}}var V=!1,b=null,x=-1,S=5,I=-1;function k(){return!(t.unstable_now()-I<S)}function N(){if(b!==null){var F=t.unstable_now();I=F;var W=!0;try{W=b(!0,F)}finally{W?R():(V=!1,b=null)}}else V=!1}var R;if(typeof _=="function")R=function(){_(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=N,R=function(){B.postMessage(null)}}else R=function(){P(N,0)};function j(F){b=F,V||(V=!0,R())}function K(F,W){x=P(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,j(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var q=f;f=W;try{return F()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=f;f=F;try{return W()}finally{f=q}},t.unstable_scheduleCallback=function(F,W,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=q+ee,F={id:d++,callback:W,priorityLevel:F,startTime:q,expirationTime:ee,sortIndex:-1},q>Q?(F.sortIndex=q,e(u,F),n(l)===null&&F===n(u)&&(E?(g(x),x=-1):E=!0,K(D,q-Q))):(F.sortIndex=ee,e(l,F),w||m||(w=!0,j(O))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var W=f;return function(){var q=f;f=W;try{return F.apply(this,arguments)}finally{f=q}}}})(BE);UE.exports=BE;var TA=UE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA=A,en=TA;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zE=new Set,ll={};function vs(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(ll[t]=e,t=0;t<e.length;t++)zE.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,xA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},y0={};function SA(t){return mp.call(y0,t)?!0:mp.call(g0,t)?!1:xA.test(t)?y0[t]=!0:(g0[t]=!0,!1)}function IA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bA(t,e,n,r){if(e===null||typeof e>"u"||IA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hg=/[\-:]([a-z])/g;function fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hg,fg);mt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hg,fg);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hg,fg);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function pg(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bA(e,n,i,r)&&(n=null),r||i===null?SA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=EA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),WE=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),yg=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),HE=Symbol.for("react.offscreen"),v0=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,of;function Na(t){if(of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);of=e&&e[1]||""}return`
`+of+t}var af=!1;function lf(t,e){if(!t||af)return"";af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{af=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function CA(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=lf(t.type,!1),t;case 11:return t=lf(t.type.render,!1),t;case 1:return t=lf(t.type,!0),t;default:return""}}function wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Bs:return"Portal";case gp:return"Profiler";case mg:return"StrictMode";case yp:return"Suspense";case vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WE:return(t.displayName||"Context")+".Consumer";case $E:return(t._context.displayName||"Context")+".Provider";case gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yg:return e=t.displayName||null,e!==null?e:wp(t.type)||"Memo";case qr:e=t._payload,t=t._init;try{return wp(t(e))}catch{}}return null}function PA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wp(e);case 8:return e===mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AA(t){var e=GE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mu(t){t._valueTracker||(t._valueTracker=AA(t))}function qE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _p(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KE(t,e){e=e.checked,e!=null&&pg(t,"checked",e,!1)}function Tp(t,e){KE(t,e);var n=Ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ep(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ep(t,e.type,Ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ep(t,e,n){(e!=="number"||$c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oa=Array.isArray;function so(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ti(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Oa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ti(n)}}function YE(t,e){var n=Ti(e.value),r=Ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ju,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kA=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(t){kA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),za[e]=za[t]})});function JE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||za.hasOwnProperty(t)&&za[t]?(""+e).trim():e+"px"}function ZE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var RA=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(t,e){if(e){if(RA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function bp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pp=null,oo=null,ao=null;function x0(t){if(t=$l(t)){if(typeof Pp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Zd(e),Pp(t.stateNode,t.type,e))}}function ex(t){oo?ao?ao.push(t):ao=[t]:oo=t}function tx(){if(oo){var t=oo,e=ao;if(ao=oo=null,x0(t),e)for(t=0;t<e.length;t++)x0(e[t])}}function nx(t,e){return t(e)}function rx(){}var uf=!1;function ix(t,e,n){if(uf)return t(e,n);uf=!0;try{return nx(t,e,n)}finally{uf=!1,(oo!==null||ao!==null)&&(rx(),tx())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Ap=!1;if(Sr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Ap=!1}function DA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var $a=!1,Wc=null,Hc=!1,kp=null,NA={onError:function(t){$a=!0,Wc=t}};function OA(t,e,n,r,i,s,o,a,l){$a=!1,Wc=null,DA.apply(NA,arguments)}function VA(t,e,n,r,i,s,o,a,l){if(OA.apply(this,arguments),$a){if($a){var u=Wc;$a=!1,Wc=null}else throw Error(H(198));Hc||(Hc=!0,kp=u)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S0(t){if(ws(t)!==t)throw Error(H(188))}function LA(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S0(i),t;if(s===r)return S0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function ox(t){return t=LA(t),t!==null?ax(t):null}function ax(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ax(t);if(e!==null)return e;t=t.sibling}return null}var lx=en.unstable_scheduleCallback,I0=en.unstable_cancelCallback,MA=en.unstable_shouldYield,jA=en.unstable_requestPaint,ze=en.unstable_now,FA=en.unstable_getCurrentPriorityLevel,wg=en.unstable_ImmediatePriority,ux=en.unstable_UserBlockingPriority,Gc=en.unstable_NormalPriority,UA=en.unstable_LowPriority,cx=en.unstable_IdlePriority,Yd=null,$n=null;function BA(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Yd,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:WA,zA=Math.log,$A=Math.LN2;function WA(t){return t>>>=0,t===0?32:31-(zA(t)/$A|0)|0}var Fu=64,Uu=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Va(a):(s&=o,s!==0&&(r=Va(s)))}else o=n&~i,o!==0?r=Va(o):s!==0&&(r=Va(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function HA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=HA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dx(){var t=Fu;return Fu<<=1,!(Fu&4194240)&&(Fu=64),t}function cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function qA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _g(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function hx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fx,Tg,px,mx,gx,Dp=!1,Bu=[],si=null,oi=null,ai=null,dl=new Map,hl=new Map,Qr=[],KA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(t,e){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(e.pointerId)}}function xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$l(e),e!==null&&Tg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YA(t,e,n,r,i){switch(e){case"focusin":return si=xa(si,t,e,n,r,i),!0;case"dragenter":return oi=xa(oi,t,e,n,r,i),!0;case"mouseover":return ai=xa(ai,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,xa(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hl.set(s,xa(hl.get(s)||null,t,e,n,r,i)),!0}return!1}function yx(t){var e=Xi(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=sx(n),e!==null){t.blockedOn=e,gx(t.priority,function(){px(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Np(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cp=r,n.target.dispatchEvent(r),Cp=null}else return e=$l(n),e!==null&&Tg(e),t.blockedOn=n,!1;e.shift()}return!0}function C0(t,e,n){yc(t)&&n.delete(e)}function QA(){Dp=!1,si!==null&&yc(si)&&(si=null),oi!==null&&yc(oi)&&(oi=null),ai!==null&&yc(ai)&&(ai=null),dl.forEach(C0),hl.forEach(C0)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,QA)))}function fl(t){function e(i){return Sa(i,t)}if(0<Bu.length){Sa(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(si!==null&&Sa(si,t),oi!==null&&Sa(oi,t),ai!==null&&Sa(ai,t),dl.forEach(e),hl.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)yx(n),n.blockedOn===null&&Qr.shift()}var lo=Or.ReactCurrentBatchConfig,Kc=!0;function XA(t,e,n,r){var i=ve,s=lo.transition;lo.transition=null;try{ve=1,Eg(t,e,n,r)}finally{ve=i,lo.transition=s}}function JA(t,e,n,r){var i=ve,s=lo.transition;lo.transition=null;try{ve=4,Eg(t,e,n,r)}finally{ve=i,lo.transition=s}}function Eg(t,e,n,r){if(Kc){var i=Np(t,e,n,r);if(i===null)_f(t,e,r,Yc,n),b0(t,r);else if(YA(i,t,e,n,r))r.stopPropagation();else if(b0(t,r),e&4&&-1<KA.indexOf(t)){for(;i!==null;){var s=$l(i);if(s!==null&&fx(s),s=Np(t,e,n,r),s===null&&_f(t,e,r,Yc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _f(t,e,r,null,n)}}var Yc=null;function Np(t,e,n,r){if(Yc=null,t=vg(r),t=Xi(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FA()){case wg:return 1;case ux:return 4;case Gc:case UA:return 16;case cx:return 536870912;default:return 16}default:return 16}}var ti=null,xg=null,vc=null;function wx(){if(vc)return vc;var t,e=xg,n=e.length,r,i="value"in ti?ti.value:ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vc=i.slice(t,1<r?1-r:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zu(){return!0}function P0(){return!1}function rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zu:P0,this.isPropagationStopped=P0,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=rn(Mo),zl=Le({},Mo,{view:0,detail:0}),ZA=rn(zl),df,hf,Ia,Qd=Le({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ia&&(Ia&&t.type==="mousemove"?(df=t.screenX-Ia.screenX,hf=t.screenY-Ia.screenY):hf=df=0,Ia=t),df)},movementY:function(t){return"movementY"in t?t.movementY:hf}}),A0=rn(Qd),ek=Le({},Qd,{dataTransfer:0}),tk=rn(ek),nk=Le({},zl,{relatedTarget:0}),ff=rn(nk),rk=Le({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),ik=rn(rk),sk=Le({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ok=rn(sk),ak=Le({},Mo,{data:0}),k0=rn(ak),lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ck[t])?!!e[t]:!1}function Ig(){return dk}var hk=Le({},zl,{key:function(t){if(t.key){var e=lk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fk=rn(hk),pk=Le({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=rn(pk),mk=Le({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),gk=rn(mk),yk=Le({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vk=rn(yk),wk=Le({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_k=rn(wk),Tk=[9,13,27,32],bg=Sr&&"CompositionEvent"in window,Wa=null;Sr&&"documentMode"in document&&(Wa=document.documentMode);var Ek=Sr&&"TextEvent"in window&&!Wa,_x=Sr&&(!bg||Wa&&8<Wa&&11>=Wa),D0=String.fromCharCode(32),N0=!1;function Tx(t,e){switch(t){case"keyup":return Tk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ex(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function xk(t,e){switch(t){case"compositionend":return Ex(e);case"keypress":return e.which!==32?null:(N0=!0,D0);case"textInput":return t=e.data,t===D0&&N0?null:t;default:return null}}function Sk(t,e){if($s)return t==="compositionend"||!bg&&Tx(t,e)?(t=wx(),vc=xg=ti=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _x&&e.locale!=="ko"?null:e.data;default:return null}}var Ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ik[t.type]:e==="textarea"}function xx(t,e,n,r){ex(r),e=Qc(e,"onChange"),0<e.length&&(n=new Sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ha=null,pl=null;function bk(t){Ox(t,0)}function Xd(t){var e=Gs(t);if(qE(e))return t}function Ck(t,e){if(t==="change")return e}var Sx=!1;if(Sr){var pf;if(Sr){var mf="oninput"in document;if(!mf){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),mf=typeof V0.oninput=="function"}pf=mf}else pf=!1;Sx=pf&&(!document.documentMode||9<document.documentMode)}function L0(){Ha&&(Ha.detachEvent("onpropertychange",Ix),pl=Ha=null)}function Ix(t){if(t.propertyName==="value"&&Xd(pl)){var e=[];xx(e,pl,t,vg(t)),ix(bk,e)}}function Pk(t,e,n){t==="focusin"?(L0(),Ha=e,pl=n,Ha.attachEvent("onpropertychange",Ix)):t==="focusout"&&L0()}function Ak(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xd(pl)}function kk(t,e){if(t==="click")return Xd(e)}function Rk(t,e){if(t==="input"||t==="change")return Xd(e)}function Dk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:Dk;function ml(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mp.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function M0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j0(t,e){var n=M0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M0(n)}}function bx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cx(){for(var t=window,e=$c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$c(t.document)}return e}function Cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nk(t){var e=Cx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bx(n.ownerDocument.documentElement,n)){if(r!==null&&Cg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j0(n,s);var o=j0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ok=Sr&&"documentMode"in document&&11>=document.documentMode,Ws=null,Op=null,Ga=null,Vp=!1;function F0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vp||Ws==null||Ws!==$c(r)||(r=Ws,"selectionStart"in r&&Cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&ml(Ga,r)||(Ga=r,r=Qc(Op,"onSelect"),0<r.length&&(e=new Sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ws)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},gf={},Px={};Sr&&(Px=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Jd(t){if(gf[t])return gf[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Px)return gf[t]=e[n];return t}var Ax=Jd("animationend"),kx=Jd("animationiteration"),Rx=Jd("animationstart"),Dx=Jd("transitionend"),Nx=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){Nx.set(t,e),vs(e,[t])}for(var yf=0;yf<U0.length;yf++){var vf=U0[yf],Vk=vf.toLowerCase(),Lk=vf[0].toUpperCase()+vf.slice(1);Ni(Vk,"on"+Lk)}Ni(Ax,"onAnimationEnd");Ni(kx,"onAnimationIteration");Ni(Rx,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(Dx,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function B0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VA(r,e,void 0,t),t.currentTarget=null}function Ox(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;B0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;B0(i,a,u),s=l}}}if(Hc)throw t=kp,Hc=!1,kp=null,t}function Se(t,e){var n=e[Up];n===void 0&&(n=e[Up]=new Set);var r=t+"__bubble";n.has(r)||(Vx(e,t,2,!1),n.add(r))}function wf(t,e,n){var r=0;e&&(r|=4),Vx(n,t,r,e)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[Wu]){t[Wu]=!0,zE.forEach(function(n){n!=="selectionchange"&&(Mk.has(n)||wf(n,!1,t),wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wu]||(e[Wu]=!0,wf("selectionchange",!1,e))}}function Vx(t,e,n,r){switch(vx(e)){case 1:var i=XA;break;case 4:i=JA;break;default:i=Eg}n=i.bind(null,e,n,t),i=void 0,!Ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _f(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ix(function(){var u=s,d=vg(n),h=[];e:{var f=Nx.get(t);if(f!==void 0){var m=Sg,w=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":m=fk;break;case"focusin":w="focus",m=ff;break;case"focusout":w="blur",m=ff;break;case"beforeblur":case"afterblur":m=ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=A0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gk;break;case Ax:case kx:case Rx:m=ik;break;case Dx:m=vk;break;case"scroll":m=ZA;break;case"wheel":m=_k;break;case"copy":case"cut":case"paste":m=ok;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=R0}var E=(e&4)!==0,P=!E&&t==="scroll",g=E?f!==null?f+"Capture":null:f;E=[];for(var _=u,T;_!==null;){T=_;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,g!==null&&(D=cl(_,g),D!=null&&E.push(yl(_,D,T)))),P)break;_=_.return}0<E.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Cp&&(w=n.relatedTarget||n.fromElement)&&(Xi(w)||w[Ir]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Xi(w):null,w!==null&&(P=ws(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(E=A0,D="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=R0,D="onPointerLeave",g="onPointerEnter",_="pointer"),P=m==null?f:Gs(m),T=w==null?f:Gs(w),f=new E(D,_+"leave",m,n,d),f.target=P,f.relatedTarget=T,D=null,Xi(d)===u&&(E=new E(g,_+"enter",w,n,d),E.target=T,E.relatedTarget=P,D=E),P=D,m&&w)t:{for(E=m,g=w,_=0,T=E;T;T=Ls(T))_++;for(T=0,D=g;D;D=Ls(D))T++;for(;0<_-T;)E=Ls(E),_--;for(;0<T-_;)g=Ls(g),T--;for(;_--;){if(E===g||g!==null&&E===g.alternate)break t;E=Ls(E),g=Ls(g)}E=null}else E=null;m!==null&&z0(h,f,m,E,!1),w!==null&&P!==null&&z0(h,P,w,E,!0)}}e:{if(f=u?Gs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=Ck;else if(O0(f))if(Sx)O=Rk;else{O=Ak;var V=Pk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=kk);if(O&&(O=O(t,u))){xx(h,O,n,d);break e}V&&V(t,f,u),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&Ep(f,"number",f.value)}switch(V=u?Gs(u):window,t){case"focusin":(O0(V)||V.contentEditable==="true")&&(Ws=V,Op=u,Ga=null);break;case"focusout":Ga=Op=Ws=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,F0(h,n,d);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":F0(h,n,d)}var b;if(bg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else $s?Tx(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(_x&&n.locale!=="ko"&&($s||x!=="onCompositionStart"?x==="onCompositionEnd"&&$s&&(b=wx()):(ti=d,xg="value"in ti?ti.value:ti.textContent,$s=!0)),V=Qc(u,x),0<V.length&&(x=new k0(x,t,null,n,d),h.push({event:x,listeners:V}),b?x.data=b:(b=Ex(n),b!==null&&(x.data=b)))),(b=Ek?xk(t,n):Sk(t,n))&&(u=Qc(u,"onBeforeInput"),0<u.length&&(d=new k0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}Ox(h,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cl(t,n),s!=null&&r.unshift(yl(t,s,i)),s=cl(t,e),s!=null&&r.push(yl(t,s,i))),t=t.return}return r}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cl(n,s),l!=null&&o.unshift(yl(n,l,a))):i||(l=cl(n,s),l!=null&&o.push(yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jk=/\r\n?/g,Fk=/\u0000|\uFFFD/g;function $0(t){return(typeof t=="string"?t:""+t).replace(jk,`
`).replace(Fk,"")}function Hu(t,e,n){if(e=$0(e),$0(t)!==e&&n)throw Error(H(425))}function Xc(){}var Lp=null,Mp=null;function jp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,Uk=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,Bk=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(t){return W0.resolve(null).then(t).catch(zk)}:Fp;function zk(t){setTimeout(function(){throw t})}function Tf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fl(e)}function li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function H0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+jo,vl="__reactProps$"+jo,Ir="__reactContainer$"+jo,Up="__reactEvents$"+jo,$k="__reactListeners$"+jo,Wk="__reactHandles$"+jo;function Xi(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ir]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H0(t);t!==null;){if(n=t[Fn])return n;t=H0(t)}return e}t=n,n=t.parentNode}return null}function $l(t){return t=t[Fn]||t[Ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Zd(t){return t[vl]||null}var Bp=[],qs=-1;function Oi(t){return{current:t}}function be(t){0>qs||(t.current=Bp[qs],Bp[qs]=null,qs--)}function Ee(t,e){qs++,Bp[qs]=t.current,t.current=e}var Ei={},Pt=Oi(Ei),Wt=Oi(!1),as=Ei;function _o(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Jc(){be(Wt),be(Pt)}function G0(t,e,n){if(Pt.current!==Ei)throw Error(H(168));Ee(Pt,e),Ee(Wt,n)}function Lx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,PA(t)||"Unknown",i));return Le({},n,r)}function Zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,as=Pt.current,Ee(Pt,t),Ee(Wt,Wt.current),!0}function q0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Lx(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,be(Wt),be(Pt),Ee(Pt,t)):be(Wt),Ee(Wt,n)}var fr=null,eh=!1,Ef=!1;function Mx(t){fr===null?fr=[t]:fr.push(t)}function Hk(t){eh=!0,Mx(t)}function Vi(){if(!Ef&&fr!==null){Ef=!0;var t=0,e=ve;try{var n=fr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,eh=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),lx(wg,Vi),i}finally{ve=e,Ef=!1}}return null}var Ks=[],Ys=0,ed=null,td=0,ln=[],un=0,ls=null,mr=1,gr="";function Gi(t,e){Ks[Ys++]=td,Ks[Ys++]=ed,ed=t,td=e}function jx(t,e,n){ln[un++]=mr,ln[un++]=gr,ln[un++]=ls,ls=t;var r=mr;t=gr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mr=1<<32-An(e)+i|n<<i|r,gr=s+t}else mr=1<<s|n<<i|r,gr=t}function Pg(t){t.return!==null&&(Gi(t,1),jx(t,1,0))}function Ag(t){for(;t===ed;)ed=Ks[--Ys],Ks[Ys]=null,td=Ks[--Ys],Ks[Ys]=null;for(;t===ls;)ls=ln[--un],ln[un]=null,gr=ln[--un],ln[un]=null,mr=ln[--un],ln[un]=null}var Zt=null,Jt=null,Ae=!1,In=null;function Fx(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Jt=null,!0):!1;default:return!1}}function zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $p(t){if(Ae){var e=Jt;if(e){var n=e;if(!K0(t,e)){if(zp(t))throw Error(H(418));e=li(n.nextSibling);var r=Zt;e&&K0(t,e)?Fx(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Zt=t)}}else{if(zp(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ae=!1,Zt=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Gu(t){if(t!==Zt)return!1;if(!Ae)return Y0(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jp(t.type,t.memoizedProps)),e&&(e=Jt)){if(zp(t))throw Ux(),Error(H(418));for(;e;)Fx(t,e),e=li(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Zt?li(t.stateNode.nextSibling):null;return!0}function Ux(){for(var t=Jt;t;)t=li(t.nextSibling)}function To(){Jt=Zt=null,Ae=!1}function kg(t){In===null?In=[t]:In.push(t)}var Gk=Or.ReactCurrentBatchConfig;function ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function qu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q0(t){var e=t._init;return e(t._payload)}function Bx(t){function e(g,_){if(t){var T=g.deletions;T===null?(g.deletions=[_],g.flags|=16):T.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=hi(g,_),g.index=0,g.sibling=null,g}function s(g,_,T){return g.index=T,t?(T=g.alternate,T!==null?(T=T.index,T<_?(g.flags|=2,_):T):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,T,D){return _===null||_.tag!==6?(_=Af(T,g.mode,D),_.return=g,_):(_=i(_,T),_.return=g,_)}function l(g,_,T,D){var O=T.type;return O===zs?d(g,_,T.props.children,D,T.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qr&&Q0(O)===_.type)?(D=i(_,T.props),D.ref=ba(g,_,T),D.return=g,D):(D=bc(T.type,T.key,T.props,null,g.mode,D),D.ref=ba(g,_,T),D.return=g,D)}function u(g,_,T,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=kf(T,g.mode,D),_.return=g,_):(_=i(_,T.children||[]),_.return=g,_)}function d(g,_,T,D,O){return _===null||_.tag!==7?(_=is(T,g.mode,D,O),_.return=g,_):(_=i(_,T),_.return=g,_)}function h(g,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Af(""+_,g.mode,T),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lu:return T=bc(_.type,_.key,_.props,null,g.mode,T),T.ref=ba(g,null,_),T.return=g,T;case Bs:return _=kf(_,g.mode,T),_.return=g,_;case qr:var D=_._init;return h(g,D(_._payload),T)}if(Oa(_)||Ta(_))return _=is(_,g.mode,T,null),_.return=g,_;qu(g,_)}return null}function f(g,_,T,D){var O=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(g,_,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Lu:return T.key===O?l(g,_,T,D):null;case Bs:return T.key===O?u(g,_,T,D):null;case qr:return O=T._init,f(g,_,O(T._payload),D)}if(Oa(T)||Ta(T))return O!==null?null:d(g,_,T,D,null);qu(g,T)}return null}function m(g,_,T,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return g=g.get(T)||null,a(_,g,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Lu:return g=g.get(D.key===null?T:D.key)||null,l(_,g,D,O);case Bs:return g=g.get(D.key===null?T:D.key)||null,u(_,g,D,O);case qr:var V=D._init;return m(g,_,T,V(D._payload),O)}if(Oa(D)||Ta(D))return g=g.get(T)||null,d(_,g,D,O,null);qu(_,D)}return null}function w(g,_,T,D){for(var O=null,V=null,b=_,x=_=0,S=null;b!==null&&x<T.length;x++){b.index>x?(S=b,b=null):S=b.sibling;var I=f(g,b,T[x],D);if(I===null){b===null&&(b=S);break}t&&b&&I.alternate===null&&e(g,b),_=s(I,_,x),V===null?O=I:V.sibling=I,V=I,b=S}if(x===T.length)return n(g,b),Ae&&Gi(g,x),O;if(b===null){for(;x<T.length;x++)b=h(g,T[x],D),b!==null&&(_=s(b,_,x),V===null?O=b:V.sibling=b,V=b);return Ae&&Gi(g,x),O}for(b=r(g,b);x<T.length;x++)S=m(b,g,x,T[x],D),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?x:S.key),_=s(S,_,x),V===null?O=S:V.sibling=S,V=S);return t&&b.forEach(function(k){return e(g,k)}),Ae&&Gi(g,x),O}function E(g,_,T,D){var O=Ta(T);if(typeof O!="function")throw Error(H(150));if(T=O.call(T),T==null)throw Error(H(151));for(var V=O=null,b=_,x=_=0,S=null,I=T.next();b!==null&&!I.done;x++,I=T.next()){b.index>x?(S=b,b=null):S=b.sibling;var k=f(g,b,I.value,D);if(k===null){b===null&&(b=S);break}t&&b&&k.alternate===null&&e(g,b),_=s(k,_,x),V===null?O=k:V.sibling=k,V=k,b=S}if(I.done)return n(g,b),Ae&&Gi(g,x),O;if(b===null){for(;!I.done;x++,I=T.next())I=h(g,I.value,D),I!==null&&(_=s(I,_,x),V===null?O=I:V.sibling=I,V=I);return Ae&&Gi(g,x),O}for(b=r(g,b);!I.done;x++,I=T.next())I=m(b,g,x,I.value,D),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?x:I.key),_=s(I,_,x),V===null?O=I:V.sibling=I,V=I);return t&&b.forEach(function(N){return e(g,N)}),Ae&&Gi(g,x),O}function P(g,_,T,D){if(typeof T=="object"&&T!==null&&T.type===zs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Lu:e:{for(var O=T.key,V=_;V!==null;){if(V.key===O){if(O=T.type,O===zs){if(V.tag===7){n(g,V.sibling),_=i(V,T.props.children),_.return=g,g=_;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qr&&Q0(O)===V.type){n(g,V.sibling),_=i(V,T.props),_.ref=ba(g,V,T),_.return=g,g=_;break e}n(g,V);break}else e(g,V);V=V.sibling}T.type===zs?(_=is(T.props.children,g.mode,D,T.key),_.return=g,g=_):(D=bc(T.type,T.key,T.props,null,g.mode,D),D.ref=ba(g,_,T),D.return=g,g=D)}return o(g);case Bs:e:{for(V=T.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(g,_.sibling),_=i(_,T.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=kf(T,g.mode,D),_.return=g,g=_}return o(g);case qr:return V=T._init,P(g,_,V(T._payload),D)}if(Oa(T))return w(g,_,T,D);if(Ta(T))return E(g,_,T,D);qu(g,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,T),_.return=g,g=_):(n(g,_),_=Af(T,g.mode,D),_.return=g,g=_),o(g)):n(g,_)}return P}var Eo=Bx(!0),zx=Bx(!1),nd=Oi(null),rd=null,Qs=null,Rg=null;function Dg(){Rg=Qs=rd=null}function Ng(t){var e=nd.current;be(nd),t._currentValue=e}function Wp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){rd=t,Rg=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(Rg!==t)if(t={context:t,memoizedValue:e,next:null},Qs===null){if(rd===null)throw Error(H(308));Qs=t,rd.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return e}var Ji=null;function Og(t){Ji===null?Ji=[t]:Ji.push(t)}function $x(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Og(e)):(n.next=i.next,i.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function Vg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,br(t,n)}return i=r.interleaved,i===null?(e.next=e,Og(r)):(e.next=i.next,i.next=e),r.interleaved=e,br(t,n)}function _c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(f=e,m=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Le({},h,f);break e;case 2:Kr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cs|=o,t.lanes=o,t.memoizedState=h}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Wl={},Wn=Oi(Wl),wl=Oi(Wl),_l=Oi(Wl);function Zi(t){if(t===Wl)throw Error(H(174));return t}function Lg(t,e){switch(Ee(_l,e),Ee(wl,t),Ee(Wn,Wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sp(e,t)}be(Wn),Ee(Wn,e)}function xo(){be(Wn),be(wl),be(_l)}function Hx(t){Zi(_l.current);var e=Zi(Wn.current),n=Sp(e,t.type);e!==n&&(Ee(wl,t),Ee(Wn,n))}function Mg(t){wl.current===t&&(be(Wn),be(wl))}var De=Oi(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function jg(){for(var t=0;t<xf.length;t++)xf[t]._workInProgressVersionPrimary=null;xf.length=0}var Tc=Or.ReactCurrentDispatcher,Sf=Or.ReactCurrentBatchConfig,us=0,Oe=null,Ye=null,it=null,od=!1,qa=!1,Tl=0,qk=0;function Tt(){throw Error(H(321))}function Fg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Ug(t,e,n,r,i,s){if(us=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?Xk:Jk,t=n(r,i),qa){s=0;do{if(qa=!1,Tl=0,25<=s)throw Error(H(301));s+=1,it=Ye=null,e.updateQueue=null,Tc.current=Zk,t=n(r,i)}while(qa)}if(Tc.current=ad,e=Ye!==null&&Ye.next!==null,us=0,it=Ye=Oe=null,od=!1,e)throw Error(H(300));return t}function Bg(){var t=Tl!==0;return Tl=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Oe.memoizedState=it=t:it=it.next=t,it}function yn(){if(Ye===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=it===null?Oe.memoizedState:it.next;if(e!==null)it=e,Ye=t;else{if(t===null)throw Error(H(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},it===null?Oe.memoizedState=it=t:it=it.next=t}return it}function El(t,e){return typeof e=="function"?e(t):e}function If(t){var e=yn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((us&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Oe.lanes|=d,cs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bf(t){var e=yn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gx(){}function qx(t,e){var n=Oe,r=yn(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,zg(Qx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,xl(9,Yx.bind(null,n,r,i,e),void 0,null),st===null)throw Error(H(349));us&30||Kx(n,e,i)}return i}function Kx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yx(t,e,n,r){e.value=n,e.getSnapshot=r,Xx(e)&&Jx(t)}function Qx(t,e,n){return n(function(){Xx(e)&&Jx(t)})}function Xx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function Jx(t){var e=br(t,1);e!==null&&kn(e,t,1,-1)}function Z0(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:t},e.queue=t,t=t.dispatch=Qk.bind(null,Oe,t),[e.memoizedState,t]}function xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zx(){return yn().memoizedState}function Ec(t,e,n,r){var i=Mn();Oe.flags|=t,i.memoizedState=xl(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=yn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&Fg(r,o.deps)){i.memoizedState=xl(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=xl(1|e,n,s,r)}function ew(t,e){return Ec(8390656,8,t,e)}function zg(t,e){return th(2048,8,t,e)}function e1(t,e){return th(4,2,t,e)}function t1(t,e){return th(4,4,t,e)}function n1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r1(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,n1.bind(null,e,t),n)}function $g(){}function i1(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function s1(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function o1(t,e,n){return us&21?(Dn(n,e)||(n=dx(),Oe.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function Kk(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Sf.transition;Sf.transition={};try{t(!1),e()}finally{ve=n,Sf.transition=r}}function a1(){return yn().memoizedState}function Yk(t,e,n){var r=di(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l1(t))u1(e,n);else if(n=$x(t,e,n,r),n!==null){var i=Ot();kn(n,t,r,i),c1(n,e,r)}}function Qk(t,e,n){var r=di(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l1(t))u1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(i.next=i,Og(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$x(t,e,i,r),n!==null&&(i=Ot(),kn(n,t,r,i),c1(n,e,r))}}function l1(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function u1(t,e){qa=od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}var ad={readContext:gn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},Xk={readContext:gn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4194308,4,n1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ec(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Yk.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:Z0,useDebugValue:$g,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=Z0(!1),e=t[0];return t=Kk.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Mn();if(Ae){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),st===null)throw Error(H(349));us&30||Kx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ew(Qx.bind(null,r,s,t),[t]),r.flags|=2048,xl(9,Yx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mn(),e=st.identifierPrefix;if(Ae){var n=gr,r=mr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jk={readContext:gn,useCallback:i1,useContext:gn,useEffect:zg,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:If,useRef:Zx,useState:function(){return If(El)},useDebugValue:$g,useDeferredValue:function(t){var e=yn();return o1(e,Ye.memoizedState,t)},useTransition:function(){var t=If(El)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Gx,useSyncExternalStore:qx,useId:a1,unstable_isNewReconciler:!1},Zk={readContext:gn,useCallback:i1,useContext:gn,useEffect:zg,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:bf,useRef:Zx,useState:function(){return bf(El)},useDebugValue:$g,useDeferredValue:function(t){var e=yn();return Ye===null?e.memoizedState=t:o1(e,Ye.memoizedState,t)},useTransition:function(){var t=bf(El)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Gx,useSyncExternalStore:qx,useId:a1,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nh={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=di(t),s=_r(r,i);s.payload=e,n!=null&&(s.callback=n),e=ui(t,s,i),e!==null&&(kn(e,t,i,r),_c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=di(t),s=_r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ui(t,s,i),e!==null&&(kn(e,t,i,r),_c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=di(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=ui(t,i,r),e!==null&&(kn(e,t,r,n),_c(e,t,r))}};function tw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,s):!0}function d1(t,e,n){var r=!1,i=Ei,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Ht(e)?as:Pt.current,r=e.contextTypes,s=(r=r!=null)?_o(t,i):Ei),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function Gp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Ht(e)?as:Pt.current,i.context=_o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nh.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=CA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eR=typeof WeakMap=="function"?WeakMap:Map;function h1(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,rm=r),qp(t,e)},n}function f1(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qp(t,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pR.bind(null,t,e,n),e.then(t,t))}function iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,ui(n,e,1))),n.lanes|=1),t)}var tR=Or.ReactCurrentOwner,$t=!1;function Nt(t,e,n,r){e.child=t===null?zx(e,null,n,r):Eo(e,t.child,n,r)}function ow(t,e,n,r,i){n=n.render;var s=e.ref;return uo(e,i),r=Ug(t,e,n,r,s,i),n=Bg(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cr(t,e,i)):(Ae&&n&&Pg(e),e.flags|=1,Nt(t,e,r,i),e.child)}function aw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,p1(t,e,s,r,i)):(t=bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(o,r)&&t.ref===e.ref)return Cr(t,e,i)}return e.flags|=1,t=hi(s,r),t.ref=e.ref,t.return=e,e.child=t}function p1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ml(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,Cr(t,e,i)}return Kp(t,e,n,r,i)}function m1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Js,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Js,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Js,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Js,Qt),Qt|=r;return Nt(t,e,i,n),e.child}function g1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kp(t,e,n,r,i){var s=Ht(n)?as:Pt.current;return s=_o(e,s),uo(e,i),n=Ug(t,e,n,r,s,i),r=Bg(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cr(t,e,i)):(Ae&&r&&Pg(e),e.flags|=1,Nt(t,e,n,i),e.child)}function lw(t,e,n,r,i){if(Ht(n)){var s=!0;Zc(e)}else s=!1;if(uo(e,i),e.stateNode===null)xc(t,e),d1(e,n,r),Gp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Ht(n)?as:Pt.current,u=_o(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&nw(e,o,r,u),Kr=!1;var f=e.memoizedState;o.state=f,id(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Wt.current||Kr?(typeof d=="function"&&(Hp(e,n,d,r),l=e.memoizedState),(a=Kr||tw(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Ht(n)?as:Pt.current,l=_o(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&nw(e,o,r,l),Kr=!1,f=e.memoizedState,o.state=f,id(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||Wt.current||Kr?(typeof m=="function"&&(Hp(e,n,m,r),w=e.memoizedState),(u=Kr||tw(e,n,u,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Yp(t,e,n,r,s,i)}function Yp(t,e,n,r,i,s){g1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&q0(e,n,!1),Cr(t,e,s);r=e.stateNode,tR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,s),e.child=Eo(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&q0(e,n,!0),e.child}function y1(t){var e=t.stateNode;e.pendingContext?G0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G0(t,e.context,!1),Lg(t,e.containerInfo)}function uw(t,e,n,r,i){return To(),kg(i),e.flags|=256,Nt(t,e,n,r),e.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Xp(t){return{baseLanes:t,cachePool:null,transitions:null}}function v1(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(De,i&1),t===null)return $p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sh(o,r,0,null),t=is(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xp(n),e.memoizedState=Qp,t):Wg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hi(a,s):(s=is(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qp,r}return s=t.child,t=s.sibling,r=hi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wg(t,e){return e=sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ku(t,e,n,r){return r!==null&&kg(r),Eo(e,t.child,null,n),t=Wg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cf(Error(H(422))),Ku(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sh({mode:"visible",children:r.children},i,0,null),s=is(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=Xp(o),e.memoizedState=Qp,s);if(!(e.mode&1))return Ku(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Cf(s,r,void 0),Ku(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,br(t,i),kn(r,t,i,-1))}return Qg(),r=Cf(Error(H(421))),Ku(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=li(i.nextSibling),Zt=e,Ae=!0,In=null,t!==null&&(ln[un++]=mr,ln[un++]=gr,ln[un++]=ls,mr=t.id,gr=t.overflow,ls=e),e=Wg(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wp(t.return,e,n)}function Pf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function w1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pf(e,!0,n,null,s);break;case"together":Pf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rR(t,e,n){switch(e.tag){case 3:y1(e),To();break;case 5:Hx(e);break;case 1:Ht(e.type)&&Zc(e);break;case 4:Lg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?v1(t,e,n):(Ee(De,De.current&1),t=Cr(t,e,n),t!==null?t.sibling:null);Ee(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return w1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,m1(t,e,n)}return Cr(t,e,n)}var _1,Jp,T1,E1;_1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jp=function(){};T1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zi(Wn.current);var s=null;switch(n){case"input":i=_p(t,i),r=_p(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=xp(t,i),r=xp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xc)}Ip(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};E1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ca(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iR(t,e,n){var r=e.pendingProps;switch(Ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Ht(e.type)&&Jc(),Et(e),null;case 3:return r=e.stateNode,xo(),be(Wt),be(Pt),jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(om(In),In=null))),Jp(t,e),Et(e),null;case 5:Mg(e);var i=Zi(_l.current);if(n=e.type,t!==null&&e.stateNode!=null)T1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Et(e),null}if(t=Zi(Wn.current),Gu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[vl]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Se(La[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":w0(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":T0(r,s),Se("invalid",r)}Ip(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Mu(r),_0(r,s,!0);break;case"textarea":Mu(r),E0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[vl]=r,_1(t,e,!1,!1),e.stateNode=t;e:{switch(o=bp(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Se(La[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":w0(t,r),i=_p(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Se("invalid",t);break;case"textarea":T0(t,r),i=xp(t,r),Se("invalid",t);break;default:i=r}Ip(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ZE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ll.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&pg(t,s,l,o))}switch(n){case"input":Mu(t),_0(t,r,!1);break;case"textarea":Mu(t),E0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ti(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?so(t,!!r.multiple,s,!1):r.defaultValue!=null&&so(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)E1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Zi(_l.current),Zi(Wn.current),Gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Hu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return Et(e),null;case 13:if(be(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Jt!==null&&e.mode&1&&!(e.flags&128))Ux(),To(),e.flags|=98560,s=!1;else if(s=Gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Fn]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else In!==null&&(om(In),In=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Xe===0&&(Xe=3):Qg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return xo(),Jp(t,e),t===null&&gl(e.stateNode.containerInfo),Et(e),null;case 10:return Ng(e.type._context),Et(e),null;case 17:return Ht(e.type)&&Jc(),Et(e),null;case 19:if(be(De),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ca(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sd(t),o!==null){for(e.flags|=128,Ca(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Io&&(e.flags|=128,r=!0,Ca(s,!1),e.lanes=4194304)}else{if(!r)if(t=sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return Et(e),null}else 2*ze()-s.renderingStartTime>Io&&n!==1073741824&&(e.flags|=128,r=!0,Ca(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=De.current,Ee(De,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Yg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function sR(t,e){switch(Ag(e),e.tag){case 1:return Ht(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),be(Wt),be(Pt),jg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mg(e),null;case 13:if(be(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(De),null;case 4:return xo(),null;case 10:return Ng(e.type._context),null;case 22:case 23:return Yg(),null;case 24:return null;default:return null}}var Yu=!1,bt=!1,oR=typeof WeakSet=="function"?WeakSet:Set,X=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Zp(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var dw=!1;function aR(t,e){if(Lp=Kc,t=Cx(),Cg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mp={focusedElem:t,selectionRange:n},Kc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,P=w.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?E:xn(e.type,E),P);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(D){Fe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=dw,dw=!1,w}function Ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zp(e,n,s)}i=i.next}while(i!==r)}}function rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x1(t){var e=t.alternate;e!==null&&(t.alternate=null,x1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[vl],delete e[Up],delete e[$k],delete e[Wk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S1(t){return t.tag===5||t.tag===3||t.tag===4}function hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xc));else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}function nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}var ut=null,Sn=!1;function Wr(t,e,n){for(n=n.child;n!==null;)I1(t,e,n),n=n.sibling}function I1(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Yd,n)}catch{}switch(n.tag){case 5:bt||Xs(n,e);case 6:var r=ut,i=Sn;ut=null,Wr(t,e,n),ut=r,Sn=i,ut!==null&&(Sn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Sn?(t=ut,n=n.stateNode,t.nodeType===8?Tf(t.parentNode,n):t.nodeType===1&&Tf(t,n),fl(t)):Tf(ut,n.stateNode));break;case 4:r=ut,i=Sn,ut=n.stateNode.containerInfo,Sn=!0,Wr(t,e,n),ut=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zp(n,e,o),i=i.next}while(i!==r)}Wr(t,e,n);break;case 1:if(!bt&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Wr(t,e,n);break;case 21:Wr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Wr(t,e,n),bt=r):Wr(t,e,n);break;default:Wr(t,e,n)}}function fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oR),e.forEach(function(r){var i=gR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Sn=!1;break e;case 3:ut=a.stateNode.containerInfo,Sn=!0;break e;case 4:ut=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(ut===null)throw Error(H(160));I1(s,o,i),ut=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b1(e,t),e=e.sibling}function b1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Vn(t),r&4){try{Ka(3,t,t.return),rh(3,t)}catch(E){Fe(t,t.return,E)}try{Ka(5,t,t.return)}catch(E){Fe(t,t.return,E)}}break;case 1:Tn(e,t),Vn(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(Tn(e,t),Vn(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(E){Fe(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&KE(i,s),bp(a,o);var u=bp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ZE(i,h):d==="dangerouslySetInnerHTML"?XE(i,h):d==="children"?ul(i,h):pg(i,d,h,u)}switch(a){case"input":Tp(i,s);break;case"textarea":YE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?so(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?so(i,!!s.multiple,s.defaultValue,!0):so(i,!!s.multiple,s.multiple?[]:"",!1))}i[vl]=s}catch(E){Fe(t,t.return,E)}}break;case 6:if(Tn(e,t),Vn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Fe(t,t.return,E)}}break;case 3:if(Tn(e,t),Vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(E){Fe(t,t.return,E)}break;case 4:Tn(e,t),Vn(t);break;case 13:Tn(e,t),Vn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qg=ze())),r&4&&fw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,Tn(e,t),bt=u):Tn(e,t),Vn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ka(4,f,f.return);break;case 1:Xs(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){Fe(r,n,E)}}break;case 5:Xs(f,f.return);break;case 22:if(f.memoizedState!==null){mw(h);continue}}m!==null?(m.return=f,X=m):mw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JE("display",o))}catch(E){Fe(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Fe(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tn(e,t),Vn(t),r&4&&fw(t);break;case 21:break;default:Tn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S1(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var s=hw(t);nm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hw(t);tm(t,a,o);break;default:throw Error(H(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lR(t,e,n){X=t,C1(t)}function C1(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Yu;var u=bt;if(Yu=o,(bt=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?gw(i):l!==null?(l.return=o,X=l):gw(i);for(;s!==null;)X=s,C1(s),s=s.sibling;X=i,Yu=a,bt=u}pw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):pw(t)}}function pw(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}bt||e.flags&512&&em(e)}catch(f){Fe(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function mw(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function gw(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rh(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{em(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{em(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var uR=Math.ceil,ld=Or.ReactCurrentDispatcher,Hg=Or.ReactCurrentOwner,pn=Or.ReactCurrentBatchConfig,fe=0,st=null,Ge=null,pt=0,Qt=0,Js=Oi(0),Xe=0,Sl=null,cs=0,ih=0,Gg=0,Ya=null,zt=null,qg=0,Io=1/0,hr=null,ud=!1,rm=null,ci=null,Qu=!1,ni=null,cd=0,Qa=0,im=null,Sc=-1,Ic=0;function Ot(){return fe&6?ze():Sc!==-1?Sc:Sc=ze()}function di(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:Gk.transition!==null?(Ic===0&&(Ic=dx()),Ic):(t=ve,t!==0||(t=window.event,t=t===void 0?16:vx(t.type)),t):1}function kn(t,e,n,r){if(50<Qa)throw Qa=0,im=null,Error(H(185));Bl(t,n,r),(!(fe&2)||t!==st)&&(t===st&&(!(fe&2)&&(ih|=n),Xe===4&&Xr(t,pt)),Gt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Io=ze()+500,eh&&Vi()))}function Gt(t,e){var n=t.callbackNode;GA(t,e);var r=qc(t,t===st?pt:0);if(r===0)n!==null&&I0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&I0(n),e===1)t.tag===0?Hk(yw.bind(null,t)):Mx(yw.bind(null,t)),Bk(function(){!(fe&6)&&Vi()}),n=null;else{switch(hx(r)){case 1:n=wg;break;case 4:n=ux;break;case 16:n=Gc;break;case 536870912:n=cx;break;default:n=Gc}n=V1(n,P1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P1(t,e){if(Sc=-1,Ic=0,fe&6)throw Error(H(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=qc(t,t===st?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dd(t,r);else{e=r;var i=fe;fe|=2;var s=k1();(st!==t||pt!==e)&&(hr=null,Io=ze()+500,rs(t,e));do try{hR();break}catch(a){A1(t,a)}while(1);Dg(),ld.current=s,fe=i,Ge!==null?e=0:(st=null,pt=0,e=Xe)}if(e!==0){if(e===2&&(i=Rp(t),i!==0&&(r=i,e=sm(t,i))),e===1)throw n=Sl,rs(t,0),Xr(t,r),Gt(t,ze()),n;if(e===6)Xr(t,r);else{if(i=t.current.alternate,!(r&30)&&!cR(i)&&(e=dd(t,r),e===2&&(s=Rp(t),s!==0&&(r=s,e=sm(t,s))),e===1))throw n=Sl,rs(t,0),Xr(t,r),Gt(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:qi(t,zt,hr);break;case 3:if(Xr(t,r),(r&130023424)===r&&(e=qg+500-ze(),10<e)){if(qc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fp(qi.bind(null,t,zt,hr),e);break}qi(t,zt,hr);break;case 4:if(Xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uR(r/1960))-r,10<r){t.timeoutHandle=Fp(qi.bind(null,t,zt,hr),r);break}qi(t,zt,hr);break;case 5:qi(t,zt,hr);break;default:throw Error(H(329))}}}return Gt(t,ze()),t.callbackNode===n?P1.bind(null,t):null}function sm(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=dd(t,e),t!==2&&(e=zt,zt=n,e!==null&&om(e)),t}function om(t){zt===null?zt=t:zt.push.apply(zt,t)}function cR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xr(t,e){for(e&=~Gg,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function yw(t){if(fe&6)throw Error(H(327));co();var e=qc(t,0);if(!(e&1))return Gt(t,ze()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=Rp(t);r!==0&&(e=r,n=sm(t,r))}if(n===1)throw n=Sl,rs(t,0),Xr(t,e),Gt(t,ze()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,zt,hr),Gt(t,ze()),null}function Kg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Io=ze()+500,eh&&Vi())}}function ds(t){ni!==null&&ni.tag===0&&!(fe&6)&&co();var e=fe;fe|=1;var n=pn.transition,r=ve;try{if(pn.transition=null,ve=1,t)return t()}finally{ve=r,pn.transition=n,fe=e,!(fe&6)&&Vi()}}function Yg(){Qt=Js.current,be(Js)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Uk(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jc();break;case 3:xo(),be(Wt),be(Pt),jg();break;case 5:Mg(r);break;case 4:xo();break;case 13:be(De);break;case 19:be(De);break;case 10:Ng(r.type._context);break;case 22:case 23:Yg()}n=n.return}if(st=t,Ge=t=hi(t.current,null),pt=Qt=e,Xe=0,Sl=null,Gg=ih=cs=0,zt=Ya=null,Ji!==null){for(e=0;e<Ji.length;e++)if(n=Ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ji=null}return t}function A1(t,e){do{var n=Ge;try{if(Dg(),Tc.current=ad,od){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}od=!1}if(us=0,it=Ye=Oe=null,qa=!1,Tl=0,Hg.current=null,n===null||n.return===null){Xe=1,Sl=e,Ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=iw(o);if(m!==null){m.flags&=-257,sw(m,o,a,s,e),m.mode&1&&rw(s,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var E=new Set;E.add(l),e.updateQueue=E}else w.add(l);break e}else{if(!(e&1)){rw(s,u,e),Qg();break e}l=Error(H(426))}}else if(Ae&&a.mode&1){var P=iw(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),sw(P,o,a,s,e),kg(So(l,a));break e}}s=l=So(l,a),Xe!==4&&(Xe=2),Ya===null?Ya=[s]:Ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=h1(s,l,e);X0(s,g);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ci===null||!ci.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=f1(s,a,e);X0(s,D);break e}}s=s.return}while(s!==null)}D1(n)}catch(O){e=O,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function k1(){var t=ld.current;return ld.current=ad,t===null?ad:t}function Qg(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),st===null||!(cs&268435455)&&!(ih&268435455)||Xr(st,pt)}function dd(t,e){var n=fe;fe|=2;var r=k1();(st!==t||pt!==e)&&(hr=null,rs(t,e));do try{dR();break}catch(i){A1(t,i)}while(1);if(Dg(),fe=n,ld.current=r,Ge!==null)throw Error(H(261));return st=null,pt=0,Xe}function dR(){for(;Ge!==null;)R1(Ge)}function hR(){for(;Ge!==null&&!MA();)R1(Ge)}function R1(t){var e=O1(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?D1(t):Ge=e,Hg.current=null}function D1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sR(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ge=null;return}}else if(n=iR(n,e,Qt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Xe===0&&(Xe=5)}function qi(t,e,n){var r=ve,i=pn.transition;try{pn.transition=null,ve=1,fR(t,e,n,r)}finally{pn.transition=i,ve=r}return null}function fR(t,e,n,r){do co();while(ni!==null);if(fe&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qA(t,s),t===st&&(Ge=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qu||(Qu=!0,V1(Gc,function(){return co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=ve;ve=1;var a=fe;fe|=4,Hg.current=null,aR(t,n),b1(n,t),Nk(Mp),Kc=!!Lp,Mp=Lp=null,t.current=n,lR(n),jA(),fe=a,ve=o,pn.transition=s}else t.current=n;if(Qu&&(Qu=!1,ni=t,cd=i),s=t.pendingLanes,s===0&&(ci=null),BA(n.stateNode),Gt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=rm,rm=null,t;return cd&1&&t.tag!==0&&co(),s=t.pendingLanes,s&1?t===im?Qa++:(Qa=0,im=t):Qa=0,Vi(),null}function co(){if(ni!==null){var t=hx(cd),e=pn.transition,n=ve;try{if(pn.transition=null,ve=16>t?16:t,ni===null)var r=!1;else{if(t=ni,ni=null,cd=0,fe&6)throw Error(H(331));var i=fe;for(fe|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Ka(8,d,s)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(x1(d),d===u){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var P=E.sibling;E.sibling=null,E=P}while(E!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ka(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,X=g;break e}X=s.return}}var _=t.current;for(X=_;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=_;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rh(9,a)}}catch(O){Fe(a,a.return,O)}if(a===o){X=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,X=D;break e}X=a.return}}if(fe=i,Vi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Yd,t)}catch{}r=!0}return r}finally{ve=n,pn.transition=e}}return!1}function vw(t,e,n){e=So(n,e),e=h1(t,e,1),t=ui(t,e,1),e=Ot(),t!==null&&(Bl(t,1,e),Gt(t,e))}function Fe(t,e,n){if(t.tag===3)vw(t,t,n);else for(;e!==null;){if(e.tag===3){vw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){t=So(n,t),t=f1(e,t,1),e=ui(e,t,1),t=Ot(),e!==null&&(Bl(e,1,t),Gt(e,t));break}}e=e.return}}function pR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(pt&n)===n&&(Xe===4||Xe===3&&(pt&130023424)===pt&&500>ze()-qg?rs(t,0):Gg|=n),Gt(t,e)}function N1(t,e){e===0&&(t.mode&1?(e=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):e=1);var n=Ot();t=br(t,e),t!==null&&(Bl(t,e,n),Gt(t,n))}function mR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N1(t,n)}function gR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),N1(t,n)}var O1;O1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,rR(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Ae&&e.flags&1048576&&jx(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xc(t,e),t=e.pendingProps;var i=_o(e,Pt.current);uo(e,n),i=Ug(null,e,r,t,i,n);var s=Bg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Zc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vg(e),i.updater=nh,e.stateNode=i,i._reactInternals=e,Gp(e,r,t,n),e=Yp(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&Pg(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vR(r),t=xn(r,t),i){case 0:e=Kp(null,e,r,t,n);break e;case 1:e=lw(null,e,r,t,n);break e;case 11:e=ow(null,e,r,t,n);break e;case 14:e=aw(null,e,r,xn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Kp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),lw(t,e,r,i,n);case 3:e:{if(y1(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Wx(t,e),id(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=So(Error(H(423)),e),e=uw(t,e,r,n,i);break e}else if(r!==i){i=So(Error(H(424)),e),e=uw(t,e,r,n,i);break e}else for(Jt=li(e.stateNode.containerInfo.firstChild),Zt=e,Ae=!0,In=null,n=zx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){e=Cr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return Hx(e),t===null&&$p(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jp(r,i)?o=null:s!==null&&jp(r,s)&&(e.flags|=32),g1(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&$p(e),null;case 13:return v1(t,e,n);case 4:return Lg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),ow(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(nd,r._currentValue),r._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Wt.current){e=Cr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_r(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uo(e,n),i=gn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=xn(r,e.pendingProps),i=xn(r.type,i),aw(t,e,r,i,n);case 15:return p1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),xc(t,e),e.tag=1,Ht(r)?(t=!0,Zc(e)):t=!1,uo(e,n),d1(e,r,i),Gp(e,r,i,n),Yp(null,e,r,!0,t,n);case 19:return w1(t,e,n);case 22:return m1(t,e,n)}throw Error(H(156,e.tag))};function V1(t,e){return lx(t,e)}function yR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new yR(t,e,n,r)}function Xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vR(t){if(typeof t=="function")return Xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gg)return 11;if(t===yg)return 14}return 2}function hi(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return is(n.children,i,s,e);case mg:o=8,i|=8;break;case gp:return t=fn(12,n,e,i|2),t.elementType=gp,t.lanes=s,t;case yp:return t=fn(13,n,e,i),t.elementType=yp,t.lanes=s,t;case vp:return t=fn(19,n,e,i),t.elementType=vp,t.lanes=s,t;case HE:return sh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $E:o=10;break e;case WE:o=9;break e;case gg:o=11;break e;case yg:o=14;break e;case qr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function is(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function sh(t,e,n,r){return t=fn(22,t,r,e),t.elementType=HE,t.lanes=n,t.stateNode={isHidden:!1},t}function Af(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function kf(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cf(0),this.expirationTimes=cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jg(t,e,n,r,i,s,o,a,l){return t=new wR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vg(s),t}function _R(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function L1(t){if(!t)return Ei;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Ht(n))return Lx(t,n,e)}return e}function M1(t,e,n,r,i,s,o,a,l){return t=Jg(n,r,!0,t,i,s,o,a,l),t.context=L1(null),n=t.current,r=Ot(),i=di(n),s=_r(r,i),s.callback=e??null,ui(n,s,i),t.current.lanes=i,Bl(t,i,r),Gt(t,r),t}function oh(t,e,n,r){var i=e.current,s=Ot(),o=di(i);return n=L1(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ui(i,e,o),t!==null&&(kn(t,i,o,s),_c(t,i,o)),o}function hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ww(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zg(t,e){ww(t,e),(t=t.alternate)&&ww(t,e)}function TR(){return null}var j1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ey(t){this._internalRoot=t}ah.prototype.render=ey.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));oh(t,e,null,null)};ah.prototype.unmount=ey.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){oh(null,t,null,null)}),e[Ir]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=mx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&yx(t)}};function ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _w(){}function ER(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hd(o);s.call(u)}}var o=M1(e,r,t,0,null,!1,!1,"",_w);return t._reactRootContainer=o,t[Ir]=o.current,gl(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hd(l);a.call(u)}}var l=Jg(t,0,!1,null,null,!1,!1,"",_w);return t._reactRootContainer=l,t[Ir]=l.current,gl(t.nodeType===8?t.parentNode:t),ds(function(){oh(e,l,n,r)}),l}function uh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hd(o);a.call(l)}}oh(e,o,t,i)}else o=ER(n,e,t,i,r);return hd(o)}fx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(_g(e,n|1),Gt(e,ze()),!(fe&6)&&(Io=ze()+500,Vi()))}break;case 13:ds(function(){var r=br(t,1);if(r!==null){var i=Ot();kn(r,t,1,i)}}),Zg(t,1)}};Tg=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=Ot();kn(e,t,134217728,n)}Zg(t,134217728)}};px=function(t){if(t.tag===13){var e=di(t),n=br(t,e);if(n!==null){var r=Ot();kn(n,t,e,r)}Zg(t,e)}};mx=function(){return ve};gx=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Pp=function(t,e,n){switch(e){case"input":if(Tp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zd(r);if(!i)throw Error(H(90));qE(r),Tp(r,i)}}}break;case"textarea":YE(t,n);break;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}};nx=Kg;rx=ds;var xR={usingClientEntryPoint:!1,Events:[$l,Gs,Zd,ex,tx,Kg]},Pa={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SR={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ox(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||TR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Yd=Xu.inject(SR),$n=Xu}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xR;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(e))throw Error(H(200));return _R(t,e,null,n)};nn.createRoot=function(t,e){if(!ty(t))throw Error(H(299));var n=!1,r="",i=j1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jg(t,1,!1,null,null,n,!1,r,i),t[Ir]=e.current,gl(t.nodeType===8?t.parentNode:t),new ey(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=ox(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return ds(t)};nn.hydrate=function(t,e,n){if(!lh(e))throw Error(H(200));return uh(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!ty(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=j1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=M1(e,null,t,1,n??null,i,!1,s,o),t[Ir]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ah(e)};nn.render=function(t,e,n){if(!lh(e))throw Error(H(200));return uh(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!lh(t))throw Error(H(40));return t._reactRootContainer?(ds(function(){uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ir]=null})}),!0):!1};nn.unstable_batchedUpdates=Kg;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return uh(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function F1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F1)}catch(t){console.error(t)}}F1(),FE.exports=nn;var IR=FE.exports,Tw=IR;pp.createRoot=Tw.createRoot,pp.hydrateRoot=Tw.hydrateRoot;const bR=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},B1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new PR;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AR=function(t){const e=U1(t);return B1.encodeByteArray(e,!0)},fd=function(t){return AR(t).replace(/\./g,"")},z1=function(t){try{return B1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>kR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z1(t[1]);return e&&JSON.parse(e)},ch=()=>{try{return bR()||RR()||DR()||NR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$1=t=>{var e,n;return(n=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OR=t=>{const e=$1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W1=()=>{var t;return(t=ch())===null||t===void 0?void 0:t.config},H1=t=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fd(JSON.stringify(n)),fd(JSON.stringify(o)),a].join(".")}const Xa={};function MR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xa))Xa[e]?t.emulator.push(e):t.prod.push(e);return t}function jR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ew=!1;function q1(t,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Xa[t]===e||Xa[t]||Ew)return;Xa[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=MR().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ew=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=jR(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),E=n("learnmore"),P=document.getElementById(E)||document.createElement("a"),g=n("preprendIcon"),_=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),d(P,E);const D=u();l(_,g),T.append(_,w,P,D),document.body.appendChild(T)}s?(w.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function UR(){var t;const e=(t=ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HR(){return!UR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vr(i,a,r)}}function YR(t,e){return t.replace(QR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QR=/\{\$([^}]+)}/g;function XR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xw(s)&&xw(o)){if(!hs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function JR(t,e){const n=new ZR(t,e);return n.subscribe.bind(n)}class ZR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rf),i.error===void 0&&(i.error=Rf),i.complete===void 0&&(i.complete=Rf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rD(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nD(t){return t===Ki?void 0:t}function rD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const sD={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},oD=ce.INFO,aD={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},lD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=oD,this._logHandler=lD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const uD=(t,e)=>e.some(n=>t instanceof n);let Sw,Iw;function cD(){return Sw||(Sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return Iw||(Iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K1=new WeakMap,am=new WeakMap,Y1=new WeakMap,Df=new WeakMap,ry=new WeakMap;function hD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&K1.set(n,t)}).catch(()=>{}),ry.set(e,t),e}function fD(t){if(am.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});am.set(t,e)}let lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pD(t){lm=t(lm)}function mD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nf(this),e,...n);return Y1.set(r,e.sort?e.sort():[e]),fi(r)}:dD().includes(t)?function(...e){return t.apply(Nf(this),e),fi(K1.get(this))}:function(...e){return fi(t.apply(Nf(this),e))}}function gD(t){return typeof t=="function"?mD(t):(t instanceof IDBTransaction&&fD(t),uD(t,cD())?new Proxy(t,lm):t)}function fi(t){if(t instanceof IDBRequest)return hD(t);if(Df.has(t))return Df.get(t);const e=gD(t);return e!==t&&(Df.set(t,e),ry.set(e,t)),e}const Nf=t=>ry.get(t);function yD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fi(o.result),l.oldVersion,l.newVersion,fi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vD=["get","getKey","getAll","getAllKeys","count"],wD=["put","add","delete","clear"],Of=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Of.set(e,s),s}pD(t=>({...t,get:(e,n,r)=>bw(e,n)||t.get(e,n,r),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const um="@firebase/app",Cw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new ny("@firebase/app"),ED="@firebase/app-compat",xD="@firebase/analytics-compat",SD="@firebase/analytics",ID="@firebase/app-check-compat",bD="@firebase/app-check",CD="@firebase/auth",PD="@firebase/auth-compat",AD="@firebase/database",kD="@firebase/data-connect",RD="@firebase/database-compat",DD="@firebase/functions",ND="@firebase/functions-compat",OD="@firebase/installations",VD="@firebase/installations-compat",LD="@firebase/messaging",MD="@firebase/messaging-compat",jD="@firebase/performance",FD="@firebase/performance-compat",UD="@firebase/remote-config",BD="@firebase/remote-config-compat",zD="@firebase/storage",$D="@firebase/storage-compat",WD="@firebase/firestore",HD="@firebase/ai",GD="@firebase/firestore-compat",qD="firebase",KD="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="[DEFAULT]",YD={[um]:"fire-core",[ED]:"fire-core-compat",[SD]:"fire-analytics",[xD]:"fire-analytics-compat",[bD]:"fire-app-check",[ID]:"fire-app-check-compat",[CD]:"fire-auth",[PD]:"fire-auth-compat",[AD]:"fire-rtdb",[kD]:"fire-data-connect",[RD]:"fire-rtdb-compat",[DD]:"fire-fn",[ND]:"fire-fn-compat",[OD]:"fire-iid",[VD]:"fire-iid-compat",[LD]:"fire-fcm",[MD]:"fire-fcm-compat",[jD]:"fire-perf",[FD]:"fire-perf-compat",[UD]:"fire-rc",[BD]:"fire-rc-compat",[zD]:"fire-gcs",[$D]:"fire-gcs-compat",[WD]:"fire-fst",[GD]:"fire-fst-compat",[HD]:"fire-vertex","fire-js":"fire-js",[qD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,QD=new Map,dm=new Map;function Pw(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(dm.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(const n of pd.values())Pw(n,t);for(const n of QD.values())Pw(n,t);return!0}function iy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Hl("app","Firebase",XD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=KD;function Q1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=W1()),!n)throw pi.create("no-options");const s=pd.get(i);if(s){if(hs(n,s.options)&&hs(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}const o=new iD(i);for(const l of dm.values())o.addComponent(l);const a=new JD(n,r,o);return pd.set(i,a),a}function X1(t=cm){const e=pd.get(t);if(!e&&t===cm&&W1())return Q1();if(!e)throw pi.create("no-app",{appName:t});return e}function mi(t,e,n){var r;let i=(r=YD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}bo(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firebase-heartbeat-database",eN=1,Il="firebase-heartbeat-store";let Vf=null;function J1(){return Vf||(Vf=yD(ZD,eN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function tN(t){try{const n=(await J1()).transaction(Il),r=await n.objectStore(Il).get(Z1(t));return await n.done,r}catch(e){if(e instanceof Vr)Pr.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function Aw(t,e){try{const r=(await J1()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,Z1(t)),await r.done}catch(n){if(n instanceof Vr)Pr.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function Z1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=1024,rN=30;class iN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>rN){const o=aN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kw(),{heartbeatsToSend:r,unsentEntries:i}=sN(this._heartbeatsCache.heartbeats),s=fd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pr.warn(n),""}}}function kw(){return new Date().toISOString().substring(0,10)}function sN(t,e=nN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rw(t){return fd(JSON.stringify({version:2,heartbeats:t})).length}function aN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){bo(new fs("platform-logger",e=>new _D(e),"PRIVATE")),bo(new fs("heartbeat",e=>new iN(e),"PRIVATE")),mi(um,Cw,t),mi(um,Cw,"esm2017"),mi("fire-js","")}lN("");function sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=eS,tS=new Hl("auth","Firebase",eS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new ny("@firebase/auth");function cN(t,...e){md.logLevel<=ce.WARN&&md.warn(`Auth (${Uo}): ${t}`,...e)}function Cc(t,...e){md.logLevel<=ce.ERROR&&md.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw ay(t,...e)}function Rn(t,...e){return ay(t,...e)}function oy(t,e,n){const r=Object.assign(Object.assign({},uN()),{[e]:n});return new Hl("auth","Firebase",r).create(e,{appName:t.name})}function ss(t){return oy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),oy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tS.create(t,...e)}function re(t,e,...n){if(!t)throw ay(e,...n)}function yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cc(e),new Error(e)}function Ar(t,e){t||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hN(){return Dw()==="http:"||Dw()==="https:"}function Dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hN()||zR()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||$R()}get(){return fN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){Ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yN=new ql(3e4,6e4);function uy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bo(t,e,n,r,i={}){return rS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Gl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return BR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(u.credentials="include"),nS.fetch()(await iS(t,t.config.apiHost,n,a),u)})}async function rS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mN),e);try{const i=new wN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ju(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oy(t,d,u);Jn(t,d)}}catch(i){if(i instanceof Vr)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function vN(t,e,n,r,i={}){const s=await Bo(t,e,n,r,i);return"mfaPendingCredential"in s&&Jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function iS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?ly(t.config,i):`${t.config.apiScheme}://${i}`;return gN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class wN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),yN.get())})}}function Ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t,e){return Bo(t,"POST","/v1/accounts:delete",e)}async function gd(t,e){return Bo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TN(t,e=!1){const n=vn(t),r=await n.getIdToken(e),i=cy(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ja(Lf(i.auth_time)),issuedAtTime:Ja(Lf(i.iat)),expirationTime:Ja(Lf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lf(t){return Number(t)*1e3}function cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const i=z1(n);return i?JSON.parse(i):(Cc("Failed to decode base64 JWT payload"),null)}catch(i){return Cc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nw(t){const e=cy(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&EN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bl(t,gd(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sS(s.providerUserInfo):[],a=IN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function SN(t){const e=vn(t);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sS(t){return t.map(e=>{var{providerId:n}=e,r=sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e){const n=await rS(t,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await iS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(l.credentials="include"),nS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(t,e){return Bo(t,"POST","/v2/accounts:revokeToken",uy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=Nw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ho;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TN(this,e)}reload(){return SN(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await bl(this,_N(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:D,isAnonymous:O,providerData:V,stsTokenManager:b}=n;re(T&&b,e,"internal-error");const x=ho.fromJSON(this.name,b);re(typeof T=="string",e,"internal-error"),Hr(h,e.name),Hr(f,e.name),re(typeof D=="boolean",e,"internal-error"),re(typeof O=="boolean",e,"internal-error"),Hr(m,e.name),Hr(w,e.name),Hr(E,e.name),Hr(P,e.name),Hr(g,e.name),Hr(_,e.name);const S=new Cn({uid:T,auth:e,email:f,emailVerified:D,displayName:h,isAnonymous:O,photoURL:w,phoneNumber:m,tenantId:E,stsTokenManager:x,createdAt:g,lastLoginAt:_});return V&&Array.isArray(V)&&(S.providerData=V.map(I=>Object.assign({},I))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new ho;i.updateFromServerResponse(n);const s=new Cn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ho;a.updateFromIdToken(r);const l=new Cn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;function vr(t){Ar(t instanceof Function,"Expected a class definition");let e=Ow.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oS.type="NONE";const Vw=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gd(this.auth,{idToken:e}).catch(()=>{});return n?Cn._fromGetAccountInfoResponse(this.auth,n,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(vr(Vw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||vr(Vw);const o=Pc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await gd(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Cn._fromGetAccountInfoResponse(e,f,d)}else h=Cn._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(fS(e))return"Webos";if(lS(e))return"Safari";if((e.includes("chrome/")||uS(e))&&!e.includes("edge/"))return"Chrome";if(dS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aS(t=At()){return/firefox\//i.test(t)}function lS(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uS(t=At()){return/crios\//i.test(t)}function cS(t=At()){return/iemobile/i.test(t)}function dS(t=At()){return/android/i.test(t)}function hS(t=At()){return/blackberry/i.test(t)}function fS(t=At()){return/webos/i.test(t)}function dy(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PN(t=At()){var e;return dy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AN(){return WR()&&document.documentMode===10}function pS(t=At()){return dy(t)||dS(t)||fS(t)||hS(t)||/windows phone/i.test(t)||cS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e=[]){let n;switch(t){case"Browser":n=Lw(At());break;case"Worker":n=`${Lw(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e={}){return Bo(t,"GET","/v2/passwordPolicy",uy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=6;class NN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mw(this),this.idTokenSubscription=new Mw(this),this.beforeStateQueue=new kN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gd(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(ss(this));const n=e?vn(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RN(this),n=new NN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dh(t){return vn(t)}class Mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=JR(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VN(t){hy=t}function LN(t){return hy.loadJS(t)}function MN(){return hy.gapiScript}function jN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){const n=iy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hs(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function UN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BN(t,e,n){const r=dh(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=gS(e),{host:o,port:a}=zN(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(hs(u,r.config.emulator)&&hs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Fo(o)?(G1(`${s}//${o}${l}`),q1("Auth",!0)):i||$N()}function gS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zN(t){const e=gS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:jw(o)}}}function jw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $N(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,n){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return vN(t,"POST","/v1/accounts:signInWithIdp",uy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="http://localhost";class ps extends yS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=sy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Kl{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Kl{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Kl{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Cn._fromIdTokenResponse(e,r,i),o=Fw(r);return new Co({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Fw(r);return new Co({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Fw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Vr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vd(e,n,r,i)}}function vS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(t,s,e,r):s})}async function HN(t,e,n=!1){const r=await bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(ss(r));const i="reauthenticate";try{const s=await bl(t,vS(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=cy(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Co._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e,n=!1){if(bn(t.app))return Promise.reject(ss(t));const r="signIn",i=await vS(t,r,e),s=await Co._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function KN(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function YN(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function QN(t,e,n,r){return vn(t).onAuthStateChanged(e,n,r)}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=1e3,JN=10;class _S extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);AN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_S.type="LOCAL";const ZN=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TS.type="SESSION";const ES=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await e2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=py("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function n2(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function r2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s2(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebaseLocalStorageDb",o2=1,_d="firebaseLocalStorage",IS="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function a2(){const t=indexedDB.deleteDatabase(SS);return new Yl(t).toPromise()}function pm(){const t=indexedDB.open(SS,o2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_d,{keyPath:IS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),await a2(),e(await pm()))})})}async function Uw(t,e,n){const r=fh(t,!0).put({[IS]:e,value:n});return new Yl(r).toPromise()}async function l2(t,e){const n=fh(t,!1).get(e),r=await new Yl(n).toPromise();return r===void 0?null:r.value}function Bw(t,e){const n=fh(t,!0).delete(e);return new Yl(n).toPromise()}const u2=800,c2=3;class bS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(s2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await r2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await Uw(e,wd,"1"),await Bw(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fh(i,!1).getAll();return new Yl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bS.type="LOCAL";const d2=bS;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){return e?vr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends yS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h2(t){return qN(t.auth,new my(t),t.bypassAuthState)}function f2(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),GN(n,new my(t),t.bypassAuthState)}async function p2(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),HN(n,new my(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h2;case"linkViaPopup":case"linkViaRedirect":return p2;case"reauthViaPopup":case"reauthViaRedirect":return f2;default:Jn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new ql(2e3,1e4);async function g2(t,e,n){if(bn(t.app))return Promise.reject(Rn(t,"operation-not-supported-in-this-environment"));const r=dh(t);dN(t,e,fy);const i=CS(r,n);return new es(r,"signInViaPopup",e,i).executeNotNull()}class es extends PS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m2.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="pendingRedirect",Ac=new Map;class v2 extends PS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ac.get(this.auth._key());if(!e){try{const r=await w2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ac.set(this.auth._key(),e)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w2(t,e){const n=E2(e),r=T2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _2(t,e){Ac.set(t._key(),e)}function T2(t){return vr(t._redirectPersistence)}function E2(t){return Pc(y2,t.config.apiKey,t.name)}async function x2(t,e,n=!1){if(bn(t.app))return Promise.reject(ss(t));const r=dh(t),i=CS(r,e),o=await new v2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=10*60*1e3;class I2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S2&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e={}){return Bo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function k2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await C2(t);for(const n of e)try{if(R2(n))return}catch{}Jn(t,"unauthorized-domain")}function R2(t){const e=hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!A2.test(n))return!1;if(P2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new ql(3e4,6e4);function $w(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N2(t){return new Promise((e,n)=>{var r,i,s;function o(){$w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$w(),n(Rn(t,"network-request-failed"))},timeout:D2.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)o();else{const a=jN("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(Rn(t,"network-request-failed"))},LN(`${MN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kc=null,e})}let kc=null;function O2(t){return kc=kc||N2(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new ql(5e3,15e3),L2="__/auth/iframe",M2="emulator/auth/iframe",j2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U2(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ly(e,M2):`https://${t.config.authDomain}/${L2}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=F2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gl(r).slice(1)}`}async function B2(t){const e=await O2(t),n=Hn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:U2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Rn(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},V2.get());function l(){Hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$2=500,W2=600,H2="_blank",G2="http://localhost";class Ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q2(t,e,n,r=$2,i=W2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},z2),{width:r.toString(),height:i.toString(),top:s,left:o}),u=At().toLowerCase();n&&(a=uS(u)?H2:n),aS(u)&&(e=e||G2,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(PN(u)&&a!=="_self")return K2(e||"",a),new Ww(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new Ww(h)}function K2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="__/auth/handler",Q2="emulator/auth/handler",X2=encodeURIComponent("fac");async function Hw(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof fy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",XR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Kl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${X2}=${encodeURIComponent(l)}`:"";return`${J2(t)}?${Gl(a).slice(1)}${u}`}function J2({config:t}){return t.emulator?ly(t,Q2):`https://${t.authDomain}/${Y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="webStorageSupport";class Z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=x2,this._overrideRedirectResult=_2}async _openPopup(e,n,r,i){var s;Ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Hw(e,n,r,hm(),i);return q2(e,o,py())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Hw(e,n,r,hm(),i);return n2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B2(e),r=new I2(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mf,{type:Mf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mf];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pS()||lS()||dy()}}const eO=Z2;var Gw="@firebase/auth",qw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rO(t){bo(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mS(t)},u=new ON(r,i,s,l);return UN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new fs("auth-internal",e=>{const n=dh(e.getProvider("auth").getImmediate());return(r=>new tO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(Gw,qw,nO(t)),mi(Gw,qw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=5*60,sO=H1("authIdTokenMaxAge")||iO;let Kw=null;const oO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sO)return;const i=n==null?void 0:n.token;Kw!==i&&(Kw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gy(t=X1()){const e=iy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FN(t,{popupRedirectResolver:eO,persistence:[d2,ZN,ES]}),r=H1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=oO(s.toString());YN(n,o,()=>o(n.currentUser)),KN(n,a=>o(a))}}const i=$1("auth");return i&&BN(n,`http://${i}`),n}function aO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rO("Browser");var lO="firebase",uO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(lO,uO,"app");var Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,kS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,x){function S(){}S.prototype=x.prototype,b.D=x.prototype,b.prototype=new S,b.prototype.constructor=b,b.C=function(I,k,N){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return x.prototype[k].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,x,S){S||(S=0);var I=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)I[k]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(k=0;16>k;++k)I[k]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=b.g[0],S=b.g[1],k=b.g[2];var N=b.g[3],R=x+(N^S&(k^N))+I[0]+3614090360&4294967295;x=S+(R<<7&4294967295|R>>>25),R=N+(k^x&(S^k))+I[1]+3905402710&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(S^N&(x^S))+I[2]+606105819&4294967295,k=N+(R<<17&4294967295|R>>>15),R=S+(x^k&(N^x))+I[3]+3250441966&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(N^S&(k^N))+I[4]+4118548399&4294967295,x=S+(R<<7&4294967295|R>>>25),R=N+(k^x&(S^k))+I[5]+1200080426&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(S^N&(x^S))+I[6]+2821735955&4294967295,k=N+(R<<17&4294967295|R>>>15),R=S+(x^k&(N^x))+I[7]+4249261313&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(N^S&(k^N))+I[8]+1770035416&4294967295,x=S+(R<<7&4294967295|R>>>25),R=N+(k^x&(S^k))+I[9]+2336552879&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(S^N&(x^S))+I[10]+4294925233&4294967295,k=N+(R<<17&4294967295|R>>>15),R=S+(x^k&(N^x))+I[11]+2304563134&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(N^S&(k^N))+I[12]+1804603682&4294967295,x=S+(R<<7&4294967295|R>>>25),R=N+(k^x&(S^k))+I[13]+4254626195&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(S^N&(x^S))+I[14]+2792965006&4294967295,k=N+(R<<17&4294967295|R>>>15),R=S+(x^k&(N^x))+I[15]+1236535329&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(k^N&(S^k))+I[1]+4129170786&4294967295,x=S+(R<<5&4294967295|R>>>27),R=N+(S^k&(x^S))+I[6]+3225465664&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(N^x))+I[11]+643717713&4294967295,k=N+(R<<14&4294967295|R>>>18),R=S+(N^x&(k^N))+I[0]+3921069994&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(k^N&(S^k))+I[5]+3593408605&4294967295,x=S+(R<<5&4294967295|R>>>27),R=N+(S^k&(x^S))+I[10]+38016083&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(N^x))+I[15]+3634488961&4294967295,k=N+(R<<14&4294967295|R>>>18),R=S+(N^x&(k^N))+I[4]+3889429448&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(k^N&(S^k))+I[9]+568446438&4294967295,x=S+(R<<5&4294967295|R>>>27),R=N+(S^k&(x^S))+I[14]+3275163606&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(N^x))+I[3]+4107603335&4294967295,k=N+(R<<14&4294967295|R>>>18),R=S+(N^x&(k^N))+I[8]+1163531501&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(k^N&(S^k))+I[13]+2850285829&4294967295,x=S+(R<<5&4294967295|R>>>27),R=N+(S^k&(x^S))+I[2]+4243563512&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(N^x))+I[7]+1735328473&4294967295,k=N+(R<<14&4294967295|R>>>18),R=S+(N^x&(k^N))+I[12]+2368359562&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(S^k^N)+I[5]+4294588738&4294967295,x=S+(R<<4&4294967295|R>>>28),R=N+(x^S^k)+I[8]+2272392833&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^S)+I[11]+1839030562&4294967295,k=N+(R<<16&4294967295|R>>>16),R=S+(k^N^x)+I[14]+4259657740&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(S^k^N)+I[1]+2763975236&4294967295,x=S+(R<<4&4294967295|R>>>28),R=N+(x^S^k)+I[4]+1272893353&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^S)+I[7]+4139469664&4294967295,k=N+(R<<16&4294967295|R>>>16),R=S+(k^N^x)+I[10]+3200236656&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(S^k^N)+I[13]+681279174&4294967295,x=S+(R<<4&4294967295|R>>>28),R=N+(x^S^k)+I[0]+3936430074&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^S)+I[3]+3572445317&4294967295,k=N+(R<<16&4294967295|R>>>16),R=S+(k^N^x)+I[6]+76029189&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(S^k^N)+I[9]+3654602809&4294967295,x=S+(R<<4&4294967295|R>>>28),R=N+(x^S^k)+I[12]+3873151461&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^S)+I[15]+530742520&4294967295,k=N+(R<<16&4294967295|R>>>16),R=S+(k^N^x)+I[2]+3299628645&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(k^(S|~N))+I[0]+4096336452&4294967295,x=S+(R<<6&4294967295|R>>>26),R=N+(S^(x|~k))+I[7]+1126891415&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~S))+I[14]+2878612391&4294967295,k=N+(R<<15&4294967295|R>>>17),R=S+(N^(k|~x))+I[5]+4237533241&4294967295,S=k+(R<<21&4294967295|R>>>11),R=x+(k^(S|~N))+I[12]+1700485571&4294967295,x=S+(R<<6&4294967295|R>>>26),R=N+(S^(x|~k))+I[3]+2399980690&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~S))+I[10]+4293915773&4294967295,k=N+(R<<15&4294967295|R>>>17),R=S+(N^(k|~x))+I[1]+2240044497&4294967295,S=k+(R<<21&4294967295|R>>>11),R=x+(k^(S|~N))+I[8]+1873313359&4294967295,x=S+(R<<6&4294967295|R>>>26),R=N+(S^(x|~k))+I[15]+4264355552&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~S))+I[6]+2734768916&4294967295,k=N+(R<<15&4294967295|R>>>17),R=S+(N^(k|~x))+I[13]+1309151649&4294967295,S=k+(R<<21&4294967295|R>>>11),R=x+(k^(S|~N))+I[4]+4149444226&4294967295,x=S+(R<<6&4294967295|R>>>26),R=N+(S^(x|~k))+I[11]+3174756917&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~S))+I[2]+718787259&4294967295,k=N+(R<<15&4294967295|R>>>17),R=S+(N^(k|~x))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+x&4294967295,b.g[1]=b.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.u=function(b,x){x===void 0&&(x=b.length);for(var S=x-this.blockSize,I=this.B,k=this.h,N=0;N<x;){if(k==0)for(;N<=S;)i(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<x;)if(I[k++]=b.charCodeAt(N++),k==this.blockSize){i(this,I),k=0;break}}else for(;N<x;)if(I[k++]=b[N++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=x},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var x=1;x<b.length-8;++x)b[x]=0;var S=8*this.o;for(x=b.length-8;x<b.length;++x)b[x]=S&255,S/=256;for(this.u(b),b=Array(16),x=S=0;4>x;++x)for(var I=0;32>I;I+=8)b[S++]=this.g[x]>>>I&255;return b};function s(b,x){var S=a;return Object.prototype.hasOwnProperty.call(S,b)?S[b]:S[b]=x(b)}function o(b,x){this.h=x;for(var S=[],I=!0,k=b.length-1;0<=k;k--){var N=b[k]|0;I&&N==x||(S[k]=N,I=!1)}this.g=S}var a={};function l(b){return-128<=b&&128>b?s(b,function(x){return new o([x|0],0>x?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return P(u(-b));for(var x=[],S=1,I=0;b>=S;I++)x[I]=b/S|0,S*=4294967296;return new o(x,0)}function d(b,x){if(b.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b.charAt(0)=="-")return P(d(b.substring(1),x));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(x,8)),I=h,k=0;k<b.length;k+=8){var N=Math.min(8,b.length-k),R=parseInt(b.substring(k,k+N),x);8>N?(N=u(Math.pow(x,N)),I=I.j(N).add(u(R))):(I=I.j(S),I=I.add(u(R)))}return I}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-P(this).m();for(var b=0,x=1,S=0;S<this.g.length;S++){var I=this.i(S);b+=(0<=I?I:4294967296+I)*x,x*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(w(this))return"0";if(E(this))return"-"+P(this).toString(b);for(var x=u(Math.pow(b,6)),S=this,I="";;){var k=D(S,x).g;S=g(S,k.j(x));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(b);if(S=k,w(S))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function w(b){if(b.h!=0)return!1;for(var x=0;x<b.g.length;x++)if(b.g[x]!=0)return!1;return!0}function E(b){return b.h==-1}t.l=function(b){return b=g(this,b),E(b)?-1:w(b)?0:1};function P(b){for(var x=b.g.length,S=[],I=0;I<x;I++)S[I]=~b.g[I];return new o(S,~b.h).add(f)}t.abs=function(){return E(this)?P(this):this},t.add=function(b){for(var x=Math.max(this.g.length,b.g.length),S=[],I=0,k=0;k<=x;k++){var N=I+(this.i(k)&65535)+(b.i(k)&65535),R=(N>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);I=R>>>16,N&=65535,R&=65535,S[k]=R<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function g(b,x){return b.add(P(x))}t.j=function(b){if(w(this)||w(b))return h;if(E(this))return E(b)?P(this).j(P(b)):P(P(this).j(b));if(E(b))return P(this.j(P(b)));if(0>this.l(m)&&0>b.l(m))return u(this.m()*b.m());for(var x=this.g.length+b.g.length,S=[],I=0;I<2*x;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<b.g.length;k++){var N=this.i(I)>>>16,R=this.i(I)&65535,U=b.i(k)>>>16,B=b.i(k)&65535;S[2*I+2*k]+=R*B,_(S,2*I+2*k),S[2*I+2*k+1]+=N*B,_(S,2*I+2*k+1),S[2*I+2*k+1]+=R*U,_(S,2*I+2*k+1),S[2*I+2*k+2]+=N*U,_(S,2*I+2*k+2)}for(I=0;I<x;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=x;I<2*x;I++)S[I]=0;return new o(S,0)};function _(b,x){for(;(b[x]&65535)!=b[x];)b[x+1]+=b[x]>>>16,b[x]&=65535,x++}function T(b,x){this.g=b,this.h=x}function D(b,x){if(w(x))throw Error("division by zero");if(w(b))return new T(h,h);if(E(b))return x=D(P(b),x),new T(P(x.g),P(x.h));if(E(x))return x=D(b,P(x)),new T(P(x.g),x.h);if(30<b.g.length){if(E(b)||E(x))throw Error("slowDivide_ only works with positive integers.");for(var S=f,I=x;0>=I.l(b);)S=O(S),I=O(I);var k=V(S,1),N=V(I,1);for(I=V(I,2),S=V(S,2);!w(I);){var R=N.add(I);0>=R.l(b)&&(k=k.add(S),N=R),I=V(I,1),S=V(S,1)}return x=g(b,k.j(x)),new T(k,x)}for(k=h;0<=b.l(x);){for(S=Math.max(1,Math.floor(b.m()/x.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=u(S),R=N.j(x);E(R)||0<R.l(b);)S-=I,N=u(S),R=N.j(x);w(N)&&(N=f),k=k.add(N),b=g(b,R)}return new T(k,b)}t.A=function(b){return D(this,b).h},t.and=function(b){for(var x=Math.max(this.g.length,b.g.length),S=[],I=0;I<x;I++)S[I]=this.i(I)&b.i(I);return new o(S,this.h&b.h)},t.or=function(b){for(var x=Math.max(this.g.length,b.g.length),S=[],I=0;I<x;I++)S[I]=this.i(I)|b.i(I);return new o(S,this.h|b.h)},t.xor=function(b){for(var x=Math.max(this.g.length,b.g.length),S=[],I=0;I<x;I++)S[I]=this.i(I)^b.i(I);return new o(S,this.h^b.h)};function O(b){for(var x=b.g.length+1,S=[],I=0;I<x;I++)S[I]=b.i(I)<<1|b.i(I-1)>>>31;return new o(S,b.h)}function V(b,x){var S=x>>5;x%=32;for(var I=b.g.length-S,k=[],N=0;N<I;N++)k[N]=0<x?b.i(N+S)>>>x|b.i(N+S+1)<<32-x:b.i(N+S);return new o(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,gi=o}).apply(typeof Yw<"u"?Yw:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RS,Ma,DS,Rc,mm,NS,OS,VS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var L=c[C];if(!(L in y))break e;y=y[L]}c=c[c.length-1],C=y[c],p=p(C),p!=C&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,C=!1,L={next:function(){if(!C&&y<c.length){var M=y++;return{value:p(M,c[M]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function w(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(C,L,M){for(var G=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)G[_e-2]=arguments[_e];return p.prototype[L].apply(C,G)}}function E(c){const p=c.length;if(0<p){const y=Array(p);for(let C=0;C<p;C++)y[C]=c[C];return y}return[]}function P(c,p){for(let y=1;y<arguments.length;y++){const C=arguments[y];if(l(C)){const L=c.length||0,M=C.length||0;c.length=L+M;for(let G=0;G<M;G++)c[L+G]=C[G]}else c.push(C)}}class g{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(c,p,y){for(const C in c)p.call(y,c[C],C,c)}function b(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function x(c){const p={};for(const y in c)p[y]=c[y];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let y,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(y in C)c[y]=C[y];for(let M=0;M<S.length;M++)y=S[M],Object.prototype.hasOwnProperty.call(C,y)&&(c[y]=C[y])}}function k(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function N(c){a.setTimeout(()=>{throw c},0)}function R(){var c=W;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class U{constructor(){this.h=this.g=null}add(p,y){const C=B.get();C.set(p,y),this.h?this.h.next=C:this.g=C,this.h=C}}var B=new g(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,W=new U,q=()=>{const c=a.Promise.resolve(void 0);K=()=>{c.then(Q)}};var Q=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(y){N(y)}var p=B;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function yt(c,p){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{D(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yt.aa.h.call(this)}}w(yt,pe);var $e={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),rr=0;function jt(c,p,y,C,L){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!C,this.ha=L,this.key=++rr,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vt(c){this.src=c,this.g={},this.h=0}vt.prototype.add=function(c,p,y,C,L){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var G=Fi(c,p,C,L);return-1<G?(p=c[G],y||(p.fa=!1)):(p=new jt(p,this.src,M,!!C,L),p.fa=y,c.push(p)),p};function ir(c,p){var y=p.type;if(y in c.g){var C=c.g[y],L=Array.prototype.indexOf.call(C,p,void 0),M;(M=0<=L)&&Array.prototype.splice.call(C,L,1),M&&(Kt(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Fi(c,p,y,C){for(var L=0;L<c.length;++L){var M=c[L];if(!M.da&&M.listener==p&&M.capture==!!y&&M.ha==C)return L}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),sr={};function kt(c,p,y,C,L){if(C&&C.once)return Xo(c,p,y,C,L);if(Array.isArray(p)){for(var M=0;M<p.length;M++)kt(c,p[M],y,C,L);return null}return y=ta(y),c&&c[Ke]?c.K(p,y,u(C)?!!C.capture:!!C,L):Ui(c,p,y,!1,C,L)}function Ui(c,p,y,C,L,M){if(!p)throw Error("Invalid event type");var G=u(L)?!!L.capture:!!L,_e=Zo(c);if(_e||(c[Re]=_e=new vt(c)),y=_e.add(p,y,C,G,M),y.proxy)return y;if(C=hu(),y.proxy=C,C.src=c,C.listener=y,c.addEventListener)ot||(L=G),L===void 0&&(L=!1),c.addEventListener(p.toString(),C,L);else if(c.attachEvent)c.attachEvent(pu(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function hu(){function c(y){return p.call(c.src,c.listener,y)}const p=mu;return c}function Xo(c,p,y,C,L){if(Array.isArray(p)){for(var M=0;M<p.length;M++)Xo(c,p[M],y,C,L);return null}return y=ta(y),c&&c[Ke]?c.L(p,y,u(C)?!!C.capture:!!C,L):Ui(c,p,y,!0,C,L)}function fu(c,p,y,C,L){if(Array.isArray(p))for(var M=0;M<p.length;M++)fu(c,p[M],y,C,L);else C=u(C)?!!C.capture:!!C,y=ta(y),c&&c[Ke]?(c=c.i,p=String(p).toString(),p in c.g&&(M=c.g[p],y=Fi(M,y,C,L),-1<y&&(Kt(M[y]),Array.prototype.splice.call(M,y,1),M.length==0&&(delete c.g[p],c.h--)))):c&&(c=Zo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Fi(p,y,C,L)),(y=-1<c?p[c]:null)&&Jo(y))}function Jo(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ke])ir(p.i,c);else{var y=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(y,C,c.capture):p.detachEvent?p.detachEvent(pu(y),C):p.addListener&&p.removeListener&&p.removeListener(C),(y=Zo(p))?(ir(y,c),y.h==0&&(y.src=null,p[Re]=null)):Kt(c)}}}function pu(c){return c in sr?sr[c]:sr[c]="on"+c}function mu(c,p){if(c.da)c=!0;else{p=new yt(p,this);var y=c.listener,C=c.ha||c.src;c.fa&&Jo(c),c=y.call(C,p)}return c}function Zo(c){return c=c[Re],c instanceof vt?c:null}var ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(c){return typeof c=="function"?c:(c[ea]||(c[ea]=function(p){return c.handleEvent(p)}),c[ea])}function Ze(){ee.call(this),this.i=new vt(this),this.M=this,this.F=null}w(Ze,ee),Ze.prototype[Ke]=!0,Ze.prototype.removeEventListener=function(c,p,y,C){fu(this,c,p,y,C)};function at(c,p){var y,C=c.F;if(C)for(y=[];C;C=C.F)y.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new pe(p,c);else if(p instanceof pe)p.target=p.target||c;else{var L=p;p=new pe(C,c),I(p,L)}if(L=!0,y)for(var M=y.length-1;0<=M;M--){var G=p.g=y[M];L=Fr(G,C,!0,p)&&L}if(G=p.g=c,L=Fr(G,C,!0,p)&&L,L=Fr(G,C,!1,p)&&L,y)for(M=0;M<y.length;M++)G=p.g=y[M],L=Fr(G,C,!1,p)&&L}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],C=0;C<y.length;C++)Kt(y[C]);delete c.g[p],c.h--}}this.F=null},Ze.prototype.K=function(c,p,y,C){return this.i.add(String(c),p,!1,y,C)},Ze.prototype.L=function(c,p,y,C){return this.i.add(String(c),p,!0,y,C)};function Fr(c,p,y,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,M=0;M<p.length;++M){var G=p[M];if(G&&!G.da&&G.capture==y){var _e=G.listener,lt=G.ha||G.src;G.fa&&ir(c.i,G),L=_e.call(lt,C)!==!1&&L}}return L&&!C.defaultPrevented}function na(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function ra(c){c.g=na(()=>{c.g=null,c.i&&(c.i=!1,ra(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Kh extends ee{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(c){ee.call(this),this.h=c,this.g={}}w(Nn,ee);var ia=[];function gu(c){V(c.g,function(p,y){this.g.hasOwnProperty(y)&&Jo(p)},c),c.g={}}Nn.prototype.N=function(){Nn.aa.N.call(this),gu(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=a.JSON.stringify,yu=a.JSON.parse,sa=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function oa(){}oa.prototype.h=null;function aa(c){return c.h||(c.h=c.i())}function vu(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){pe.call(this,"d")}w(et,pe);function tt(){pe.call(this,"c")}w(tt,pe);var sn={},Te=null;function Rt(){return Te=Te||new Ze}sn.La="serverreachability";function wu(c){pe.call(this,sn.La,c)}w(wu,pe);function or(c){const p=Rt();at(p,new wu(p))}sn.STAT_EVENT="statevent";function la(c,p){pe.call(this,sn.STAT_EVENT,c),this.stat=p}w(la,pe);function nt(c){const p=Rt();at(p,new la(p,c))}sn.Ma="timingevent";function Rs(c,p){pe.call(this,sn.Ma,c),this.size=p}w(Rs,pe);function On(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function ua(c,p,y,C,L,M){c.info(function(){if(c.g)if(M)for(var G="",_e=M.split("&"),lt=0;lt<_e.length;lt++){var me=_e[lt].split("=");if(1<me.length){var wt=me[0];me=me[1];var _t=wt.split("_");G=2<=_t.length&&_t[1]=="type"?G+(wt+"="+me+"&"):G+(wt+"=redacted&")}}else G=null;else G=M;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+p+`
`+y+`
`+G})}function ca(c,p,y,C,L,M,G){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+p+`
`+y+`
`+M+" "+G})}function Br(c,p,y,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+_u(c,y)+(C?" "+C:"")})}function da(c,p){c.info(function(){return"TIMEOUT: "+p})}ar.prototype.info=function(){};function _u(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var C=y[c];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return ks(y)}catch{return p}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oe;function we(){}w(we,oa),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},oe=new we;function ye(c,p,y,C){this.j=c,this.i=p,this.l=y,this.R=C||1,this.U=new Nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var Ut={},Bi={};function ha(c,p,y){c.L=1,c.v=bu(lr(p)),c.m=y,c.P=!0,Eu(c,null)}function Eu(c,p){c.F=Date.now(),xu(c),c.A=lr(c.v);var y=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),Hv(y.i,"t",C),c.C=0,y=c.j.J,c.h=new Ft,c.g=u0(c.j,y?p:null,!c.m),0<c.O&&(c.M=new Kh(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,C=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ia[0]=L.toString()),L=ia);for(var M=0;M<L.length;M++){var G=kt(y,L[M],C||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),or(),ua(c.i,c.u,c.A,c.l,c.R,c.m)}ye.prototype.ca=function(c){c=c.target;const p=this.M;p&&ur(c)==3?p.j():this.Y(c)},ye.prototype.Y=function(c){try{if(c==this.g)e:{const _t=ur(this.g);var p=this.g.Ba();const Vs=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Jv(this.g)))){this.J||_t!=4||p==7||(p==8||0>=Vs?or(3):or(2)),Yh(this);var y=this.g.Z();this.X=y;t:if(Dv(this)){var C=Jv(this.g);c="";var L=C.length,M=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),fa(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(C[p],{stream:!(M&&p==L-1)});C.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=y==200,ca(this.i,this.u,this.A,this.l,this.R,_t,y),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,lt=this.g;if((_e=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(_e)){var me=_e;break t}}me=null}if(y=me)Br(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qh(this,y);else{this.o=!1,this.s=3,nt(12),zi(this),fa(this);break e}}if(this.P){y=!0;let _n;for(;!this.J&&this.C<G.length;)if(_n=OP(this,G),_n==Bi){_t==4&&(this.s=4,nt(14),y=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Ut){this.s=4,nt(15),Br(this.i,this.l,G,"[Invalid Chunk]"),y=!1;break}else Br(this.i,this.l,_n,null),Qh(this,_n);if(Dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||G.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)Br(this.i,this.l,G,"[Invalid Chunked Response]"),zi(this),fa(this);else if(0<G.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),nf(wt),wt.M=!0,nt(11))}}else Br(this.i,this.l,G,null),Qh(this,G);_t==4&&zi(this),this.o&&!this.J&&(_t==4?s0(this.j,this):(this.o=!1,xu(this)))}else XP(this.g),y==400&&0<G.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),zi(this),fa(this)}}}catch{}finally{}};function Dv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function OP(c,p){var y=c.C,C=p.indexOf(`
`,y);return C==-1?Bi:(y=Number(p.substring(y,C)),isNaN(y)?Ut:(C+=1,C+y>p.length?Bi:(p=p.slice(C,C+y),c.C=C+y,p)))}ye.prototype.cancel=function(){this.J=!0,zi(this)};function xu(c){c.S=Date.now()+c.I,Nv(c,c.I)}function Nv(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=On(f(c.ba,c),p)}function Yh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ye.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(da(this.i,this.A),this.L!=2&&(or(),nt(17)),zi(this),this.s=2,fa(this)):Nv(this,this.S-c)};function fa(c){c.j.G==0||c.J||s0(c.j,c)}function zi(c){Yh(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,gu(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Qh(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Xh(y.h,c))){if(!c.K&&Xh(y.h,c)&&y.G==3){try{var C=y.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Du(y),ku(y);else break e;tf(y),nt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=On(f(y.Za,y),6e3));if(1>=Lv(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Wi(y,11)}else if((c.K||y.g==c)&&Du(y),!_(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let me=L[p];if(y.T=me[0],me=me[1],y.G==2)if(me[0]=="c"){y.K=me[1],y.ia=me[2];const wt=me[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const _t=me[4];_t!=null&&(y.Aa=_t,y.j.info("SVER="+y.Aa));const Vs=me[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(C=1.5*Vs,y.L=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const _n=c.g;if(_n){const Ou=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var M=C.h;M.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Jh(M,M.h),M.h=null))}if(C.D){const rf=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;rf&&(C.ya=rf,xe(C.I,C.D,rf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),C=y;var G=c;if(C.qa=l0(C,C.J?C.ia:null,C.W),G.K){Mv(C.h,G);var _e=G,lt=C.L;lt&&(_e.I=lt),_e.B&&(Yh(_e),xu(_e)),C.g=G}else r0(C);0<y.i.length&&Ru(y)}else me[0]!="stop"&&me[0]!="close"||Wi(y,7);else y.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Wi(y,7):ef(y):me[0]!="noop"&&y.l&&y.l.ta(me),y.v=0)}}or(4)}catch{}}var VP=class{constructor(c,p){this.g=c,this.map=p}};function Ov(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Lv(c){return c.h?1:c.g?c.g.size:0}function Xh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Jh(c,p){c.g?c.g.add(p):c.h=p}function Mv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ov.prototype.cancel=function(){if(this.i=jv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return E(c.i)}function LP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,C=0;C<y;C++)p.push(c[C]);return p}p=[],y=0;for(C in c)p[y++]=c[C];return p}function MP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const C in c)p[y++]=C;return p}}}function Fv(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=MP(c),C=LP(c),L=C.length,M=0;M<L;M++)p.call(void 0,C[M],y&&y[M],c)}var Uv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jP(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var C=c[y].indexOf("="),L=null;if(0<=C){var M=c[y].substring(0,C);L=c[y].substring(C+1)}else M=c[y];p(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function $i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $i){this.h=c.h,Su(this,c.j),this.o=c.o,this.g=c.g,Iu(this,c.s),this.l=c.l;var p=c.i,y=new ga;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Bv(this,y),this.m=c.m}else c&&(p=String(c).match(Uv))?(this.h=!1,Su(this,p[1]||"",!0),this.o=pa(p[2]||""),this.g=pa(p[3]||"",!0),Iu(this,p[4]),this.l=pa(p[5]||"",!0),Bv(this,p[6]||"",!0),this.m=pa(p[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}$i.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ma(p,zv,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ma(p,zv,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(ma(y,y.charAt(0)=="/"?BP:UP,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",ma(y,$P)),c.join("")};function lr(c){return new $i(c)}function Su(c,p,y){c.j=y?pa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Iu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Bv(c,p,y){p instanceof ga?(c.i=p,WP(c.i,c.h)):(y||(p=ma(p,zP)),c.i=new ga(p,c.h))}function xe(c,p,y){c.i.set(p,y)}function bu(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ma(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,FP),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function FP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zv=/[#\/\?@]/g,UP=/[#\?:]/g,BP=/[#\?]/g,zP=/[#\?@]/g,$P=/#/g;function ga(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function zr(c){c.g||(c.g=new Map,c.h=0,c.i&&jP(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=ga.prototype,t.add=function(c,p){zr(this),this.i=null,c=Ns(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function $v(c,p){zr(c),p=Ns(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Wv(c,p){return zr(c),p=Ns(c,p),c.g.has(p)}t.forEach=function(c,p){zr(this),this.g.forEach(function(y,C){y.forEach(function(L){c.call(p,L,C,this)},this)},this)},t.na=function(){zr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let C=0;C<p.length;C++){const L=c[C];for(let M=0;M<L.length;M++)y.push(p[C])}return y},t.V=function(c){zr(this);let p=[];if(typeof c=="string")Wv(this,c)&&(p=p.concat(this.g.get(Ns(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return zr(this),this.i=null,c=Ns(this,c),Wv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Hv(c,p,y){$v(c,p),0<y.length&&(c.i=null,c.g.set(Ns(c,p),E(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var C=p[y];const M=encodeURIComponent(String(C)),G=this.V(C);for(C=0;C<G.length;C++){var L=M;G[C]!==""&&(L+="="+encodeURIComponent(String(G[C]))),c.push(L)}}return this.i=c.join("&")};function Ns(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function WP(c,p){p&&!c.j&&(zr(c),c.i=null,c.g.forEach(function(y,C){var L=C.toLowerCase();C!=L&&($v(this,C),Hv(this,L,y))},c)),c.j=p}function HP(c,p){const y=new ar;if(a.Image){const C=new Image;C.onload=m($r,y,"TestLoadImage: loaded",!0,p,C),C.onerror=m($r,y,"TestLoadImage: error",!1,p,C),C.onabort=m($r,y,"TestLoadImage: abort",!1,p,C),C.ontimeout=m($r,y,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function GP(c,p){const y=new ar,C=new AbortController,L=setTimeout(()=>{C.abort(),$r(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(M=>{clearTimeout(L),M.ok?$r(y,"TestPingServer: ok",!0,p):$r(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),$r(y,"TestPingServer: error",!1,p)})}function $r(c,p,y,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(y)}catch{}}function qP(){this.g=new sa}function KP(c,p,y){const C=y||"";try{Fv(c,function(L,M){let G=L;u(L)&&(G=ks(L)),p.push(C+M+"="+encodeURIComponent(G))})}catch(L){throw p.push(C+"type="+encodeURIComponent("_badmap")),L}}function Cu(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Cu,oa),Cu.prototype.g=function(){return new Pu(this.l,this.j)},Cu.prototype.i=function(c){return function(){return c}}({});function Pu(c,p){Ze.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Pu,Ze),t=Pu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,va(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ya(this):va(this),this.readyState==3&&Gv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ya(this))},t.Qa=function(c){this.g&&(this.response=c,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,va(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qv(c){let p="";return V(c,function(y,C){p+=C,p+=":",p+=y,p+=`\r
`}),p}function Zh(c,p,y){e:{for(C in y){var C=!1;break e}C=!0}C||(y=qv(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):xe(c,p,y))}function je(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(je,Ze);var YP=/^https?$/i,QP=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oe.g(),this.v=this.o?aa(this.o):aa(oe),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){Kv(this,M);return}if(c=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)y.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const M of C.keys())y.set(M,C.get(M));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(M=>M.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(QP,p,void 0))||C||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,G]of y)this.g.setRequestHeader(M,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xv(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Kv(this,M)}};function Kv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Yv(c),Au(c)}function Yv(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qv(this):this.bb())},t.bb=function(){Qv(this)};function Qv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ur(c)!=4||c.Z()!=2)){if(c.u&&ur(c)==4)na(c.Ea,0,c);else if(at(c,"readystatechange"),ur(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var C;if(C=G===0){var L=String(c.D).match(Uv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!YP.test(L?L.toLowerCase():"")}y=C}if(y)at(c,"complete"),at(c,"success");else{c.m=6;try{var M=2<ur(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",Yv(c)}}finally{Au(c)}}}}function Au(c,p){if(c.g){Xv(c);const y=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||at(c,"ready");try{y.onreadystatechange=C}catch{}}}function Xv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),yu(p)}};function Jv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function XP(c){const p={};c=(c.g&&2<=ur(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(_(c[C]))continue;var y=k(c[C]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const M=p[L]||[];p[L]=M,M.push(y)}b(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function Zv(c){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,c),this.cb=wa("retryDelaySeedMs",1e4,c),this.Wa=wa("forwardChannelMaxRetries",2,c),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ov(c&&c.concurrentRequestLimit),this.Da=new qP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zv.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,C){nt(0),this.W=c,this.H=p||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.I=l0(this,null,this.W),Ru(this)};function ef(c){if(e0(c),c.G==3){var p=c.U++,y=lr(c.I);if(xe(y,"SID",c.K),xe(y,"RID",p),xe(y,"TYPE","terminate"),_a(c,y),p=new ye(c,c.j,p),p.L=2,p.v=bu(lr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=u0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),xu(p)}a0(c)}function ku(c){c.g&&(nf(c),c.g.cancel(),c.g=null)}function e0(c){ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),Du(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ru(c){if(!Vv(c.h)&&!c.s){c.s=!0;var p=c.Ga;K||q(),F||(K(),F=!0),W.add(p,c),c.B=0}}function JP(c,p){return Lv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=On(f(c.Ga,c,p),o0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ye(this,this.j,c);let M=this.o;if(this.S&&(M?(M=x(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=n0(this,L,p),y=lr(this.I),xe(y,"RID",c),xe(y,"CVER",22),this.D&&xe(y,"X-HTTP-Session-Id",this.D),_a(this,y),M&&(this.O?p="headers="+encodeURIComponent(String(qv(M)))+"&"+p:this.m&&Zh(y,this.m,M)),Jh(this.h,L),this.Ua&&xe(y,"TYPE","init"),this.P?(xe(y,"$req",p),xe(y,"SID","null"),L.T=!0,ha(L,y,null)):ha(L,y,p),this.G=2}}else this.G==3&&(c?t0(this,c):this.i.length==0||Vv(this.h)||t0(this))};function t0(c,p){var y;p?y=p.l:y=c.U++;const C=lr(c.I);xe(C,"SID",c.K),xe(C,"RID",y),xe(C,"AID",c.T),_a(c,C),c.m&&c.o&&Zh(C,c.m,c.o),y=new ye(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=n0(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Jh(c.h,y),ha(y,C,p)}function _a(c,p){c.H&&V(c.H,function(y,C){xe(p,C,y)}),c.l&&Fv({},function(y,C){xe(p,C,y)})}function n0(c,p,y){y=Math.min(c.i.length,y);var C=c.l?f(c.l.Na,c.l,c):null;e:{var L=c.i;let M=-1;for(;;){const G=["count="+y];M==-1?0<y?(M=L[0].g,G.push("ofs="+M)):M=0:G.push("ofs="+M);let _e=!0;for(let lt=0;lt<y;lt++){let me=L[lt].g;const wt=L[lt].map;if(me-=M,0>me)M=Math.max(0,L[lt].g-100),_e=!1;else try{KP(wt,G,"req"+me+"_")}catch{C&&C(wt)}}if(_e){C=G.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,C}function r0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;K||q(),F||(K(),F=!0),W.add(p,c),c.v=0}}function tf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=On(f(c.Fa,c),o0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,i0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=On(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),ku(this),i0(this))};function nf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function i0(c){c.g=new ye(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=lr(c.qa);xe(p,"RID","rpc"),xe(p,"SID",c.K),xe(p,"AID",c.T),xe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(p,"TO",c.ja),xe(p,"TYPE","xmlhttp"),_a(c,p),c.m&&c.o&&Zh(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=bu(lr(p)),y.m=null,y.P=!0,Eu(y,c)}t.Za=function(){this.C!=null&&(this.C=null,ku(this),tf(this),nt(19))};function Du(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function s0(c,p){var y=null;if(c.g==p){Du(c),nf(c),c.g=null;var C=2}else if(Xh(c.h,p))y=p.D,Mv(c.h,p),C=1;else return;if(c.G!=0){if(p.o)if(C==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;C=Rt(),at(C,new Rs(C,y)),Ru(c)}else r0(c);else if(L=p.s,L==3||L==0&&0<p.X||!(C==1&&JP(c,p)||C==2&&tf(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),L){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function o0(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function Wi(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),C=c.Xa;const L=!C;C=new $i(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Su(C,"https"),bu(C),L?HP(C.toString(),y):GP(C.toString(),y)}else nt(2);c.G=0,c.l&&c.l.sa(p),a0(c),e0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function a0(c){if(c.G=0,c.ka=[],c.l){const p=jv(c.h);(p.length!=0||c.i.length!=0)&&(P(c.ka,p),P(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function l0(c,p,y){var C=y instanceof $i?lr(y):new $i(y);if(C.g!="")p&&(C.g=p+"."+C.g),Iu(C,C.s);else{var L=a.location;C=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var M=new $i(null);C&&Su(M,C),p&&(M.g=p),L&&Iu(M,L),y&&(M.l=y),C=M}return y=c.D,p=c.ya,y&&p&&xe(C,y,p),xe(C,"VER",c.la),_a(c,C),C}function u0(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new je(new Cu({eb:y})):new je(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c0(){}t=c0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(c,p){return new Yt(c,p)};function Yt(c,p){Ze.call(this),this.g=new Zv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Os(this)}w(Yt,Ze),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){ef(this.g)},Yt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=ks(c),c=y);p.i.push(new VP(p.Ya++,c)),p.G==3&&Ru(p)},Yt.prototype.N=function(){this.g.l=null,delete this.j,ef(this.g),delete this.g,Yt.aa.N.call(this)};function d0(c){et.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(d0,et);function h0(){tt.call(this),this.status=1}w(h0,tt);function Os(c){this.g=c}w(Os,c0),Os.prototype.ua=function(){at(this.g,"a")},Os.prototype.ta=function(c){at(this.g,new d0(c))},Os.prototype.sa=function(c){at(this.g,new h0)},Os.prototype.ra=function(){at(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,VS=function(){return new Nu},OS=function(){return Rt()},NS=sn,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Rc=Ds,Tu.COMPLETE="complete",DS=Tu,vu.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Ma=vu,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,RS=je}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const Qw="@firebase/firestore",Xw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new ny("@firebase/firestore");function Ms(){return ms.logLevel}function Y(t,...e){if(ms.logLevel<=ce.DEBUG){const n=e.map(yy);ms.debug(`Firestore (${zo}): ${t}`,...n)}}function kr(t,...e){if(ms.logLevel<=ce.ERROR){const n=e.map(yy);ms.error(`Firestore (${zo}): ${t}`,...n)}}function xi(t,...e){if(ms.logLevel<=ce.WARN){const n=e.map(yy);ms.warn(`Firestore (${zo}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LS(t,r,n)}function LS(t,e,n){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kr(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||LS(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class dO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hO{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new MS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class fO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function gm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{const s=jS(),o=yO(s.encode(Zw(t,n)),s.encode(Zw(e,n)));return o!==0?o:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function Zw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yO(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function Po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=jn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const r=jn.isNumericId(e),i=jn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?jn.extractNumericId(e).compare(jn.extractNumericId(n)):gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class Ie extends jn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends jn{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return vO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new dt([e_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ie.fromString(e))}static fromName(e){return new Z(Ie.fromString(e).popFirst(5))}static empty(){return new Z(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wO(t,e,n,r){if(e===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t_(t){if(!Z.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n_(t){if(Z.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function US(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Cl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wy(t);throw new J($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ql(t,e){if(!US(t))throw new J($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new J($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-62135596800,i_=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(e){return le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*i_);return new le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r_)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,le._jsonSchema))return new le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:qe("string",le._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new le(0,0))}static max(){return new ie(new le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function _O(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new le(n+1,0):new le(n,r));return new Si(i,Z.empty(),e)}function TO(t){return new Si(t.readTime,t.key,Pl)}class Si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Si(ie.min(),Z.empty(),Pl)}static max(){return new Si(ie.max(),Z.empty(),Pl)}}function EO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==xO)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function IO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ph.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function mh(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function bO(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="";function CO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=s_(e)),e=PO(t.get(n),e);return s_(e)}function PO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case BS:n+="";break;default:n+=s}}return n}function s_(t){return t+BS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??ct.EMPTY,this.right=s??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Je(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $S("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const AO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=AO.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="server_timestamp",HS="__type__",GS="__previous_value__",qS="__local_write_time__";function Ty(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[HS])===null||n===void 0?void 0:n.stringValue)===WS}function gh(t){const e=t.mapValue.fields[GS];return Ty(e)?gh(e):e}function Al(t){const e=Ii(t.mapValue.fields[qS].timestampValue);return new le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ed="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||Ed}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Ed}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="__type__",YS="__max__",tc={mapValue:{fields:{__type__:{stringValue:YS}}}},QS="__vector__",xd="value";function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:DO(t)?9007199254740991:RO(t)?10:11:ne(28295,{value:t})}function Zn(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Al(t).isEqual(Al(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ii(i.timestampValue),a=Ii(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return bi(i.bytesValue).isEqual(bi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?Td(o)===Td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(o_(o)!==o_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zn(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Rl(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=Ci(t),r=Ci(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Be(s.integerValue||s.doubleValue),l=Be(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return l_(t.timestampValue,e.timestampValue);case 4:return l_(Al(t),Al(e));case 5:return gm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=bi(s),l=bi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ae(a[u],l[u]);if(d!==0)return d}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(Be(s.latitude),Be(o.latitude));return a!==0?a:ae(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return u_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h[xd])===null||a===void 0?void 0:a.arrayValue,w=(l=f[xd])===null||l===void 0?void 0:l.arrayValue,E=ae(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:u_(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===tc.mapValue&&o===tc.mapValue)return 0;if(s===tc.mapValue)return 1;if(o===tc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=gm(l[h],d[h]);if(f!==0)return f;const m=Ao(a[l[h]],u[d[h]]);if(m!==0)return m}return ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{le:n})}}function l_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Ii(t),r=Ii(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function u_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ao(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function ko(t){return ym(t)}function ym(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ym(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ym(n.fields[o])}`;return i+"}"}(t.mapValue):ne(61005,{value:t})}function Dc(t){switch(Ci(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(t);return e?16+Dc(e):16;case 5:return 2*t.stringValue.length;case 6:return bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Dc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _s(r.fields,(s,o)=>{i+=s.length+Dc(o)}),i}(t.mapValue);default:throw ne(13486,{value:t})}}function vm(t){return!!t&&"integerValue"in t}function Ey(t){return!!t&&"arrayValue"in t}function c_(t){return!!t&&"nullValue"in t}function d_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function RO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KS])===null||n===void 0?void 0:n.stringValue)===QS}function Za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Za(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(Za(this.value))}}function XS(t){const e=[];return _s(t.fields,(n,r)=>{const i=new dt([n]);if(Nc(r)){const s=XS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,ie.min(),ie.min(),ie.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,ie.min(),ie.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ie.min(),ie.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function h_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n="asc"){this.field=e,this.dir=n}}function NO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{}class Qe extends JS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VO(e,n,r):n==="array-contains"?new jO(e,r):n==="in"?new FO(e,r):n==="not-in"?new UO(e,r):n==="array-contains-any"?new BO(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LO(e,r):new MO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends JS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new er(e,n)}matches(e){return ZS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ZS(t){return t.op==="and"}function eI(t){return OO(t)&&ZS(t)}function OO(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function wm(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(eI(t))return t.filters.map(e=>wm(e)).join(",");{const e=t.filters.map(n=>wm(n)).join(",");return`${t.op}(${e})`}}function tI(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(t,e):t instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tI(o,i.filters[a]),!0):!1}(t,e):void ne(19439)}function nI(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(nI).join(" ,")+"}"}(t):"Filter"}class VO extends Qe{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class LO extends Qe{constructor(e,n){super(e,"in",n),this.keys=rI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MO extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=rI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class jO extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ey(n)&&Rl(n.arrayValue,this.value)}}class FO extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class UO extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rl(this.value.arrayValue,n)}}class BO extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function p_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zO(t,e,n,r,i,s,o)}function xy(t){const e=se(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.Pe=n}return e.Pe}function Sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f_(t.startAt,e.startAt)&&f_(t.endAt,e.endAt)}function _m(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $O(t,e,n,r,i,s,o,a){return new yh(t,e,n,r,i,s,o,a)}function iI(t){return new yh(t)}function m_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WO(t){return t.collectionGroup!==null}function el(t){const e=se(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Id(s,r))}),n.has(dt.keyField().canonicalString())||e.Te.push(new Id(dt.keyField(),r))}return e.Te}function Gn(t){const e=se(t);return e.Ie||(e.Ie=HO(e,el(t))),e.Ie}function HO(t,e){if(t.limitType==="F")return p_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Id(i.field,s)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return p_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tm(t,e,n){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return Sy(Gn(t),Gn(e))&&t.limitType===e.limitType}function sI(t){return`${xy(Gn(t))}|lt:${t.limitType}`}function js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nI(i)).join(", ")}]`),mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ko(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of el(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=h_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,el(r),i)||r.endAt&&!function(o,a,l){const u=h_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,el(r),i))}(t,e)}function GO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oI(t){return(e,n)=>{let r=!1;for(const i of el(t)){const s=qO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qO(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ao(l,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new Me(Z.comparator);function Rr(){return KO}const aI=new Me(Z.comparator);function ja(...t){let e=aI;for(const n of t)e=e.insert(n.key,n);return e}function lI(t){let e=aI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return tl()}function uI(){return tl()}function tl(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const YO=new Me(Z.comparator),QO=new Je(Z.comparator);function de(...t){let e=QO;for(const n of t)e=e.add(n);return e}const XO=new Je(ae);function JO(){return XO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function cI(t){return{integerValue:""+t}}function ZO(t,e){return bO(e)?cI(e):Iy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function eV(t,e,n){return t instanceof bd?function(i,s){const o={fields:{[HS]:{stringValue:WS},[qS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ty(s)&&(s=gh(s)),s&&(o.fields[GS]=s),{mapValue:o}}(n,e):t instanceof Dl?hI(t,e):t instanceof Nl?fI(t,e):function(i,s){const o=dI(i,s),a=g_(o)+g_(i.Ee);return vm(o)&&vm(i.Ee)?cI(a):Iy(i.serializer,a)}(t,e)}function tV(t,e,n){return t instanceof Dl?hI(t,e):t instanceof Nl?fI(t,e):n}function dI(t,e){return t instanceof Cd?function(r){return vm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bd extends _h{}class Dl extends _h{constructor(e){super(),this.elements=e}}function hI(t,e){const n=pI(e);for(const r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nl extends _h{constructor(e){super(),this.elements=e}}function fI(t,e){let n=pI(e);for(const r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}class Cd extends _h{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function g_(t){return Be(t.integerValue||t.doubleValue)}function pI(t){return Ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dl&&i instanceof Dl||r instanceof Nl&&i instanceof Nl?Po(r.elements,i.elements,Zn):r instanceof Cd&&i instanceof Cd?Zn(r.Ee,i.Ee):r instanceof bd&&i instanceof bd}(t.transform,e.transform)}class rV{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Th{}function mI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new by(t.key,qn.none()):new Xl(t.key,t.data,qn.none());{const n=t.data,r=cn.empty();let i=new Je(dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Es(t.key,r,new Pn(i.toArray()),qn.none())}}function iV(t,e,n){t instanceof Xl?function(i,s,o){const a=i.value.clone(),l=v_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(i,s,o){if(!Oc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=v_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(gI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nl(t,e,n,r){return t instanceof Xl?function(s,o,a,l){if(!Oc(s.precondition,o))return a;const u=s.value.clone(),d=w_(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Es?function(s,o,a,l){if(!Oc(s.precondition,o))return a;const u=w_(s.fieldTransforms,l,o),d=o.data;return d.setAll(gI(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Oc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dI(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Po(r,i,(s,o)=>nV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends Th{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Es extends Th{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v_(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tV(o,a,n[i]))}return r}function w_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eV(s,o,e))}return r}class by extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=mI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,r)=>y_(n,r))&&Po(this.baseMutations,e.baseMutations,(n,r)=>y_(n,r))}}class Cy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return YO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,he;function cV(t){switch(t){case $.OK:return ne(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function yI(t){if(t===void 0)return kr("GRPC error has no .code"),$.UNKNOWN;switch(t){case We.OK:return $.OK;case We.CANCELLED:return $.CANCELLED;case We.UNKNOWN:return $.UNKNOWN;case We.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case We.INTERNAL:return $.INTERNAL;case We.UNAVAILABLE:return $.UNAVAILABLE;case We.UNAUTHENTICATED:return $.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case We.NOT_FOUND:return $.NOT_FOUND;case We.ALREADY_EXISTS:return $.ALREADY_EXISTS;case We.PERMISSION_DENIED:return $.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case We.ABORTED:return $.ABORTED;case We.OUT_OF_RANGE:return $.OUT_OF_RANGE;case We.UNIMPLEMENTED:return $.UNIMPLEMENTED;case We.DATA_LOSS:return $.DATA_LOSS;default:return ne(39323,{code:t})}}(he=We||(We={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new gi([4294967295,4294967295],0);function __(t){const e=jS().encode(t),n=new kS;return n.update(e),new Uint8Array(n.digest())}function T_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gi([n,r],0),new gi([i,s],0)]}class Py{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=gi.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(gi.fromNumber(r)));return i.compare(dV)===1&&(i=new gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=__(e),[r,i]=T_(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Py(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=__(e),[r,i]=T_(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eh(ie.min(),i,new Me(ae),Rr(),de())}}class Jl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jl(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class vI{constructor(e,n){this.targetId=e,this.De=n}}class wI{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class E_{constructor(){this.ve=0,this.Ce=x_(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=de(),n=de(),r=de();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:s})}}),new Jl(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=x_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hV{constructor(e){this.We=e,this.Ge=new Map,this.ze=Rr(),this.je=nc(),this.Je=nc(),this.He=new Me(ae)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(_m(s))if(r===0){const o=new Z(s.path);this.Xe(n,o,Ct.newNoDocument(o,ie.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=bi(r).toUint8Array()}catch(l){if(l instanceof $S)return xi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Py(o,i,s)}catch(l){return xi(l instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&_m(a.target)){const l=new Z(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ct.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=de();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new Eh(e,n,this.He,this.ze,r);return this.ze=Rr(),this.je=nc(),this.Je=nc(),this.He=new Me(ae),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new E_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Je(ae),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Je(ae),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new E_),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function nc(){return new Me(Z.comparator)}function x_(){return new Me(Z.comparator)}const fV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),pV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),mV=(()=>({and:"AND",or:"OR"}))();class gV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _I(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yV(t,e){return Pd(t,e.toTimestamp())}function Kn(t){return ge(!!t,49232),ie.fromTimestamp(function(n){const r=Ii(n);return new le(r.seconds,r.nanos)}(t))}function Ay(t,e){return xm(t,e).canonicalString()}function xm(t,e){const n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TI(t){const e=Ie.fromString(t);return ge(bI(e),10190,{key:e.toString()}),e}function Sm(t,e){return Ay(t.databaseId,e.path)}function jf(t,e){const n=TI(e);if(n.get(1)!==t.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(xI(n))}function EI(t,e){return Ay(t.databaseId,e)}function vV(t){const e=TI(t);return e.length===4?Ie.emptyPath():xI(e)}function Im(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xI(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function S_(t,e,n){return{name:Sm(t,e),fields:n.value.mapValue.fields}}function wV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ge(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:yI(u.code);return new J(d,u.message||"")}(o);n=new wI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jf(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):ie.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Vc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jf(t,r.document),s=r.readTime?Kn(r.readTime):ie.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jf(t,r.document),s=r.removedTargetIds||[];n=new Vc([],s,i,null)}else{if(!("filter"in e))return ne(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uV(i,s),a=r.targetId;n=new vI(a,o)}}return n}function _V(t,e){let n;if(e instanceof Xl)n={update:S_(t,e.key,e.value)};else if(e instanceof by)n={delete:Sm(t,e.key)};else if(e instanceof Es)n={update:S_(t,e.key,e.data),updateMask:AV(e.fieldMask)};else{if(!(e instanceof oV))return ne(16599,{Rt:e.type});n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne(27497)}(t,e.precondition)),n}function TV(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(ie.min())&&(o=Kn(s)),new rV(o,i.transformResults||[])}(n,e))):[]}function EV(t,e){return{documents:[EI(t,e.path)]}}function xV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EI(t,i);const s=function(u){if(u.length!==0)return II(er.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Fs(f.field),direction:bV(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function SV(t){let e=vV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=SI(h);return f instanceof er&&eI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Id(Us(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,mh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Sd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Sd(m,f)}(n.endAt)),$O(e,i,o,s,a,"F",l,u)}function IV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>SI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function bV(t){return fV[t]}function CV(t){return pV[t]}function PV(t){return mV[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return dt.fromServerFormat(t.fieldPath)}function II(t){return t instanceof Qe?function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(c_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(c_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:CV(n.op),value:n.value}}}(t):t instanceof er?function(n){const r=n.getFilters().map(i=>II(i));return r.length===1?r[0]:{compositeFilter:{op:PV(n.op),filters:r}}}(t):ne(54877,{filter:t})}function AV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.gt=e}}function RV(t){const e=SV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.Dn=new NV}addToCollectionParentIndex(e,n){return this.Dn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Si.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class NV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CI=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(CI,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ro(0)}static ur(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="LruGarbageCollector",OV=1048576;function C_([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class VV{constructor(e){this.Tr=e,this.buffer=new Je(C_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();C_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Y(b_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?Y(b_,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Rr(3e5)})}}class MV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(ph.ue);const r=new VV(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(I_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ms()<=ce.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function jV(t,e){return new MV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.changes=new Ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nl(r.mutation,i,Pn.empty(),le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ja();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Rr();const o=tl(),a=function(){return tl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Es)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),nl(d.mutation,u,d.mutation.getFieldMask(),le.now())):o.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new UV(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tl();let i=new Me((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Pn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=uI();d.forEach(f=>{if(!s.has(f)){const m=mI(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(ts());let a=Pl,l=s;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,de())).next(d=>({batchId:a,changes:lI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ja();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const u=function(h,f){return new yh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=ja();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&nl(d.mutation,u,Pn.empty(),le.now()),wh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:RV(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.overlays=new Me(Z.comparator),this.kr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ts(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ts(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ts(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lV(n,r));let s=this.kr.get(n);s===void 0&&(s=de(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.qr=new Je(rt.Qr),this.$r=new Je(rt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new rt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Z(new Ie([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Z(new Ie([])),r=new rt(n,e),i=new rt(n,e+1);let s=de();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Z.comparator(e.key,n.key)||ae(e.Hr,n.Hr)}static Ur(e,n){return ae(e.Hr,n.Hr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Je(rt.Qr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?_y:this.er-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ae);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new rt(new Z(s),0);let a=new Je(ae);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),z.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return z.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new rt(n,0),i=this.Yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.ni=e,this.docs=function(){return new Me(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Rr();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||EO(TO(d),r)<=0||(i.has(d.key)||wh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne(9500)}ri(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qV(this)}getSize(e){return z.resolve(this.size)}}class qV extends FV{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.persistence=e,this.ii=new Ts(n=>xy(n),Sy),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new ky,this.targetCount=0,this._i=Ro.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.hr(n),z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.ai={},this.overlays={},this.ui=new ph(0),this.ci=!1,this.ci=!0,this.li=new WV,this.referenceDelegate=e(this),this.hi=new KV(this),this.indexManager=new DV,this.remoteDocumentCache=function(i){return new GV(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new kV(n),this.Ti=new zV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $V,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new HV(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new YV(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class YV extends SO{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Ai=new ky,this.Ri=null}static Vi(e){return new Ry(e)}get mi(){if(this.Ri)return this.Ri;throw ne(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.mi,r=>{const i=Z.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return z.or([()=>z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.gi=new Ts(r=>CO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=jV(this,n)}static Vi(e,n){return new Ad(e,n)}Ii(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return z.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}Sr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return HR()?8:IO(At())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QV;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ms()<=ce.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(Ms()<=ce.DEBUG&&Y("QueryEngine","Query:",js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ms()<=ce.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):z.resolve())}ps(e,n){if(m_(n))return z.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tm(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Tm(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return m_(n)||i.isEqual(ie.min())?z.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?z.resolve(null):(Ms()<=ce.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),js(n)),this.vs(e,o,n,_O(i,Pl)).next(a=>a))})}bs(e,n){let r=new Je(oI(e));return n.forEach((i,s)=>{wh(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Ms()<=ce.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",js(n)),this.gs.getDocumentsMatchingQuery(e,n,Si.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LocalStore",JV=3e8;class ZV{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Me(ae),this.Ms=new Ts(s=>xy(s),Sy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function eL(t,e,n,r){return new ZV(t,e,n,r)}async function AI(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function tL(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=z.resolve();return f.forEach(w=>{m=m.next(()=>d.getEntry(l,w)).next(E=>{const P=u.docVersions.get(w);ge(P!==null,48541),E.version.compareTo(P)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kI(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function nL(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(E,P,g){return E.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=JV?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(s,m))});let l=Rr(),u=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(rL(s,o,e.documentUpdates).next(d=>{l=d.Ls,u=d.ks})),!r.isEqual(ie.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(h=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function rL(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Rr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Ny,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function iL(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_y),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sL(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function bm(t,e,n){const r=se(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wo(o))throw o;Y(Ny,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function P_(t,e,n){const r=se(t);let i=ie.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=se(l),f=h.Ms.get(d);return f!==void 0?z.resolve(h.Fs.get(f)):h.hi.getTargetData(u,d)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:de())).next(a=>(oL(r,GO(e),a),{documents:a,qs:s})))}function oL(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class A_{constructor(){this.activeTargetIds=JO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aL{constructor(){this.Fo=new A_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new A_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class R_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Y(k_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Y(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Cm(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",uL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ed?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Cm(),a=this.Go(e,n.toUriEncodedString());Y(Ff,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),d=Fo(u);return this.jo(e,a,l,r,d).then(h=>(Y(Ff,`Received RPC '${e}' ${o}: `,h),h),h=>{throw xi(Ff,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=uL[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class hL extends cL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=Cm();return new Promise((a,l)=>{const u=new RS;u.setWithCredentials(!0),u.listenOnce(DS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rc.NO_ERROR:const h=u.getResponseJson();Y(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Rc.TIMEOUT:Y(xt,`RPC '${e}' ${o} timed out`),l(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const f=u.getStatus();if(Y(xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const E=function(g){const _=g.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(w.status);l(new J(E,w.message))}else l(new J($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new J($.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Y(xt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Y(xt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=Cm(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VS(),a=OS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(xt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const w=new dL({Ho:P=>{m?Y(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(f||(Y(xt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Y(xt,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},Yo:()=>h.close()}),E=(P,g,_)=>{P.listen(g,T=>{try{_(T)}catch(D){setTimeout(()=>{throw D},0)}})};return E(h,Ma.EventType.OPEN,()=>{m||(Y(xt,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),E(h,Ma.EventType.CLOSE,()=>{m||(m=!0,Y(xt,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(h))}),E(h,Ma.EventType.ERROR,P=>{m||(m=!0,xi(xt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),w.__(new J($.UNAVAILABLE,"The operation could not be completed")))}),E(h,Ma.EventType.MESSAGE,P=>{var g;if(!m){const _=P.data[0];ge(!!_,16349);const T=_,D=(T==null?void 0:T.error)||((g=T[0])===null||g===void 0?void 0:g.error);if(D){Y(xt,`RPC '${e}' stream ${i} received error:`,D);const O=D.status;let V=function(S){const I=We[S];if(I!==void 0)return yI(I)}(O),b=D.message;V===void 0&&(V=$.INTERNAL,b="Unknown error status: "+O+" with message "+D.message),m=!0,w.__(new J(V,b)),h.close()}else Y(xt,`RPC '${e}' stream ${i} received:`,_),w.a_(_)}}),E(a,NS.STAT_EVENT,P=>{P.stat===mm.PROXY?Y(xt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===mm.NOPROXY&&Y(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new gV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="PersistentStream";class DI{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new RI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Y(D_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Y(D_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fL extends DI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=wV(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Kn(o.readTime):ie.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Im(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=_m(l)?{documents:EV(s,l)}:{query:xV(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_I(s,o.resumeToken);const u=Em(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Pd(s,o.snapshotVersion.toTimestamp());const u=Em(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=IV(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Im(this.serializer),n.removeTarget=e,this.k_(n)}}class pL extends DI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=TV(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Im(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_V(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{}class gL extends mL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,xm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J($.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,xm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J($.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class yL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(kr(n),this._a=!1):Y("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class vL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{xs(this)&&(Y(gs,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ia.add(4),await Zl(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Sh(u)}(this))})}),this.Aa=new yL(r,i)}}async function Sh(t){if(xs(t))for(const e of t.da)await e(!0)}async function Zl(t){for(const e of t.da)await e(!1)}function NI(t,e){const n=se(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),My(n)?Ly(n):Ho(n).x_()&&Vy(n,e))}function Oy(t,e){const n=se(t),r=Ho(n);n.Ta.delete(e),r.x_()&&OI(n,e),n.Ta.size===0&&(r.x_()?r.B_():xs(n)&&n.Aa.set("Unknown"))}function Vy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).H_(e)}function OI(t,e){t.Ra.$e(e),Ho(t).Y_(e)}function Ly(t){t.Ra=new hV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.Aa.aa()}function My(t){return xs(t)&&!Ho(t).M_()&&t.Ta.size>0}function xs(t){return se(t).Ia.size===0}function VI(t){t.Ra=void 0}async function wL(t){t.Aa.set("Online")}async function _L(t){t.Ta.forEach((e,n)=>{Vy(t,e)})}async function TL(t,e){VI(t),My(t)?(t.Aa.la(e),Ly(t)):t.Aa.set("Unknown")}async function EL(t,e,n){if(t.Aa.set("Online"),e instanceof wI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){Y(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kd(t,r)}else if(e instanceof Vc?t.Ra.Ye(e):e instanceof vI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{const r=await kI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),OI(s,l);const h=new ri(d.target,l,u,d.sequenceNumber);Vy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(gs,"Failed to raise snapshot:",r),await kd(t,r)}}async function kd(t,e,n){if(!Wo(e))throw e;t.Ia.add(1),await Zl(t),t.Aa.set("Offline"),n||(n=()=>kI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(gs,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Sh(t)})}function LI(t,e){return e().catch(n=>kd(t,n,e))}async function Ih(t){const e=se(t),n=Pi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:_y;for(;xL(e);)try{const i=await iL(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,SL(e,i)}catch(i){await kd(e,i)}MI(e)&&jI(e)}function xL(t){return xs(t)&&t.Pa.length<10}function SL(t,e){t.Pa.push(e);const n=Pi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function MI(t){return xs(t)&&!Pi(t).M_()&&t.Pa.length>0}function jI(t){Pi(t).start()}async function IL(t){Pi(t).na()}async function bL(t){const e=Pi(t);for(const n of t.Pa)e.X_(n.mutations)}async function CL(t,e,n){const r=t.Pa.shift(),i=Cy.from(r,e,n);await LI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ih(t)}async function PL(t,e){e&&Pi(t).Z_&&await async function(r,i){if(function(o){return cV(o)&&o!==$.ABORTED}(i.code)){const s=r.Pa.shift();Pi(r).N_(),await LI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ih(r)}}(t,e),MI(t)&&jI(t)}async function N_(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),Y(gs,"RemoteStore received new credentials");const r=xs(n);n.Ia.add(3),await Zl(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Sh(n)}async function AL(t,e){const n=se(t);e?(n.Ia.delete(2),await Sh(n)):e||(n.Ia.add(2),await Zl(n),n.Aa.set("Unknown"))}function Ho(t){return t.Va||(t.Va=function(n,r,i){const s=se(n);return s.ia(),new fL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:wL.bind(null,t),e_:_L.bind(null,t),n_:TL.bind(null,t),J_:EL.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),My(t)?Ly(t):t.Aa.set("Unknown")):(await t.Va.stop(),VI(t))})),t.Va}function Pi(t){return t.ma||(t.ma=function(n,r,i){const s=se(n);return s.ia(),new pL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:IL.bind(null,t),n_:PL.bind(null,t),ea:bL.bind(null,t),ta:CL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Ih(t)):(await t.ma.stop(),t.Pa.length>0&&(Y(gs,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new jy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Wo(t))return new J($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.fa=new Me(Z.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Do{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Do(e,n,mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class RL{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=V_(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new J($.ABORTED,"Firestore shutting down"))}}function V_(){return new Ts(t=>sI(t),vh)}async function DL(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new kL,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Fy(o,`Initialization of query '${js(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&Uy(n)}async function NL(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OL(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&Uy(n)}function VL(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function Uy(t){t.Da.forEach(e=>{e.next()})}var Pm,L_;(L_=Pm||(Pm={})).Fa="default",L_.Cache="cache";class LL{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class ML{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=de(),this.mutatedKeys=de(),this.Xa=oI(e),this.eu=new mo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new O_,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=wh(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;f&&m?f.data.isEqual(m.data)?w!==E&&(r.track({type:3,doc:m}),P=!0):this.iu(f,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Xa(m,l)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),P=!0):f&&!m&&(r.track({type:1,doc:f}),P=!0,(l||u)&&(a=!0)),P&&(m?(o=o.add(m),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,w){const E=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{At:P})}};return E(m)-E(w)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new Do(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new O_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=de(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new UI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new FI(r))}),n}uu(e){this.Ha=e.qs,this.Za=de();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Do.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const By="SyncEngine";class jL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FL{constructor(e){this.key=e,this.lu=!1}}class UL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ts(a=>sI(a),vh),this.Tu=new Map,this.Iu=new Set,this.du=new Me(Z.comparator),this.Eu=new Map,this.Au=new ky,this.Ru={},this.Vu=new Map,this.mu=Ro.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function BL(t,e,n=!0){const r=GI(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await BI(r,e,n,!0),i}async function zL(t,e){const n=GI(t);await BI(n,e,!0,!1)}async function BI(t,e,n,r){const i=await sL(t.localStore,Gn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await $L(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&NI(t.remoteStore,i),a}async function $L(t,e,n,r,i){t.gu=(h,f,m)=>async function(E,P,g,_){let T=P.view.nu(g);T.Ds&&(T=await P_(E.localStore,P.query,!1).then(({documents:b})=>P.view.nu(b,T)));const D=_&&_.targetChanges.get(P.targetId),O=_&&_.targetMismatches.get(P.targetId)!=null,V=P.view.applyChanges(T,E.isPrimaryClient,D,O);return j_(E,P.targetId,V._u),V.snapshot}(t,h,f,m);const s=await P_(t.localStore,e,!0),o=new ML(e,s.qs),a=o.nu(s.documents),l=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);j_(t,n,u._u);const d=new jL(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function WL(t,e,n){const r=se(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!vh(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Oy(r.remoteStore,i.targetId),Am(r,i.targetId)}).catch($o)):(Am(r,i.targetId),await bm(r.localStore,i.targetId,!0))}async function HL(t,e){const n=se(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oy(n.remoteStore,r.targetId))}async function GL(t,e,n){const r=ZL(t);try{const i=await function(o,a){const l=se(o),u=le.now(),d=a.reduce((m,w)=>m.add(w.key),de());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Rr(),E=de();return l.Os.getEntries(m,d).next(P=>{w=P,w.forEach((g,_)=>{_.isValidDocument()||(E=E.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(P=>{h=P;const g=[];for(const _ of a){const T=sV(_,h.get(_.key).overlayedDocument);T!=null&&g.push(new Es(_.key,T,XS(T.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(P=>{f=P;const g=P.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(m,P.batchId,g)})}).then(()=>({batchId:f.batchId,changes:lI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new Me(ae)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await eu(r,i.changes),await Ih(r.remoteStore)}catch(i){const s=Fy(i,"Failed to persist write");n.reject(s)}}async function zI(t,e){const n=se(t);try{const r=await nL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?ge(o.lu,14607):i.removedDocuments.size>0&&(ge(o.lu,42227),o.lu=!1))}),await eu(n,r,e)}catch(r){await $o(r)}}function M_(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(u=!0)}),u&&Uy(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qL(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Me(Z.comparator);o=o.insert(s,Ct.newNoDocument(s,ie.min()));const a=de().add(s),l=new Eh(ie.min(),new Map,new Me(ae),o,a);await zI(r,l),r.du=r.du.remove(s),r.Eu.delete(e),zy(r)}else await bm(r.localStore,e,!1).then(()=>Am(r,e,n)).catch($o)}async function KL(t,e){const n=se(t),r=e.batch.batchId;try{const i=await tL(n.localStore,e);WI(n,r,null),$I(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,i)}catch(i){await $o(i)}}async function YL(t,e,n){const r=se(t);try{const i=await function(o,a){const l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ge(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);WI(r,e,n),$I(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,i)}catch(i){await $o(i)}}function $I(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function WI(t,e,n){const r=se(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||HI(t,r)})}function HI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Oy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),zy(t))}function j_(t,e,n){for(const r of n)r instanceof FI?(t.Au.addReference(r.key,e),QL(t,r)):r instanceof UI?(Y(By,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||HI(t,r.key)):ne(19791,{yu:r})}function QL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Y(By,"New document in limbo: "+n),t.Iu.add(r),zy(t))}function zy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Z(Ie.fromString(e)),r=t.mu.next();t.Eu.set(r,new FL(n)),t.du=t.du.insert(n,r),NI(t.remoteStore,new ri(Gn(iI(n.path)),r,"TargetPurposeLimboResolution",ph.ue))}}async function eu(t,e,n){const r=se(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Dy.Es(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const d=se(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,f=>z.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>z.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Wo(h))throw h;Y(Ny,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),w=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(w);d.Fs=d.Fs.insert(f,E)}}}(r.localStore,s))}async function XL(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){Y(By,"User change. New user:",e.toKey());const r=await AI(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new J($.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.Bs)}}function JL(t,e){const n=se(t),r=n.Eu.get(e);if(r&&r.lu)return de().add(r.key);{let i=de();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function GI(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qL.bind(null,e),e.hu.J_=OL.bind(null,e.eventManager),e.hu.pu=VL.bind(null,e.eventManager),e}function ZL(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YL.bind(null,e),e}class Rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return eL(this.persistence,new XV,e.initialUser,this.serializer)}Du(e){return new PI(Ry.Vi,this.serializer)}bu(e){return new aL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rd.provider={build:()=>new Rd};class eM extends Rd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ge(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LV(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new PI(r=>Ad.Vi(r,n),this.serializer)}}class km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XL.bind(null,this.syncEngine),await AL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RL}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(s){return new hL(s)}(e.databaseInfo);return function(s,o,a,l){return new gL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return R_.C()?new R_:new lL}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new UL(i,s,o,a,l,u);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);Y(gs,"RemoteStore shutting down."),s.Ia.add(5),await Zl(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="FirestoreClient";class nM{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(Ai,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Ai,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{xi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Y("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{xi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function F_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rM(t);Y(Ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N_(e.remoteStore,i)),t._onlineComponents=e}async function rM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Ai,"Using user provided OfflineComponentProvider");try{await Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xi("Error using user provided cache. Falling back to memory cache: "+n),await Bf(t,new Rd)}}else Y(Ai,"Using default OfflineComponentProvider"),await Bf(t,new eM(void 0));return t._offlineComponents}async function qI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Ai,"Using user provided OnlineComponentProvider"),await F_(t,t._uninitializedComponentsProvider._online)):(Y(Ai,"Using default OnlineComponentProvider"),await F_(t,new km))),t._onlineComponents}function iM(t){return qI(t).then(e=>e.syncEngine)}async function sM(t){const e=await qI(t),n=e.eventManager;return n.onListen=BL.bind(null,e.syncEngine),n.onUnlisten=WL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HL.bind(null,e.syncEngine),n}function oM(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new tM({next:f=>{d.Ou(),o.enqueueAndForget(()=>NL(s,h)),f.fromCache&&l.source==="server"?u.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new LL(a,d,{includeMetadataChanges:!0,ka:!0});return DL(s,h)}(await sM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firestore.googleapis.com",B_=!0;class z_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YI,this.ssl=B_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OV)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cO;switch(r.type){case"firstParty":return new pO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),U_.delete(n),r.terminate())}(this),Promise.resolve()}}function aM(t,e,n,r={}){var i;t=Cl(t,bh);const s=Fo(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(G1(`https://${l}`),q1("Firestore",!0)),o.host!==YI&&o.host!==l&&xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!hs(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=It.MOCK_USER;else{d=LR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new It(f)}t._authCredentials=new dO(new MS(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ql(n,ft._jsonSchema))return new ft(e,r||null,new Z(Ie.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:qe("string",ft._jsonSchemaVersion),referencePath:qe("string")};class vi extends Ch{constructor(e,n,r){super(e,n,iI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new Z(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function mn(t,e,...n){if(t=vn(t),FS("collection","path",e),t instanceof bh){const r=Ie.fromString(e,...n);return n_(r),new vi(t,null,r)}{if(!(t instanceof ft||t instanceof vi))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return n_(r),new vi(t.firestore,null,r)}}function $y(t,e,...n){if(t=vn(t),arguments.length===1&&(e=vy.newId()),FS("doc","path",e),t instanceof bh){const r=Ie.fromString(e,...n);return t_(r),new ft(t,null,new Z(r))}{if(!(t instanceof ft||t instanceof vi))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return t_(r),new ft(t.firestore,t instanceof vi?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class W_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new RI(this,"async_queue_retry"),this.oc=()=>{const r=Uf();r&&Y($_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new yi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wo(e))throw e;Y($_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,kr("INTERNAL UNHANDLED ERROR: ",H_(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=jy.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&ne(47125,{hc:H_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function H_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ph extends bh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new W_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function Ah(t,e){const n=typeof t=="object"?t:X1(),r=typeof t=="string"?t:e||Ed,i=iy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=OR("firestore");s&&aM(i,...s)}return i}function QI(t){if(t._terminated)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lM(t),t._firestoreClient}function lM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new kO(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dn(gt.fromBase64String(e))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dn(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,dn._jsonSchema))return dn.fromBase64String(e.bytes)}}dn._jsonSchemaVersion="firestore/bytes/1.0",dn._jsonSchema={type:qe("string",dn._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yn._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,Yn._jsonSchema))return new Yn(e.latitude,e.longitude)}}Yn._jsonSchemaVersion="firestore/geoPoint/1.0",Yn._jsonSchema={type:qe("string",Yn._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qn(e.vectorValues);throw new J($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:qe("string",Qn._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=/^__.*__$/;class cM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}function JI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ec:t})}}class Hy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Dd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(JI(this.Ec)&&uM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class dM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}Dc(e,n,r,i=!1){return new Hy({Ec:e,methodName:n,bc:r,path:dt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hM(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new dM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fM(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);nb("Data must be an object, but it was:",o,r);const a=eb(r,o);let l,u;if(s.merge)l=new Pn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=pM(e,h,n);if(!o.contains(f))throw new J($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);gM(d,f)||d.push(f)}l=new Pn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new cM(new cn(a),l,u)}function ZI(t,e){if(tb(t=vn(t)))return nb("Unsupported field value:",e,t),eb(t,e);if(t instanceof XI)return function(r,i){if(!JI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ZI(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=le.fromDate(r);return{timestampValue:Pd(i.serializer,s)}}if(r instanceof le){const s=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pd(i.serializer,s)}}if(r instanceof Yn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dn)return{bytesValue:_I(i.serializer,r._byteString)};if(r instanceof ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ay(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qn)return function(o,a){return{mapValue:{fields:{[KS]:{stringValue:QS},[xd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Iy(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${wy(r)}`)}(t,e)}function eb(t,e){const n={};return zS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,i)=>{const s=ZI(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof le||t instanceof Yn||t instanceof dn||t instanceof ft||t instanceof XI||t instanceof Qn)}function nb(t,e,n){if(!tb(n)||!US(n)){const r=wy(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function pM(t,e,n){if((e=vn(e))instanceof Wy)return e._internalPath;if(typeof e=="string")return rb(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const mM=new RegExp("[~\\*/\\[\\]]");function rb(t,e,n){if(e.search(mM)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wy(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J($.INVALID_ARGUMENT,a+t+l)}function gM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yM extends ib{data(){return super.data()}}function sb(t,e){return typeof e=="string"?rb(t,e):e instanceof Wy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wM{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _s(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[xd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Be(o.doubleValue));return new Qn(s)}convertGeoPoint(e){return new Yn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);ge(bI(r),9688,{name:e});const i=new kl(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class go extends ib{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:qe("string",go._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Lc extends go{data(e={}){return super.data(e)}}class yo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lc(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Lc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Lc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ic(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:TM(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:qe("string",yo._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class EM extends wM{constructor(e){super(),this.firestore=e}convertBytes(e){return new dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function kh(t){t=Cl(t,Ch);const e=Cl(t.firestore,Ph),n=QI(e),r=new EM(e);return vM(t._query),oM(n,t._query).then(i=>new yo(e,r,t,i))}function ob(t){return ab(Cl(t.firestore,Ph),[new by(t._key,qn.none())])}function ki(t,e){const n=Cl(t.firestore,Ph),r=$y(t),i=_M(t.converter,e);return ab(n,[fM(hM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function ab(t,e){return function(r,i){const s=new yi;return r.asyncQueue.enqueueAndForget(async()=>GL(await iM(r),i,s)),s.promise}(QI(t),e)}(function(e,n=!0){(function(i){zo=i})(Uo),bo(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ph(new hO(r.getProvider("auth-internal")),new mO(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mi(Qw,Xw,e),mi(Qw,Xw,"esm2017")})();const xM={apiKey:"AIzaSyCEW_L_4Sq-fCJjo66hTxREUIcEbcjXvgo",authDomain:"joyenglish-40a8e.firebaseapp.com",projectId:"joyenglish-40a8e",storageBucket:"joyenglish-40a8e.firebasestorage.app",messagingSenderId:"732483026981",appId:"1:732483026981:web:4c4ed03fa259d161937fcc",measurementId:"G-YP2PHN8KJK"},No=Q1(xM),Un=gy(No),Bn=Ah(No);var SM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ss=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},u)=>A.createElement("svg",{ref:u,...SM,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${IM(t)}`,...l},[...e.map(([d,h])=>A.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},Aa=Ss("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),bM=Ss("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),CM=Ss("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),PM=Ss("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),AM=Ss("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),kM=Ss("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),RM=Ss("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),DM="modulepreload",NM=function(t){return"/"+t},G_={},OM=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=NM(s),s in G_)return;G_[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":DM,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.parse=BM;Gy.serialize=zM;const VM=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,LM=/^[\u0021-\u003A\u003C-\u007E]*$/,MM=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,jM=/^[\u0020-\u003A\u003D-\u007E]*$/,FM=Object.prototype.toString,UM=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function BM(t,e){const n=new UM,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||$M;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=q_(t,s,o),d=K_(t,o,u),h=t.slice(u,d);if(n[h]===void 0){let f=q_(t,o+1,l),m=K_(t,l,f);const w=i(t.slice(f,m));n[h]=w}s=l+1}while(s<r);return n}function q_(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function K_(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function zM(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!VM.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!LM.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!MM.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!jM.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!WM(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function $M(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function WM(t){return FM.call(t)==="[object Date]"}var Y_="popstate";function HM(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Rm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ol(i)}return qM(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GM(){return Math.random().toString(36).substring(2,10)}function Q_(t,e){return{usr:t.state,key:t.key,idx:e}}function Rm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:n,key:e&&e.key||r||GM()}}function Ol({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qM(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let P=d(),g=P==null?null:P-u;u=P,l&&l({action:a,location:E.location,delta:g})}function f(P,g){a="PUSH";let _=Rm(E.location,P,g);n&&n(_,P),u=d()+1;let T=Q_(_,u),D=E.createHref(_);try{o.pushState(T,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}s&&l&&l({action:a,location:E.location,delta:1})}function m(P,g){a="REPLACE";let _=Rm(E.location,P,g);n&&n(_,P),u=d();let T=Q_(_,u),D=E.createHref(_);o.replaceState(T,"",D),s&&l&&l({action:a,location:E.location,delta:0})}function w(P){return KM(P)}let E={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Y_,h),l=P,()=>{i.removeEventListener(Y_,h),l=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let g=w(P);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(P){return o.go(P)}};return E}function KM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ol(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lb(t,e,n="/"){return YM(t,e,n,!1)}function YM(t,e,n,r){let i=typeof e=="string"?Go(e):e,s=Dr(i.pathname||"/",n);if(s==null)return null;let o=ub(t);QM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=aj(s);a=sj(o[l],u,r)}return a}function ub(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Tr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ve(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ub(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:rj(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of cb(s.path))i(s,o,l)}),e}function cb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ij(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XM=/^:[\w-]+$/,JM=3,ZM=2,ej=1,tj=10,nj=-2,X_=t=>t==="*";function rj(t,e){let n=t.split("/"),r=n.length;return n.some(X_)&&(r+=nj),e&&(r+=ZM),n.filter(i=>!X_(i)).reduce((i,s)=>i+(XM.test(s)?JM:s===""?ej:tj),r)}function ij(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sj(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Nd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Nd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Tr([s,h.pathname]),pathnameBase:dj(Tr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Tr([s,h.pathnameBase]))}return o}function Nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function oj(t,e=!1,n=!0){tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lj(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Go(t):t;return{pathname:n?n.startsWith("/")?n:uj(n,e):e,search:hj(r),hash:fj(i)}}function uj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function db(t){let e=cj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function hb(t,e,n,r=!1){let i;typeof t=="string"?i=Go(t):(i={...t},Ve(!i.pathname||!i.pathname.includes("?"),zf("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),zf("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),zf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=lj(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Tr=t=>t.join("/").replace(/\/\/+/g,"/"),dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fb=["POST","PUT","PATCH","DELETE"];new Set(fb);var mj=["GET",...fb];new Set(mj);var qo=A.createContext(null);qo.displayName="DataRouter";var Rh=A.createContext(null);Rh.displayName="DataRouterState";var pb=A.createContext({isTransitioning:!1});pb.displayName="ViewTransition";var gj=A.createContext(new Map);gj.displayName="Fetchers";var yj=A.createContext(null);yj.displayName="Await";var nr=A.createContext(null);nr.displayName="Navigation";var tu=A.createContext(null);tu.displayName="Location";var Lr=A.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var qy=A.createContext(null);qy.displayName="RouteError";function vj(t,{relative:e}={}){Ve(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(nr),{hash:i,pathname:s,search:o}=ru(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Tr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function nu(){return A.useContext(tu)!=null}function Mr(){return Ve(nu(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(tu).location}var mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(t){A.useContext(nr).static||A.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=A.useContext(Lr);return t?Rj():wj()}function wj(){Ve(nu(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(qo),{basename:e,navigator:n}=A.useContext(nr),{matches:r}=A.useContext(Lr),{pathname:i}=Mr(),s=JSON.stringify(db(r)),o=A.useRef(!1);return gb(()=>{o.current=!0}),A.useCallback((l,u={})=>{if(tr(o.current,mb),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=hb(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Tr([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}A.createContext(null);function ru(t,{relative:e}={}){let{matches:n}=A.useContext(Lr),{pathname:r}=Mr(),i=JSON.stringify(db(n));return A.useMemo(()=>hb(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _j(t,e){return yb(t,e)}function yb(t,e,n,r){var g;Ve(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(nr),{matches:s}=A.useContext(Lr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let _=d&&d.path||"";vb(l,!d||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let h=Mr(),f;if(e){let _=typeof e=="string"?Go(e):e;Ve(u==="/"||((g=_.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),f=_}else f=h;let m=f.pathname||"/",w=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=lb(t,{pathname:w});tr(d||E!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),tr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Ij(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Tr([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Tr([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&P?A.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},P):P}function Tj(){let t=kj(),e=pj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,o)}var Ej=A.createElement(Tj,null),xj=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Lr.Provider,{value:this.props.routeContext},A.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sj({routeContext:t,match:e,children:n}){let r=A.useContext(qo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Lr.Provider,{value:t},n)}function Ij(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ve(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,f=!1,m=null,w=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||Ej,o&&(a<0&&d===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):a===d&&(f=!0,w=u.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,d+1)),P=()=>{let g;return h?g=m:f?g=w:u.route.Component?g=A.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=l,A.createElement(Sj,{match:u,routeContext:{outlet:l,matches:E,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?A.createElement(xj,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:P(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):P()},null)}function Ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bj(t){let e=A.useContext(qo);return Ve(e,Ky(t)),e}function Cj(t){let e=A.useContext(Rh);return Ve(e,Ky(t)),e}function Pj(t){let e=A.useContext(Lr);return Ve(e,Ky(t)),e}function Yy(t){let e=Pj(t),n=e.matches[e.matches.length-1];return Ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Aj(){return Yy("useRouteId")}function kj(){var r;let t=A.useContext(qy),e=Cj("useRouteError"),n=Yy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Rj(){let{router:t}=bj("useNavigate"),e=Yy("useNavigate"),n=A.useRef(!1);return gb(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{tr(n.current,mb),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var J_={};function vb(t,e,n){!e&&!J_[t]&&(J_[t]=!0,tr(!1,n))}A.memo(Dj);function Dj({routes:t,future:e,state:n}){return yb(t,void 0,n,e)}function En(t){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ve(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Go(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=A.useMemo(()=>{let w=Dr(l,o);return w==null?null:{location:{pathname:w,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return tr(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:A.createElement(nr.Provider,{value:a},A.createElement(tu.Provider,{children:e,value:m}))}function Oj({children:t,location:e}){return _j(Dm(t),e)}function Dm(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,Dm(r.props.children,s));return}Ve(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dm(r.props.children,s)),n.push(o)}),n}var Mc="get",jc="application/x-www-form-urlencoded";function Dh(t){return t!=null&&typeof t.tagName=="string"}function Vj(t){return Dh(t)&&t.tagName.toLowerCase()==="button"}function Lj(t){return Dh(t)&&t.tagName.toLowerCase()==="form"}function Mj(t){return Dh(t)&&t.tagName.toLowerCase()==="input"}function jj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fj(t,e){return t.button===0&&(!e||e==="_self")&&!jj(t)}var sc=null;function Uj(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var Bj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $f(t){return t!=null&&!Bj.has(t)?(tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):t}function zj(t,e){let n,r,i,s,o;if(Lj(t)){let a=t.getAttribute("action");r=a?Dr(a,e):null,n=t.getAttribute("method")||Mc,i=$f(t.getAttribute("enctype"))||jc,s=new FormData(t)}else if(Vj(t)||Mj(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Dr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Mc,i=$f(t.getAttribute("formenctype"))||$f(a.getAttribute("enctype"))||jc,s=new FormData(a,t),!Uj()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Dh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mc,r=null,i=jc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $j(t,e){if(t.id in e)return e[t.id];try{let n=await OM(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wj(t){return t!=null&&typeof t.page=="string"}function Hj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Gj(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await $j(s,n);return o.links?o.links():[]}return[]}));return Qj(r.flat(1).filter(Hj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Z_(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function qj(t,e,{includeHydrateFallback:n}={}){return Kj(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Kj(t){return[...new Set(t)]}function Yj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Qj(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!Wj(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(Yj(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xj=new Set([100,101,204,205]);function Jj(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wb(){let t=A.useContext(qo);return Qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Zj(){let t=A.useContext(Rh);return Qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xy=A.createContext(void 0);Xy.displayName="FrameworkContext";function _b(){let t=A.useContext(Xy);return Qy(t,"You must render this element inside a <HydratedRouter> element"),t}function e4(t,e){let n=A.useContext(Xy),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=A.useRef(null);A.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=g=>{g.forEach(_=>{o(_.isIntersecting)})},P=new IntersectionObserver(E,{threshold:.5});return f.current&&P.observe(f.current),()=>{P.disconnect()}}},[t]),A.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let m=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:ka(a,m),onBlur:ka(l,w),onMouseEnter:ka(u,m),onMouseLeave:ka(d,w),onTouchStart:ka(h,m)}]:[!1,f,{}]}function ka(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function t4({page:t,...e}){let{router:n}=wb(),r=A.useMemo(()=>lb(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(r4,{page:t,matches:r,...e}):null}function n4(t){let{manifest:e,routeModules:n}=_b(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return Gj(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function r4({page:t,matches:e,...n}){let r=Mr(),{manifest:i,routeModules:s}=_b(),{basename:o}=wb(),{loaderData:a,matches:l}=Zj(),u=A.useMemo(()=>Z_(t,e,l,i,r,"data"),[t,e,l,i,r]),d=A.useMemo(()=>Z_(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(g=>{var T;let _=i.routes[g.route.id];!_||!_.hasLoader||(!u.some(D=>D.route.id===g.route.id)&&g.route.id in a&&((T=s[g.route.id])!=null&&T.shouldRevalidate)||_.hasClientLoader?E=!0:w.add(g.route.id))}),w.size===0)return[];let P=Jj(t,o);return E&&w.size>0&&P.searchParams.set("_routes",e.filter(g=>w.has(g.route.id)).map(g=>g.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,u,e,t,s]),f=A.useMemo(()=>qj(d,i),[d,i]),m=n4(d);return A.createElement(A.Fragment,null,h.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),m.map(({key:w,link:E})=>A.createElement("link",{key:w,...E})))}function i4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tb&&(window.__reactRouterVersion="7.6.3")}catch{}function s4({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=HM({window:n,v5Compat:!0}));let i=r.current,[s,o]=A.useState({action:i.action,location:i.location}),a=A.useCallback(l=>{A.startTransition(()=>o(l))},[o]);return A.useLayoutEffect(()=>i.listen(a),[i,a]),A.createElement(Nj,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Od=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:w}=A.useContext(nr),E=typeof u=="string"&&Eb.test(u),P,g=!1;if(typeof u=="string"&&E&&(P=u,Tb))try{let S=new URL(window.location.href),I=u.startsWith("//")?new URL(S.protocol+u):new URL(u),k=Dr(I.pathname,w);I.origin===S.origin&&k!=null?u=k+I.search+I.hash:g=!0}catch{tr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=vj(u,{relative:i}),[T,D,O]=e4(r,f),V=u4(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(S){e&&e(S),S.defaultPrevented||V(S)}let x=A.createElement("a",{...f,...O,href:P||_,onClick:g||s?e:b,ref:i4(m,D),target:l,"data-discover":!E&&n==="render"?"true":void 0});return T&&!E?A.createElement(A.Fragment,null,x,A.createElement(t4,{page:_})):x});Od.displayName="Link";var o4=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=ru(o,{relative:u.relative}),f=Mr(),m=A.useContext(Rh),{navigator:w,basename:E}=A.useContext(nr),P=m!=null&&p4(h)&&a===!0,g=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,_=f.pathname,T=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),T=T?T.toLowerCase():null,g=g.toLowerCase()),T&&E&&(T=Dr(T,E)||T);const D=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let O=_===g||!i&&_.startsWith(g)&&_.charAt(D)==="/",V=T!=null&&(T===g||!i&&T.startsWith(g)&&T.charAt(g.length)==="/"),b={isActive:O,isPending:V,isTransitioning:P},x=O?e:void 0,S;typeof r=="function"?S=r(b):S=[r,O?"active":null,V?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(b):s;return A.createElement(Od,{...u,"aria-current":x,className:S,ref:d,style:I,to:o,viewTransition:a},typeof l=="function"?l(b):l)});o4.displayName="NavLink";var a4=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Mc,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let w=h4(),E=f4(a,{relative:u}),P=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&Eb.test(a),_=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||o;w(D||T.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return A.createElement("form",{ref:m,method:P,action:E,onSubmit:r?l:_,...f,"data-discover":!g&&t==="render"?"true":void 0})});a4.displayName="Form";function l4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xb(t){let e=A.useContext(qo);return Ve(e,l4(t)),e}function u4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=wn(),l=Mr(),u=ru(t,{relative:s});return A.useCallback(d=>{if(Fj(d,e)){d.preventDefault();let h=n!==void 0?n:Ol(l)===Ol(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var c4=0,d4=()=>`__${String(++c4)}__`;function h4(){let{router:t}=xb("useSubmit"),{basename:e}=A.useContext(nr),n=Aj();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=zj(r,e);if(i.navigate===!1){let d=i.fetcherKey||d4();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function f4(t,{relative:e}={}){let{basename:n}=A.useContext(nr),r=A.useContext(Lr);Ve(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ru(t||".",{relative:e})},o=Mr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Tr([n,s.pathname])),Ol(s)}function p4(t,e={}){let n=A.useContext(pb);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xb("useViewTransitionState"),i=ru(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nd(i.pathname,o)!=null||Nd(i.pathname,s)!=null}[...Xj];const m4=({isMenuOpen:t,setIsMenuOpen:e})=>{const[n,r]=A.useState(!1),i=Mr(),s=wn();A.useEffect(()=>{const u=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const o=[{name:"홈",to:"/"},{name:"커리큘럼",external:!0,href:"https://joyjukebox.notion.site/Business-English-Syllabus-141bfd2c8aa880cc9173fdf4ad2251d0"},{name:"소개",scrollTo:"about"},{name:"무료 시범강의 신청",to:"/trial"},{name:"그룹 클래스 예약",to:"/group-class"},{name:"토토방",to:"/toto-room"},{name:"상담문의",scrollTo:"contact"},{name:"관리자 로그인",to:"/login"}],a=u=>{if(i.pathname!=="/")s("/"),setTimeout(()=>{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})},300);else{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})}},l=()=>{i.pathname!=="/"?s("/"):window.scrollTo({top:0,behavior:"smooth"}),e(!1)};return v.jsxs("nav",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${n?"bg-dark-900/95 backdrop-blur-sm shadow-lg":"bg-transparent"}`,children:[v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("button",{onClick:l,className:"text-2xl font-bold gradient-text cursor-pointer hover:opacity-80 transition-opacity",children:"Joy English"})}),v.jsx("div",{className:"hidden md:block",children:v.jsx("div",{className:"ml-10 flex items-baseline space-x-8",children:o.map(u=>u.external?v.jsx("a",{href:u.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:u.name},u.name):u.scrollTo?v.jsx("button",{onClick:()=>a(u.scrollTo),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):u.name==="홈"?v.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):v.jsx(Od,{to:u.to,className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:u.name},u.name))})}),v.jsx("div",{className:"md:hidden",children:v.jsx("button",{onClick:()=>e(!t),className:"text-gray-300 hover:text-white p-2",children:t?v.jsx(RM,{size:24}):v.jsx(PM,{size:24})})})]})}),t&&v.jsx("div",{className:"md:hidden bg-dark-900/95 backdrop-blur-sm",children:v.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:o.map(u=>u.external?v.jsx("a",{href:u.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",onClick:()=>e(!1),children:u.name},u.name):u.scrollTo?v.jsx("button",{onClick:()=>{e(!1),a(u.scrollTo)},className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):u.name==="홈"?v.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):v.jsx(Od,{to:u.to,className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",onClick:()=>e(!1),children:u.name},u.name))})})]})},Sb=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Nh=A.createContext({}),Jy=A.createContext(null),Oh=typeof document<"u",g4=Oh?A.useLayoutEffect:A.useEffect,Ib=A.createContext({strict:!1}),Zy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),y4="framerAppearId",bb="data-"+Zy(y4);function v4(t,e,n,r){const{visualElement:i}=A.useContext(Nh),s=A.useContext(Ib),o=A.useContext(Jy),a=A.useContext(Sb).reducedMotion,l=A.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;A.useInsertionEffect(()=>{u&&u.update(n,o)});const d=A.useRef(!!(n[bb]&&!window.HandoffComplete));return g4(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Zs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function w4(t,e,n){return A.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zs(n)&&(n.current=r))},[e])}function Vl(t){return typeof t=="string"||Array.isArray(t)}function Vh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ev=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tv=["initial",...ev];function Lh(t){return Vh(t.animate)||tv.some(e=>Vl(t[e]))}function Cb(t){return!!(Lh(t)||t.variants)}function _4(t,e){if(Lh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Vl(n)?n:void 0,animate:Vl(r)?r:void 0}}return t.inherit!==!1?e:{}}function T4(t){const{initial:e,animate:n}=_4(t,A.useContext(Nh));return A.useMemo(()=>({initial:e,animate:n}),[eT(e),eT(n)])}function eT(t){return Array.isArray(t)?t.join(" "):t}const tT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const t in tT)Ll[t]={isEnabled:e=>tT[t].some(n=>!!e[n])};function E4(t){for(const e in t)Ll[e]={...Ll[e],...t[e]}}const Pb=A.createContext({}),Ab=A.createContext({}),x4=Symbol.for("motionComponentSymbol");function S4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&E4(t);function s(a,l){let u;const d={...A.useContext(Sb),...a,layoutId:I4(a)},{isStatic:h}=d,f=T4(a),m=r(a,h);if(!h&&Oh){f.visualElement=v4(i,m,d,e);const w=A.useContext(Ab),E=A.useContext(Ib).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,E,t,w))}return A.createElement(Nh.Provider,{value:f},u&&f.visualElement?A.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,a,w4(m,f.visualElement,l),m,h,f.visualElement))}const o=A.forwardRef(s);return o[x4]=i,o}function I4({layoutId:t}){const e=A.useContext(Pb).id;return e&&t!==void 0?e+"-"+t:t}function b4(t){function e(r,i={}){return S4(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const C4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nv(t){return typeof t!="string"||t.includes("-")?!1:!!(C4.indexOf(t)>-1||/[A-Z]/.test(t))}const Vd={};function P4(t){Object.assign(Vd,t)}const iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Is=new Set(iu);function kb(t,{layout:e,layoutId:n}){return Is.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vd[t]||t==="opacity")}const qt=t=>!!(t&&t.getVelocity),A4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k4=iu.length;function R4(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<k4;o++){const a=iu[o];if(t[a]!==void 0){const l=A4[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Rb=t=>e=>typeof e=="string"&&e.startsWith(t),Db=Rb("--"),Nm=Rb("var(--"),D4=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,N4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ri=(t,e,n)=>Math.min(Math.max(n,t),e),bs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...bs,transform:t=>Ri(0,1,t)},oc={...bs,default:1},il=t=>Math.round(t*1e5)/1e5,Mh=/(-)?([\d]*\.?[\d])+/g,Nb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,O4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function su(t){return typeof t=="string"}const ou=t=>({test:e=>su(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gr=ou("deg"),Xn=ou("%"),te=ou("px"),V4=ou("vh"),L4=ou("vw"),nT={...Xn,parse:t=>Xn.parse(t)/100,transform:t=>Xn.transform(t*100)},rT={...bs,transform:Math.round},Ob={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:oc,scaleX:oc,scaleY:oc,scaleZ:oc,skew:Gr,skewX:Gr,skewY:Gr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:rl,originX:nT,originY:nT,originZ:te,zIndex:rT,fillOpacity:rl,strokeOpacity:rl,numOctaves:rT};function rv(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(Db(h)){s[h]=f;continue}const m=Ob[h],w=N4(f,m);if(Is.has(h)){if(l=!0,o[h]=w,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=w):i[h]=w}if(e.transform||(l||r?i.transform=R4(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vb(t,e,n){for(const r in e)!qt(e[r])&&!kb(r,n)&&(t[r]=e[r])}function M4({transformTemplate:t},e,n){return A.useMemo(()=>{const r=iv();return rv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function j4(t,e,n){const r=t.style||{},i={};return Vb(i,r,t),Object.assign(i,M4(t,e,n)),t.transformValues?t.transformValues(i):i}function F4(t,e,n){const r={},i=j4(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const U4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U4.has(t)}let Lb=t=>!Ld(t);function B4(t){t&&(Lb=e=>e.startsWith("on")?!Ld(e):t(e))}try{B4(require("@emotion/is-prop-valid").default)}catch{}function z4(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Lb(i)||n===!0&&Ld(i)||!e&&!Ld(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function iT(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function $4(t,e,n){const r=iT(e,t.x,t.width),i=iT(n,t.y,t.height);return`${r} ${i}`}const W4={offset:"stroke-dashoffset",array:"stroke-dasharray"},H4={offset:"strokeDashoffset",array:"strokeDasharray"};function G4(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?W4:H4;t[s.offset]=te.transform(-r);const o=te.transform(e),a=te.transform(n);t[s.array]=`${o} ${a}`}function sv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(rv(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:w,dimensions:E}=t;m.transform&&(E&&(w.transform=m.transform),delete m.transform),E&&(i!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=$4(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&G4(m,o,a,l,!1)}const Mb=()=>({...iv(),attrs:{}}),ov=t=>typeof t=="string"&&t.toLowerCase()==="svg";function q4(t,e,n,r){const i=A.useMemo(()=>{const s=Mb();return sv(s,e,{enableHardwareAcceleration:!1},ov(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Vb(s,t.style,t),i.style={...s,...i.style}}return i}function K4(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(nv(n)?q4:F4)(r,s,o,n),d={...z4(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=A.useMemo(()=>qt(h)?h.get():h,[h]);return A.createElement(n,{...d,children:f})}}function jb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Fb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ub(t,e,n,r){jb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Fb.has(i)?i:Zy(i),e.attrs[i])}function av(t,e){const{style:n}=t,r={};for(const i in n)(qt(n[i])||e.style&&qt(e.style[i])||kb(i,t))&&(r[i]=n[i]);return r}function Bb(t,e){const n=av(t,e);for(const r in t)if(qt(t[r])||qt(e[r])){const i=iu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function lv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Y4(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Md=t=>Array.isArray(t),Q4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),X4=t=>Md(t)?t[t.length-1]||0:t;function Fc(t){const e=qt(t)?t.get():t;return Q4(e)?e.toValue():e}function J4({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Z4(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const zb=t=>(e,n)=>{const r=A.useContext(Nh),i=A.useContext(Jy),s=()=>J4(t,e,r,i);return n?s():Y4(s)};function Z4(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Fc(s[f]);let{initial:o,animate:a}=t;const l=Lh(t),u=Cb(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Vh(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const w=lv(t,m);if(!w)return;const{transitionEnd:E,transition:P,...g}=w;for(const _ in g){let T=g[_];if(Array.isArray(T)){const D=d?T.length-1:0;T=T[D]}T!==null&&(i[_]=T)}for(const _ in E)i[_]=E[_]}),i}const Ue=t=>t;class sT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function eF(t){let e=new sT,n=new sT,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ac=["prepare","read","update","preRender","render","postRender"],tF=40;function nF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ac.reduce((h,f)=>(h[f]=eF(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,tF),1),i.timestamp=h,i.isProcessing=!0,ac.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ac.reduce((h,f)=>{const m=s[f];return h[f]=(w,E=!1,P=!1)=>(n||l(),m.schedule(w,E,P)),h},{}),cancel:h=>ac.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Ce,cancel:Nr,state:St,steps:Wf}=nF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ue,!0),rF={useVisualState:zb({scrapeMotionValuesFromProps:Bb,createRenderState:Mb,onMount:(t,e,{renderState:n,latestValues:r})=>{Ce.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ce.render(()=>{sv(n,r,{enableHardwareAcceleration:!1},ov(e.tagName),t.transformTemplate),Ub(e,n)})}})},iF={useVisualState:zb({scrapeMotionValuesFromProps:av,createRenderState:iv})};function sF(t,{forwardMotionProps:e=!1},n,r){return{...nv(t)?rF:iF,preloadedFeatures:n,useRender:K4(e),createVisualElement:r,Component:t}}function wr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const $b=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function jh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const oF=t=>e=>$b(e)&&t(e,jh(e));function Er(t,e,n,r){return wr(t,e,oF(n),r)}const aF=(t,e)=>n=>e(t(n)),wi=(...t)=>t.reduce(aF);function Wb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const oT=Wb("dragHorizontal"),aT=Wb("dragVertical");function Hb(t){let e=!1;if(t==="y")e=aT();else if(t==="x")e=oT();else{const n=oT(),r=aT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Gb(){const t=Hb(!0);return t?(t(),!1):!0}class Li{constructor(e){this.isMounted=!1,this.node=e}update(){}}function lT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||Gb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ce.update(()=>a[r](s,o))};return Er(t.current,n,i,{passive:!t.getProps()[r]})}class lF extends Li{mount(){this.unmount=wi(lT(this.node,!0),lT(this.node,!1))}unmount(){}}class uF extends Li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wi(wr(this.node.current,"focus",()=>this.onFocus()),wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qb=(t,e)=>e?t===e?!0:qb(t,e.parentElement):!1;function Hf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,jh(n))}class cF extends Li{constructor(){super(...arguments),this.removeStartListeners=Ue,this.removeEndListeners=Ue,this.removeAccessibleListeners=Ue,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Er(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Ce.update(()=>{!h&&!qb(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Er(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Hf("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ce.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=wr(this.node.current,"keyup",o),Hf("down",(a,l)=>{this.startPress(a,l)})},n=wr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Hf("cancel",(s,o)=>this.cancelPress(s,o))},i=wr(this.node.current,"blur",r);this.removeAccessibleListeners=wi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ce.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Gb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ce.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Er(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Om=new WeakMap,Gf=new WeakMap,dF=t=>{const e=Om.get(t.target);e&&e(t)},hF=t=>{t.forEach(dF)};function fF({root:t,...e}){const n=t||document;Gf.has(n)||Gf.set(n,{});const r=Gf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(hF,{root:t,...e})),r[i]}function pF(t,e,n){const r=fF(e);return Om.set(t,n),r.observe(t),()=>{Om.delete(t),r.unobserve(t)}}const mF={some:0,all:1};class gF extends Li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mF[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return pF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yF(e,n))&&this.startObserver()}unmount(){}}function yF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vF={inView:{Feature:gF},tap:{Feature:cF},focus:{Feature:uF},hover:{Feature:lF}};function Kb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function wF(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function _F(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Fh(t,e,n){const r=t.getProps();return lv(r,e,n!==void 0?n:r.custom,wF(t),_F(t))}let TF=Ue,uv=Ue;const _i=t=>t*1e3,xr=t=>t/1e3,EF={current:!1},Yb=t=>Array.isArray(t)&&typeof t[0]=="number";function Qb(t){return!!(!t||typeof t=="string"&&Xb[t]||Yb(t)||Array.isArray(t)&&t.every(Qb))}const Ua=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Xb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function Jb(t){if(t)return Yb(t)?Ua(t):Array.isArray(t)?t.map(Jb):Xb[t]}function xF(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=Jb(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function SF(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Zb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IF=1e-7,bF=12;function CF(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Zb(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>IF&&++a<bF);return o}function au(t,e,n,r){if(t===e&&n===r)return Ue;const i=s=>CF(s,0,1,t,n);return s=>s===0||s===1?s:Zb(i(s),e,r)}const PF=au(.42,0,1,1),AF=au(0,0,.58,1),eC=au(.42,0,.58,1),kF=t=>Array.isArray(t)&&typeof t[0]!="number",tC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nC=t=>e=>1-t(1-e),cv=t=>1-Math.sin(Math.acos(t)),rC=nC(cv),RF=tC(cv),iC=au(.33,1.53,.69,.99),dv=nC(iC),DF=tC(dv),NF=t=>(t*=2)<1?.5*dv(t):.5*(2-Math.pow(2,-10*(t-1))),OF={linear:Ue,easeIn:PF,easeInOut:eC,easeOut:AF,circIn:cv,circInOut:RF,circOut:rC,backIn:dv,backInOut:DF,backOut:iC,anticipate:NF},uT=t=>{if(Array.isArray(t)){uv(t.length===4);const[e,n,r,i]=t;return au(e,n,r,i)}else if(typeof t=="string")return OF[t];return t},hv=(t,e)=>n=>!!(su(n)&&O4.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),sC=(t,e,n)=>r=>{if(!su(r))return r;const[i,s,o,a]=r.match(Mh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},VF=t=>Ri(0,255,t),qf={...bs,transform:t=>Math.round(VF(t))},ns={test:hv("rgb","red"),parse:sC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qf.transform(t)+", "+qf.transform(e)+", "+qf.transform(n)+", "+il(rl.transform(r))+")"};function LF(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vm={test:hv("#"),parse:LF,transform:ns.transform},eo={test:hv("hsl","hue"),parse:sC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xn.transform(il(e))+", "+Xn.transform(il(n))+", "+il(rl.transform(r))+")"},Dt={test:t=>ns.test(t)||Vm.test(t)||eo.test(t),parse:t=>ns.test(t)?ns.parse(t):eo.test(t)?eo.parse(t):Vm.parse(t),transform:t=>su(t)?t:t.hasOwnProperty("red")?ns.transform(t):eo.transform(t)},Ne=(t,e,n)=>-n*t+n*e+t;function Kf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Kf(l,a,t+1/3),s=Kf(l,a,t),o=Kf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Yf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},jF=[Vm,ns,eo],FF=t=>jF.find(e=>e.test(t));function cT(t){const e=FF(t);let n=e.parse(t);return e===eo&&(n=MF(n)),n}const oC=(t,e)=>{const n=cT(t),r=cT(e),i={...n};return s=>(i.red=Yf(n.red,r.red,s),i.green=Yf(n.green,r.green,s),i.blue=Yf(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),ns.transform(i))};function UF(t){var e,n;return isNaN(t)&&su(t)&&(((e=t.match(Mh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Nb))===null||n===void 0?void 0:n.length)||0)>0}const aC={regex:D4,countKey:"Vars",token:"${v}",parse:Ue},lC={regex:Nb,countKey:"Colors",token:"${c}",parse:Dt.parse},uC={regex:Mh,countKey:"Numbers",token:"${n}",parse:bs.parse};function Qf(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function jd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Qf(n,aC),Qf(n,lC),Qf(n,uC),n}function cC(t){return jd(t).values}function dC(t){const{values:e,numColors:n,numVars:r,tokenised:i}=jd(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(aC.token,o[l]):l<r+n?a=a.replace(lC.token,Dt.transform(o[l])):a=a.replace(uC.token,il(o[l]));return a}}const BF=t=>typeof t=="number"?0:t;function zF(t){const e=cC(t);return dC(t)(e.map(BF))}const Di={test:UF,parse:cC,createTransformer:dC,getAnimatableNone:zF},hC=(t,e)=>n=>`${n>0?e:t}`;function fC(t,e){return typeof t=="number"?n=>Ne(t,e,n):Dt.test(t)?oC(t,e):t.startsWith("var(")?hC(t,e):mC(t,e)}const pC=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>fC(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},$F=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=fC(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},mC=(t,e)=>{const n=Di.createTransformer(e),r=jd(t),i=jd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wi(pC(r.values,i.values),n):hC(t,e)},Ml=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},dT=(t,e)=>n=>Ne(t,e,n);function WF(t){return typeof t=="number"?dT:typeof t=="string"?Dt.test(t)?oC:mC:Array.isArray(t)?pC:typeof t=="object"?$F:dT}function HF(t,e,n){const r=[],i=n||WF(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ue:e;a=wi(l,a)}r.push(a)}return r}function gC(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(uv(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=HF(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Ml(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Ri(t[0],t[s-1],u)):l}function GF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ml(0,e,r);t.push(Ne(n,1,i))}}function qF(t){const e=[0];return GF(e,t.length-1),e}function KF(t,e){return t.map(n=>n*e)}function YF(t,e){return t.map(()=>e||eC).splice(0,t.length-1)}function Fd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=kF(r)?r.map(uT):uT(r),s={done:!1,value:e[0]},o=KF(n&&n.length===e.length?n:qF(e),t),a=gC(o,e,{ease:Array.isArray(i)?i:YF(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function yC(t,e){return e?t*(1e3/e):0}const QF=5;function vC(t,e,n){const r=Math.max(e-QF,0);return yC(n-t(r),e-r)}const Xf=.001,XF=.01,hT=10,JF=.05,ZF=1;function e3({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;TF(t<=_i(hT));let o=1-e;o=Ri(JF,ZF,o),t=Ri(XF,hT,xr(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=Lm(u,o),w=Math.exp(-h);return Xf-f/m*w},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,w=Math.exp(-h),E=Lm(Math.pow(u,2),o);return(-i(u)+Xf>0?-1:1)*((f-m)*w)/E}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Xf+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=n3(i,s,a);if(t=_i(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const t3=12;function n3(t,e,n){let r=n;for(let i=1;i<t3;i++)r=r-t(r)/e(r);return r}function Lm(t,e){return t*Math.sqrt(1-e*e)}const r3=["duration","bounce"],i3=["stiffness","damping","mass"];function fT(t,e){return e.some(n=>t[n]!==void 0)}function s3(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!fT(t,i3)&&fT(t,r3)){const n=e3(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function wC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=s3({...r,velocity:-xr(r.velocity||0)}),m=h||0,w=l/(2*Math.sqrt(a*u)),E=s-i,P=xr(Math.sqrt(a/u)),g=Math.abs(E)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let _;if(w<1){const T=Lm(P,w);_=D=>{const O=Math.exp(-w*P*D);return s-O*((m+w*P*E)/T*Math.sin(T*D)+E*Math.cos(T*D))}}else if(w===1)_=T=>s-Math.exp(-P*T)*(E+(m+P*E)*T);else{const T=P*Math.sqrt(w*w-1);_=D=>{const O=Math.exp(-w*P*D),V=Math.min(T*D,300);return s-O*((m+w*P*E)*Math.sinh(V)+T*E*Math.cosh(V))/T}}return{calculatedDuration:f&&d||null,next:T=>{const D=_(T);if(f)o.done=T>=d;else{let O=m;T!==0&&(w<1?O=vC(_,T,D):O=0);const V=Math.abs(O)<=n,b=Math.abs(s-D)<=e;o.done=V&&b}return o.value=o.done?s:D,o}}}function pT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=x=>a!==void 0&&x<a||l!==void 0&&x>l,w=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let E=n*e;const P=h+E,g=o===void 0?P:o(P);g!==P&&(E=g-h);const _=x=>-E*Math.exp(-x/r),T=x=>g+_(x),D=x=>{const S=_(x),I=T(x);f.done=Math.abs(S)<=u,f.value=f.done?g:I};let O,V;const b=x=>{m(f.value)&&(O=x,V=wC({keyframes:[f.value,w(f.value)],velocity:vC(T,x,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return b(0),{calculatedDuration:null,next:x=>{let S=!1;return!V&&O===void 0&&(S=!0,D(x),b(x)),O!==void 0&&x>O?V.next(x-O):(!S&&D(x),f)}}}const o3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ce.update(e,!0),stop:()=>Nr(e),now:()=>St.isProcessing?St.timestamp:performance.now()}},mT=2e4;function gT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mT;)e+=n,r=t.next(e);return e>=mT?1/0:e}const a3={decay:pT,inertia:pT,tween:Fd,keyframes:Fd,spring:wC};function Ud({autoplay:t=!0,delay:e=0,driver:n=o3,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,w=!1,E,P;const g=()=>{P=new Promise(Q=>{E=Q})};g();let _;const T=a3[i]||Fd;let D;T!==Fd&&typeof r[0]!="number"&&(D=gC([0,100],r,{clamp:!1}),r=[0,100]);const O=T({...f,keyframes:r});let V;a==="mirror"&&(V=T({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let b="idle",x=null,S=null,I=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=gT(O));const{calculatedDuration:k}=O;let N=1/0,R=1/0;k!==null&&(N=k+o,R=N*(s+1)-o);let U=0;const B=Q=>{if(S===null)return;m>0&&(S=Math.min(S,Q)),m<0&&(S=Math.min(Q-R/m,S)),x!==null?U=x:U=Math.round(Q-S)*m;const ee=U-e*(m>=0?1:-1),pe=m>=0?ee<0:ee>R;U=Math.max(ee,0),b==="finished"&&x===null&&(U=R);let ot=U,yt=O;if(s){const jt=Math.min(U,R)/N;let Kt=Math.floor(jt),vt=jt%1;!vt&&jt>=1&&(vt=1),vt===1&&Kt--,Kt=Math.min(Kt,s+1),!!(Kt%2)&&(a==="reverse"?(vt=1-vt,o&&(vt-=o/N)):a==="mirror"&&(yt=V)),ot=Ri(0,1,vt)*N}const $e=pe?{done:!1,value:r[0]}:yt.next(ot);D&&($e.value=D($e.value));let{done:Ke}=$e;!pe&&k!==null&&(Ke=m>=0?U>=R:U<=0);const rr=x===null&&(b==="finished"||b==="running"&&Ke);return h&&h($e.value),rr&&F(),$e},j=()=>{_&&_.stop(),_=void 0},K=()=>{b="idle",j(),E(),g(),S=I=null},F=()=>{b="finished",d&&d(),j(),E()},W=()=>{if(w)return;_||(_=n(B));const Q=_.now();l&&l(),x!==null?S=Q-x:(!S||b==="finished")&&(S=Q),b==="finished"&&g(),I=S,x=null,b="running",_.start()};t&&W();const q={then(Q,ee){return P.then(Q,ee)},get time(){return xr(U)},set time(Q){Q=_i(Q),U=Q,x!==null||!_||m===0?x=Q:S=_.now()-Q/m},get duration(){const Q=O.calculatedDuration===null?gT(O):O.calculatedDuration;return xr(Q)},get speed(){return m},set speed(Q){Q===m||!_||(m=Q,q.time=xr(U))},get state(){return b},play:W,pause:()=>{b="paused",x=U},stop:()=>{w=!0,b!=="idle"&&(b="idle",u&&u(),K())},cancel:()=>{I!==null&&B(I),K()},complete:()=>{b="finished"},sample:Q=>(S=0,B(Q))};return q}function l3(t){let e;return()=>(e===void 0&&(e=t()),e)}const u3=l3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),c3=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),lc=10,d3=2e4,h3=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Qb(e.ease);function f3(t,e,{onUpdate:n,onComplete:r,...i}){if(!(u3()&&c3.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(T=>{a=T})};d();let{keyframes:h,duration:f=300,ease:m,times:w}=i;if(h3(e,i)){const T=Ud({...i,repeat:0,delay:0});let D={done:!1,value:h[0]};const O=[];let V=0;for(;!D.done&&V<d3;)D=T.sample(V),O.push(D.value),V+=lc;w=void 0,h=O,f=V-lc,m="linear"}const E=xF(t.owner.current,e,h,{...i,duration:f,ease:m,times:w}),P=()=>{u=!1,E.cancel()},g=()=>{u=!0,Ce.update(P),a(),d()};return E.onfinish=()=>{u||(t.set(SF(h,i)),r&&r(),g())},{then(T,D){return l.then(T,D)},attachTimeline(T){return E.timeline=T,E.onfinish=null,Ue},get time(){return xr(E.currentTime||0)},set time(T){E.currentTime=_i(T)},get speed(){return E.playbackRate},set speed(T){E.playbackRate=T},get duration(){return xr(f)},play:()=>{o||(E.play(),Nr(P))},pause:()=>E.pause(),stop:()=>{if(o=!0,E.playState==="idle")return;const{currentTime:T}=E;if(T){const D=Ud({...i,autoplay:!1});t.setWithVelocity(D.sample(T-lc).value,D.sample(T).value,lc)}g()},complete:()=>{u||E.finish()},cancel:g}}function p3({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ue,pause:Ue,stop:Ue,then:s=>(s(),Promise.resolve()),cancel:Ue,complete:Ue});return e?Ud({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const m3={type:"spring",stiffness:500,damping:25,restSpeed:10},g3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y3={type:"keyframes",duration:.8},v3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w3=(t,{keyframes:e})=>e.length>2?y3:Is.has(t)?t.startsWith("scale")?g3(e[1]):m3:v3,Mm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Di.test(e)||e==="0")&&!e.startsWith("url(")),_3=new Set(["brightness","contrast","saturate","opacity"]);function T3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Mh)||[];if(!r)return t;const i=n.replace(r,"");let s=_3.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const E3=/([a-z-]*)\(.*?\)/g,jm={...Di,getAnimatableNone:t=>{const e=t.match(E3);return e?e.map(T3).join(" "):t}},x3={...Ob,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:jm,WebkitFilter:jm},fv=t=>x3[t];function _C(t,e){let n=fv(t);return n!==jm&&(n=Di),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const TC=t=>/^0[^.\s]+$/.test(t);function S3(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||TC(t)}function I3(t,e,n,r){const i=Mm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),S3(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=_C(e,a)}return s}function b3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function pv(t,e){return t[e]||t.default||t}const C3={skipAnimations:!1},mv=(t,e,n,r={})=>i=>{const s=pv(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-_i(o);const l=I3(e,t,n,s),u=l[0],d=l[l.length-1],h=Mm(t,u),f=Mm(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:w=>{e.set(w),s.onUpdate&&s.onUpdate(w)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(b3(s)||(m={...m,...w3(t,m)}),m.duration&&(m.duration=_i(m.duration)),m.repeatDelay&&(m.repeatDelay=_i(m.repeatDelay)),!h||!f||EF.current||s.type===!1||C3.skipAnimations)return p3(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=f3(e,t,m);if(w)return w}return Ud(m)};function Bd(t){return!!(qt(t)&&t.add)}const EC=t=>/^\-?\d*\.?\d+$/.test(t);function gv(t,e){t.indexOf(e)===-1&&t.push(e)}function yv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vv{constructor(){this.subscriptions=[]}add(e){return gv(this.subscriptions,e),()=>yv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const P3=t=>!isNaN(parseFloat(t));class A3{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=St;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ce.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ce.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=P3(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?yC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oo(t,e){return new A3(t,e)}const xC=t=>e=>e.test(t),k3={test:t=>t==="auto",parse:t=>t},SC=[bs,te,Xn,Gr,L4,V4,k3],Ra=t=>SC.find(xC(t)),R3=[...SC,Dt,Di],D3=t=>R3.find(xC(t));function N3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Oo(n))}function O3(t,e){const n=Fh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=X4(s[o]);N3(t,o,a)}}function V3(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(EC(d)||TC(d))?d=parseFloat(d):!D3(d)&&Di.test(u)&&(d=_C(l,u)),t.addValue(l,Oo(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function L3(t,e){return e?(e[t]||e.default||e).from:void 0}function M3(t,e,n){const r={};for(const i in t){const s=L3(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function j3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F3(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function IC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||d&&j3(d,h))continue;const w={delay:n,elapsed:0,...pv(s||{},h)};if(window.HandoffAppearAnimations){const g=t.getProps()[bb];if(g){const _=window.HandoffAppearAnimations(g,h,f,Ce);_!==null&&(w.elapsed=_,w.isHandoff=!0)}}let E=!w.isHandoff&&!F3(f,m);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(E=!1),f.animation&&(E=!1),E)continue;f.start(mv(h,f,m,t.shouldReduceMotion&&Is.has(h)?{type:!1}:w));const P=f.animation;Bd(l)&&(l.add(h),P.then(()=>l.remove(h))),u.push(P)}return o&&Promise.all(u).then(()=>{o&&O3(t,o)}),u}function Fm(t,e,n={}){const r=Fh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(IC(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return U3(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function U3(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(B3).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Fm(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function B3(t,e){return t.sortNodePosition(e)}function z3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Fm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Fm(t,e,n);else{const i=typeof e=="function"?Fh(t,e,n.custom):e;r=Promise.all(IC(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const $3=[...ev].reverse(),W3=ev.length;function H3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>z3(t,n,r)))}function G3(t){let e=H3(t);const n=K3();let r=!0;const i=(l,u)=>{const d=Fh(t,u);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let w={},E=1/0;for(let g=0;g<W3;g++){const _=$3[g],T=n[_],D=d[_]!==void 0?d[_]:h[_],O=Vl(D),V=_===u?T.isActive:null;V===!1&&(E=g);let b=D===h[_]&&D!==d[_]&&O;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),T.protectedKeys={...w},!T.isActive&&V===null||!D&&!T.prevProp||Vh(D)||typeof D=="boolean")continue;let S=q3(T.prevProp,D)||_===u&&T.isActive&&!b&&O||g>E&&O,I=!1;const k=Array.isArray(D)?D:[D];let N=k.reduce(i,{});V===!1&&(N={});const{prevResolvedValues:R={}}=T,U={...R,...N},B=j=>{S=!0,m.has(j)&&(I=!0,m.delete(j)),T.needsAnimating[j]=!0};for(const j in U){const K=N[j],F=R[j];if(w.hasOwnProperty(j))continue;let W=!1;Md(K)&&Md(F)?W=!Kb(K,F):W=K!==F,W?K!==void 0?B(j):m.add(j):K!==void 0&&m.has(j)?B(j):T.protectedKeys[j]=!0}T.prevProp=D,T.prevResolvedValues=N,T.isActive&&(w={...w,...N}),r&&t.blockInitialAnimation&&(S=!1),S&&(!b||I)&&f.push(...k.map(j=>({animation:j,options:{type:_,...l}})))}if(m.size){const g={};m.forEach(_=>{const T=t.getBaseTarget(_);T!==void 0&&(g[_]=T)}),f.push({animation:g})}let P=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(f):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var w;return(w=m.animationState)===null||w===void 0?void 0:w.setActive(l,u)}),n[l].isActive=u;const f=o(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function q3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Kb(e,t):!1}function Hi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K3(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class Y3 extends Li{constructor(e){super(e),e.animationState||(e.animationState=G3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Vh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Q3=0;class X3 extends Li{constructor(){super(...arguments),this.id=Q3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const J3={animation:{Feature:Y3},exit:{Feature:X3}},yT=(t,e)=>Math.abs(t-e);function Z3(t,e){const n=yT(t.x,e.x),r=yT(t.y,e.y);return Math.sqrt(n**2+r**2)}class bC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Z3(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:w}=h,{timestamp:E}=St;this.history.push({...w,timestamp:E});const{onStart:P,onMove:g}=this.handlers;f||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Jf(f,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Zf(h.type==="pointercancel"?this.lastMoveEventInfo:Jf(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,P),w&&w(h,P)},!$b(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=jh(e),a=Jf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=St;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Zf(a,this.history)),this.removeListeners=wi(Er(this.contextWindow,"pointermove",this.handlePointerMove),Er(this.contextWindow,"pointerup",this.handlePointerUp),Er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function Jf(t,e){return e?{point:e(t.point)}:t}function vT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zf({point:t},e){return{point:t,delta:vT(t,CC(e)),offset:vT(t,e6(e)),velocity:t6(e,.1)}}function e6(t){return t[0]}function CC(t){return t[t.length-1]}function t6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=CC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_i(e)));)n--;if(!r)return{x:0,y:0};const s=xr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tn(t){return t.max-t.min}function Um(t,e=0,n=.01){return Math.abs(t-e)<=n}function wT(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),(Um(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(Um(t.translate)||isNaN(t.translate))&&(t.translate=0)}function sl(t,e,n,r){wT(t.x,e.x,n.x,r?r.originX:void 0),wT(t.y,e.y,n.y,r?r.originY:void 0)}function _T(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function n6(t,e,n){_T(t.x,e.x,n.x),_T(t.y,e.y,n.y)}function TT(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function ol(t,e,n){TT(t.x,e.x,n.x),TT(t.y,e.y,n.y)}function r6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function ET(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function i6(t,{top:e,left:n,bottom:r,right:i}){return{x:ET(t.x,n,i),y:ET(t.y,e,r)}}function xT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s6(t,e){return{x:xT(t.x,e.x),y:xT(t.y,e.y)}}function o6(t,e){let n=.5;const r=tn(t),i=tn(e);return i>r?n=Ml(e.min,e.max-r,t.min):r>i&&(n=Ml(t.min,t.max-i,e.min)),Ri(0,1,n)}function a6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bm=.35;function l6(t=Bm){return t===!1?t=0:t===!0&&(t=Bm),{x:ST(t,"left","right"),y:ST(t,"top","bottom")}}function ST(t,e,n){return{min:IT(t,e),max:IT(t,n)}}function IT(t,e){return typeof t=="number"?t:t[e]||0}const bT=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:bT(),y:bT()}),CT=()=>({min:0,max:0}),He=()=>({x:CT(),y:CT()});function an(t){return[t("x"),t("y")]}function PC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function u6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ep(t){return t===void 0||t===1}function zm({scale:t,scaleX:e,scaleY:n}){return!ep(t)||!ep(e)||!ep(n)}function Yi(t){return zm(t)||AC(t)||t.z||t.rotate||t.rotateX||t.rotateY}function AC(t){return PT(t.x)||PT(t.y)}function PT(t){return t&&t!=="0%"}function zd(t,e,n){const r=t-n,i=e*r;return n+i}function AT(t,e,n,r,i){return i!==void 0&&(t=zd(t,i,r)),zd(t,n,r)+e}function $m(t,e=0,n=1,r,i){t.min=AT(t.min,e,n,r,i),t.max=AT(t.max,e,n,r,i)}function kC(t,{x:e,y:n}){$m(t.x,e.translate,e.scale,e.originPoint),$m(t.y,n.translate,n.scale,n.originPoint)}function d6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&no(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kC(t,o)),r&&Yi(s.latestValues)&&no(t,s.latestValues))}e.x=kT(e.x),e.y=kT(e.y)}function kT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Yr(t,e){t.min=t.min+e,t.max=t.max+e}function RT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ne(t.min,t.max,s);$m(t,e[n],e[r],o,e.scale)}const h6=["x","scaleX","originX"],f6=["y","scaleY","originY"];function no(t,e){RT(t.x,e,h6),RT(t.y,e,f6)}function RC(t,e){return PC(c6(t.getBoundingClientRect(),e))}function p6(t,e,n){const r=RC(t,n),{scroll:i}=e;return i&&(Yr(r.x,i.offset.x),Yr(r.y,i.offset.y)),r}const DC=({current:t})=>t?t.ownerDocument.defaultView:null,m6=new WeakMap;class g6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jh(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:w}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Hb(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(P=>{let g=this.getAxisMotionValue(P).get()||0;if(Xn.test(g)){const{projection:_}=this.visualElement;if(_&&_.layout){const T=_.layout.layoutBox[P];T&&(g=tn(T)*(parseFloat(g)/100))}}this.originPoint[P]=g}),w&&Ce.update(()=>w(d,h),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:w,onDrag:E}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:P}=h;if(m&&this.currentDirection===null){this.currentDirection=y6(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),E&&E(d,h)},a=(d,h)=>this.stop(d,h),l=()=>an(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:DC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ce.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=r6(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=i6(i.layoutBox,n):this.constraints=!1,this.elastic=l6(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&an(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=a6(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=p6(r,i.root,this.visualElement.getTransformPagePoint());let o=s6(i.layout.layoutBox,s);if(n){const a=n(u6(o));this.hasMutatedConstraints=!!a,a&&(o=PC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=an(d=>{if(!uc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(mv(e,r,0,n))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){an(n=>{const{drag:r}=this.getProps();if(!uc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};an(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=o6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),an(o=>{if(!uc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ne(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;m6.set(this.visualElement,this);const e=this.visualElement.current,n=Er(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=wr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(an(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Bm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function uc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function y6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class v6 extends Li{constructor(e){super(e),this.removeGroupControls=Ue,this.removeListeners=Ue,this.controls=new g6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const DT=t=>(e,n)=>{t&&Ce.update(()=>t(e,n))};class w6 extends Li{constructor(){super(...arguments),this.removePointerDownListener=Ue}onPointerDown(e){this.session=new bC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:DT(e),onStart:DT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ce.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Er(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _6(){const t=A.useContext(Jy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=A.useId();return A.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Uc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Da={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=NT(t,e.target.x),r=NT(t,e.target.y);return`${n}% ${r}%`}},T6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Di.parse(t);if(i.length>5)return r;const s=Di.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class E6 extends Pe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;P4(x6),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Uc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NC(t){const[e,n]=_6(),r=A.useContext(Pb);return Pe.createElement(E6,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(Ab),isPresent:e,safeToRemove:n})}const x6={borderRadius:{...Da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Da,borderTopRightRadius:Da,borderBottomLeftRadius:Da,borderBottomRightRadius:Da,boxShadow:T6},OC=["TopLeft","TopRight","BottomLeft","BottomRight"],S6=OC.length,OT=t=>typeof t=="string"?parseFloat(t):t,VT=t=>typeof t=="number"||te.test(t);function I6(t,e,n,r,i,s){i?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,b6(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,C6(r))):s&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<S6;o++){const a=`border${OC[o]}Radius`;let l=LT(e,a),u=LT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||VT(l)===VT(u)?(t[a]=Math.max(Ne(OT(l),OT(u),r),0),(Xn.test(u)||Xn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function LT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const b6=VC(0,.5,rC),C6=VC(.5,.95,Ue);function VC(t,e,n){return r=>r<t?0:r>e?1:n(Ml(t,e,r))}function MT(t,e){t.min=e.min,t.max=e.max}function on(t,e){MT(t.x,e.x),MT(t.y,e.y)}function jT(t,e,n,r,i){return t-=e,t=zd(t,1/n,r),i!==void 0&&(t=zd(t,1/i,r)),t}function P6(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xn.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(s.min,s.max,r);t===s&&(a-=e),t.min=jT(t.min,e,n,a,i),t.max=jT(t.max,e,n,a,i)}function FT(t,e,[n,r,i],s,o){P6(t,e[n],e[r],e[i],e.scale,s,o)}const A6=["x","scaleX","originX"],k6=["y","scaleY","originY"];function UT(t,e,n,r){FT(t.x,e,A6,n?n.x:void 0,r?r.x:void 0),FT(t.y,e,k6,n?n.y:void 0,r?r.y:void 0)}function BT(t){return t.translate===0&&t.scale===1}function LC(t){return BT(t.x)&&BT(t.y)}function R6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function MC(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function zT(t){return tn(t.x)/tn(t.y)}class D6{constructor(){this.members=[]}add(e){gv(this.members,e),e.scheduleRender()}remove(e){if(yv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $T(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const N6=(t,e)=>t.depth-e.depth;class O6{constructor(){this.children=[],this.isDirty=!1}add(e){gv(this.children,e),this.isDirty=!0}remove(e){yv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(N6),this.isDirty=!1,this.children.forEach(e)}}function V6(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Nr(r),t(s-e))};return Ce.read(r,!0),()=>Nr(r)}function L6(t){window.MotionDebug&&window.MotionDebug.record(t)}function M6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function j6(t,e,n){const r=qt(t)?t:Oo(t);return r.start(mv("",r,e,n)),r.animation}const WT=["","X","Y","Z"],F6={visibility:"hidden"},HT=1e3;let U6=0;const Qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=U6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qi.totalNodes=Qi.resolvedTargetDeltas=Qi.recalculatedProjection=0,this.nodes.forEach($6),this.nodes.forEach(K6),this.nodes.forEach(Y6),this.nodes.forEach(W6),L6(Qi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new O6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M6(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=V6(f,250),Uc.hasAnimatedSinceResize&&(Uc.hasAnimatedSinceResize=!1,this.nodes.forEach(qT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||eU,{onLayoutAnimationStart:P,onLayoutAnimationComplete:g}=d.getProps(),_=!this.targetLayout||!MC(this.targetLayout,w)||m,T=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const D={...pv(E,"layout"),onPlay:P,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else f||qT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GT);return}this.isUpdating||this.nodes.forEach(G6),this.isUpdating=!1,this.nodes.forEach(q6),this.nodes.forEach(B6),this.nodes.forEach(z6),this.clearAllSnapshots();const a=performance.now();St.delta=Ri(0,1e3/60,a-St.timestamp),St.timestamp=a,St.isProcessing=!0,Wf.update.process(St),Wf.preRender.process(St),Wf.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(H6),this.sharedNodes.forEach(X6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!LC(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Yi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),tU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Yr(a.x,l.offset.x),Yr(a.y,l.offset.y)),a}removeElementScroll(o){const a=He();on(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){on(a,o);const{scroll:f}=this.root;f&&(Yr(a.x,-f.offset.x),Yr(a.y,-f.offset.y))}Yr(a.x,d.offset.x),Yr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=He();on(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&no(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Yi(d.latestValues)&&no(l,d.latestValues)}return Yi(this.latestValues)&&no(l,this.latestValues),l}removeTransform(o){const a=He();on(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Yi(u.latestValues))continue;zm(u.latestValues)&&u.updateSnapshot();const d=He(),h=u.measurePageBox();on(d,h),UT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Yi(this.latestValues)&&UT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ol(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),kC(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ol(this.relativeTargetOrigin,this.target,m.target),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zm(this.parent.latestValues)||AC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===St.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;on(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;d6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=to(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=to(),this.projectionDeltaWithTransform=to());const E=this.projectionTransform;sl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=$T(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Qi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=He(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,E=m!==w,P=this.getStack(),g=!P||P.members.length<=1,_=!!(E&&!g&&this.options.crossfade===!0&&!this.path.some(Z6));this.animationProgress=0;let T;this.mixTargetDelta=D=>{const O=D/1e3;KT(h.x,o.x,O),KT(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ol(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J6(this.relativeTarget,this.relativeTargetOrigin,f,O),T&&R6(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=He()),on(T,this.relativeTarget)),E&&(this.animationValues=d,I6(d,u,this.latestValues,O,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Uc.hasAnimatedSinceResize=!0,this.currentAnimation=j6(0,HT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&FC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||He();const h=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}on(a,l),no(a,d),sl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new D6),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<WT.length;d++){const h="rotate"+WT[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F6;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Fc(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Fc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(E.transform=d?d({},""):"none",this.hasProjected=!1),E}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=$T(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:w}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const E in Vd){if(f[E]===void 0)continue;const{correct:P,applyTo:g}=Vd[E],_=u.transform==="none"?f[E]:P(f[E],h);if(g){const T=g.length;for(let D=0;D<T;D++)u[g[D]]=_}else u[E]=_}return this.options.layoutId&&(u.pointerEvents=h===this?Fc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(GT),this.root.sharedNodes.clear()}}}function B6(t){t.updateLayout()}function z6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?an(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(f);f.min=r[h].min,f.max=f.min+m}):FC(s,n.layoutBox,r)&&an(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=to();sl(a,r,n.layoutBox);const l=to();o?sl(l,t.applyTransform(i,!0),n.measuredBox):sl(l,r,n.layoutBox);const u=!LC(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=He();ol(w,n.layoutBox,f.layoutBox);const E=He();ol(E,r,m.layoutBox),MC(w,E)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $6(t){Qi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function W6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function H6(t){t.clearSnapshot()}function GT(t){t.clearMeasurements()}function G6(t){t.isLayoutDirty=!1}function q6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function K6(t){t.resolveTargetDelta()}function Y6(t){t.calcProjection()}function Q6(t){t.resetRotation()}function X6(t){t.removeLeadSnapshot()}function KT(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YT(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function J6(t,e,n,r){YT(t.x,e.x,n.x,r),YT(t.y,e.y,n.y,r)}function Z6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eU={duration:.45,ease:[.4,0,.1,1]},QT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),XT=QT("applewebkit/")&&!QT("chrome/")?Math.round:Ue;function JT(t){t.min=XT(t.min),t.max=XT(t.max)}function tU(t){JT(t.x),JT(t.y)}function FC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Um(zT(e),zT(n),.2)}const nU=jC({attachResizeListener:(t,e)=>wr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tp={current:void 0},UC=jC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tp.current){const t=new nU({});t.mount(window),t.setOptions({layoutScroll:!0}),tp.current=t}return tp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rU={pan:{Feature:w6},drag:{Feature:v6,ProjectionNode:UC,MeasureLayout:NC}},iU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function sU(t){const e=iU.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Wm(t,e,n=1){const[r,i]=sU(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return EC(o)?parseFloat(o):o}else return Nm(i)?Wm(i,e,n+1):i}function oU(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Nm(s))return;const o=Wm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Nm(s))continue;const o=Wm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const aU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),BC=t=>aU.has(t),lU=t=>Object.keys(t).some(BC),ZT=t=>t===bs||t===te,eE=(t,e)=>parseFloat(t.split(", ")[e]),tE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return eE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?eE(s[1],t):0}},uU=new Set(["x","y","z"]),cU=iu.filter(t=>!uU.has(t));function dU(t){const e=[];return cU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Vo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:tE(4,13),y:tE(5,14)};Vo.translateX=Vo.x;Vo.translateY=Vo.y;const hU=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Vo[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=Vo[u](l,s)}),t},fU=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(BC);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Ra(d);const f=e[l];let m;if(Md(f)){const w=f.length,E=f[0]===null?1:0;d=f[E],h=Ra(d);for(let P=E;P<w&&f[P]!==null;P++)m?uv(Ra(f[P])===m):m=Ra(f[P])}else m=Ra(f);if(h!==m)if(ZT(h)&&ZT(m)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===te&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(f):(o||(s=dU(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=hU(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Oh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function pU(t,e,n,r){return lU(e)?fU(t,e,n,r):{target:e,transitionEnd:r}}const mU=(t,e,n,r)=>{const i=oU(t,e,r);return e=i.target,r=i.transitionEnd,pU(t,e,n,r)},Hm={current:null},zC={current:!1};function gU(){if(zC.current=!0,!!Oh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hm.current=t.matches;t.addListener(e),e()}else Hm.current=!1}function yU(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(qt(s))t.addValue(i,s),Bd(r)&&r.add(i);else if(qt(o))t.addValue(i,Oo(s,{owner:t})),Bd(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Oo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const nE=new WeakMap,$C=Object.keys(Ll),vU=$C.length,rE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wU=tv.length;class _U{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ce.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Lh(n),this.isVariantNode=Cb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&qt(f)&&(f.set(a[h],!1),Bd(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,nE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zC.current||gU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nE.delete(this.current),this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Is.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ce.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<vU;l++){const u=$C[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Ll[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Zs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rE.length;r++){const i=rE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=yU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<wU;r++){const i=tv[r],s=this.props[i];(Vl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Oo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=lv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WC extends _U{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=M3(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){V3(this,r,o);const a=mU(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function TU(t){return window.getComputedStyle(t)}class EU extends WC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Is.has(n)){const r=fv(n);return r&&r.default||0}else{const r=TU(e),i=(Db(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RC(e,n)}build(e,n,r,i){rv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return av(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){jb(e,n,r,i)}}class xU extends WC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Is.has(n)){const r=fv(n);return r&&r.default||0}return n=Fb.has(n)?n:Zy(n),e.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return Bb(e,n)}build(e,n,r,i){sv(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Ub(e,n,r,i)}mount(e){this.isSVGTag=ov(e.tagName),super.mount(e)}}const SU=(t,e)=>nv(t)?new xU(e,{enableHardwareAcceleration:!1}):new EU(e,{enableHardwareAcceleration:!0}),IU={layout:{ProjectionNode:UC,MeasureLayout:NC}},bU={...J3,...vF,...rU,...IU},hn=b4((t,e)=>sF(t,e,bU,SU)),CU=()=>{const t=wn(),e=()=>{const n=document.getElementById("contact");n&&n.scrollIntoView({behavior:"smooth"})};return v.jsxs("section",{id:"home",className:"relative min-h-[70vh] flex items-center justify-center overflow-hidden -mt-20",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900"}),v.jsxs("div",{className:"absolute inset-0",children:[v.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),v.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary-600/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),v.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:v.jsxs(hn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8 pt-20",children:[v.jsxs("div",{className:"space-y-4 pt-10",children:[v.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:[v.jsx("span",{className:"gradient-text",children:"Joy English"}),v.jsx("br",{})]}),v.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:['"Learn with Joy,',v.jsx("br",{className:"hidden md:block"}),'Grow with English."']})]}),v.jsxs(hn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-col gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[v.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>window.open("https://bit.ly/joy_english","_blank"),children:["커리큘럼 보기",v.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),v.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:e,children:["상담요청",v.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),v.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/trial"),children:["무료 시범 강의 신청",v.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[v.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/group-class"),children:["그룹 클래스 예약",v.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),v.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/toto-room"),children:["토토방(토요토론방)",v.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),v.jsx(hn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"grid grid-cols-1 md:grid-cols-3 gap-8"})]})}),v.jsx(hn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:v.jsx("div",{className:"w-6 h-10 border-2 border-gray-400 rounded-full flex justify-center",children:v.jsx(hn.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0},className:"w-1 h-3 bg-gray-400 rounded-full mt-2"})})})]})},PU="/assets/joy_instructor-94b923f1.jpg";function iE(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function wv(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:iE(e[r])&&iE(t[r])&&Object.keys(e[r]).length>0&&wv(t[r],e[r])})}const HC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Cs(){const t=typeof document<"u"?document:{};return wv(t,HC),t}const AU={document:HC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Mt(){const t=typeof window<"u"?window:{};return wv(t,AU),t}function kU(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function RU(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function GC(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function $d(){return Date.now()}function DU(t){const e=Mt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function NU(t,e){e===void 0&&(e="x");const n=Mt();let r,i,s;const o=DU(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function cc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function OU(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!OU(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(cc(t[a])&&cc(r[a])?r[a].__swiper__?t[a]=r[a]:Xt(t[a],r[a]):!cc(t[a])&&cc(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Xt(t[a],r[a])):t[a]=r[a])}}}return t}function dc(t,e,n){t.style.setProperty(e,n)}function qC(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Mt(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",d=(f,m)=>u==="next"&&f>=m||u==="prev"&&f<=m,h=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(f*Math.PI)/2;let w=s+m*(n-s);if(d(w,n)&&(w=n),e.wrapperEl.scrollTo({[r]:w}),d(w,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:w})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function zn(t,e){e===void 0&&(e="");const n=Mt(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function VU(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function LU(t,e){const n=Mt();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=VU(t,e))),r}function Wd(t){try{console.warn(t);return}catch{}}function Hd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:kU(e)),n}function MU(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function jU(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ii(t,e){return Mt().getComputedStyle(t,null).getPropertyValue(e)}function sE(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function FU(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function oE(t,e,n){const r=Mt();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function cr(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function aE(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let np;function UU(){const t=Mt(),e=Cs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function KC(){return np||(np=UU()),np}let rp;function BU(t){let{userAgent:e}=t===void 0?{}:t;const n=KC(),r=Mt(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let w=i==="MacIntel";const E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&w&&n.touch&&E.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),w=!1),u&&!m&&(o.os="android",o.android=!0),(d||f||h)&&(o.os="ios",o.ios=!0),o}function YC(t){return t===void 0&&(t={}),rp||(rp=BU(t)),rp}let ip;function zU(){const t=Mt(),e=YC();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,u]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function QC(){return ip||(ip=zU()),ip}function $U(t){let{swiper:e,on:n,emit:r}=t;const i=Mt();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:f,height:m}=e;let w=f,E=m;h.forEach(P=>{let{contentBoxSize:g,contentRect:_,target:T}=P;T&&T!==e.el||(w=_?_.width:(g[0]||g).inlineSize,E=_?_.height:(g[0]||g).blockSize)}),(w!==f||E!==m)&&a()})}),s.observe(e.el))},u=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function WU(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Mt(),a=function(d,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,m=new f(w=>{if(e.__preventObserver__)return;if(w.length===1){i("observerUpdate",w[0]);return}const E=function(){i("observerUpdate",w[0])};o.requestAnimationFrame?o.requestAnimationFrame(E):o.setTimeout(E,0)});m.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=FU(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",u)}var HU={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(r,n)})}),t}};function GU(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ii(r,"padding-left")||0,10)-parseInt(ii(r,"padding-right")||0,10),n=n-parseInt(ii(r,"padding-top")||0,10)-parseInt(ii(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function qU(){const t=this;function e(I,k){return parseFloat(I.getPropertyValue(t.getDirectionLabel(k))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=zn(i,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let f=[];const m=[],w=[];let E=n.slidesOffsetBefore;typeof E=="function"&&(E=n.slidesOffsetBefore.call(t));let P=n.slidesOffsetAfter;typeof P=="function"&&(P=n.slidesOffsetAfter.call(t));const g=t.snapGrid.length,_=t.slidesGrid.length;let T=n.spaceBetween,D=-E,O=0,V=0;if(typeof s>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*s:typeof T=="string"&&(T=parseFloat(T)),t.virtualSize=-T,d.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(dc(r,"--swiper-centered-offset-before",""),dc(r,"--swiper-centered-offset-after",""));const b=n.grid&&n.grid.rows>1&&t.grid;b?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let x;const S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(I=>typeof n.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<h;I+=1){x=0;let k;if(d[I]&&(k=d[I]),b&&t.grid.updateSlide(I,k,d),!(d[I]&&ii(k,"display")==="none")){if(n.slidesPerView==="auto"){S&&(d[I].style[t.getDirectionLabel("width")]="");const N=getComputedStyle(k),R=k.style.transform,U=k.style.webkitTransform;if(R&&(k.style.transform="none"),U&&(k.style.webkitTransform="none"),n.roundLengths)x=t.isHorizontal()?oE(k,"width",!0):oE(k,"height",!0);else{const B=e(N,"width"),j=e(N,"padding-left"),K=e(N,"padding-right"),F=e(N,"margin-left"),W=e(N,"margin-right"),q=N.getPropertyValue("box-sizing");if(q&&q==="border-box")x=B+F+W;else{const{clientWidth:Q,offsetWidth:ee}=k;x=B+j+K+F+W+(ee-Q)}}R&&(k.style.transform=R),U&&(k.style.webkitTransform=U),n.roundLengths&&(x=Math.floor(x))}else x=(s-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&(x=Math.floor(x)),d[I]&&(d[I].style[t.getDirectionLabel("width")]=`${x}px`);d[I]&&(d[I].swiperSlideSize=x),w.push(x),n.centeredSlides?(D=D+x/2+O/2+T,O===0&&I!==0&&(D=D-s/2-T),I===0&&(D=D-s/2-T),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),V%n.slidesPerGroup===0&&f.push(D),m.push(D)):(n.roundLengths&&(D=Math.floor(D)),(V-Math.min(t.params.slidesPerGroupSkip,V))%t.params.slidesPerGroup===0&&f.push(D),m.push(D),D=D+x+T),t.virtualSize+=x+T,O=x,V+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+P,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+T}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+T}px`),b&&t.grid.updateWrapperSize(x,f),!n.centeredSlides){const I=[];for(let k=0;k<f.length;k+=1){let N=f[k];n.roundLengths&&(N=Math.floor(N)),f[k]<=t.virtualSize-s&&I.push(N)}f=I,Math.floor(t.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-s)}if(l&&n.loop){const I=w[0]+T;if(n.slidesPerGroup>1){const k=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),N=I*n.slidesPerGroup;for(let R=0;R<k;R+=1)f.push(f[f.length-1]+N)}for(let k=0;k<t.virtual.slidesBefore+t.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+I),m.push(m[m.length-1]+I),t.virtualSize+=I}if(f.length===0&&(f=[0]),T!==0){const I=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((k,N)=>!n.cssMode||n.loop?!0:N!==d.length-1).forEach(k=>{k.style[I]=`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let I=0;w.forEach(N=>{I+=N+(T||0)}),I-=T;const k=I>s?I-s:0;f=f.map(N=>N<=0?-E:N>k?k+P:N)}if(n.centerInsufficientSlides){let I=0;w.forEach(N=>{I+=N+(T||0)}),I-=T;const k=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(I+k<s){const N=(s-I-k)/2;f.forEach((R,U)=>{f[U]=R-N}),m.forEach((R,U)=>{m[U]=R+N})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:m,slidesSizesGrid:w}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){dc(r,"--swiper-centered-offset-before",`${-f[0]}px`),dc(r,"--swiper-centered-offset-after",`${t.size/2-w[w.length-1]/2}px`);const I=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(N=>N+I),t.slidesGrid=t.slidesGrid.map(N=>N+k)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==_&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const I=`${n.containerModifierClass}backface-hidden`,k=t.el.classList.contains(I);h<=n.maxBackfaceHiddenSlides?k||t.el.classList.add(I):k&&t.el.classList.remove(I)}}function KU(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function YU(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const lE=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function QU(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const u=r[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),f=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),m=-(o-d),w=m+e.slidesSizesGrid[l],E=m>=0&&m<=e.size-e.slidesSizesGrid[l],P=m>=0&&m<e.size-1||w>1&&w<=e.size||m<=0&&w>=e.size;P&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),lE(u,P,n.slideVisibleClass),lE(u,E,n.slideFullyVisibleClass),u.progress=i?-h:h,u.originalProgress=i?-f:f}}function XU(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,u=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||i<=0,o=h||i>=1,d&&(i=0),h&&(i=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],m=e.slidesGrid[h],w=e.slidesGrid[e.slidesGrid.length-1],E=Math.abs(t);E>=f?a=(E-f)/w:a=(E+w-m)/w,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const sp=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function JU(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>zn(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,u,d;if(s)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(h=>h.column===i),d=e.find(h=>h.column===i+1),u=e.find(h=>h.column===i-1)):l=e[i];l&&(o||(d=jU(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=MU(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{sp(h,h===l,n.slideActiveClass),sp(h,h===d,n.slideNextClass),sp(h,h===u,n.slidePrevClass)}),t.emitSlidesClasses()}const Bc=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},op=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Gm=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+r+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&op(t,u)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&op(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&op(t,o)};function ZU(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function e9(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,u;const d=m=>{let w=m-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof l>"u"&&(l=ZU(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);u=m+Math.floor((l-m)/i.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===s&&!e.params.loop){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=d(l);else if(h){const m=e.slides.find(E=>E.column===l);let w=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(e.slides.indexOf(m),0)),f=Math.floor(w/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?f=parseInt(m,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:f,previousIndex:s,activeIndex:l}),e.initialized&&Gm(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function t9(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var n9={updateSize:GU,updateSlides:qU,updateAutoHeight:KU,updateSlidesOffset:YU,updateSlidesProgress:QU,updateProgress:XU,updateSlidesClasses:JU,updateActiveIndex:e9,updateClickedSlide:t9};function r9(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=NU(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function i9(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function s9(){return-this.snapGrid[0]}function o9(){return-this.snapGrid[this.snapGrid.length-1]}function a9(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let d;if(r&&t>l?d=l:r&&t<u?d=u:d=t,s.updateProgress(d),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return qC({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var l9={getTranslate:r9,setTranslate:i9,minTranslate:s9,maxTranslate:o9,translateTo:a9};function u9(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function XC(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&a==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function c9(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),XC({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function d9(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),XC({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var h9={setTransition:u9,transitionStart:c9,transitionEnd:d9};function f9(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:m,enabled:w}=s;if(!w&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const E=Math.min(s.params.slidesPerGroupSkip,o);let P=E+Math.floor((o-E)/s.params.slidesPerGroup);P>=l.length&&(P=l.length-1);const g=-l[P];if(a.normalizeSlideIndex)for(let b=0;b<u.length;b+=1){const x=-Math.floor(g*100),S=Math.floor(u[b]*100),I=Math.floor(u[b+1]*100);typeof u[b+1]<"u"?x>=S&&x<I-(I-S)/2?o=b:x>=S&&x<I&&(o=b+1):x>=S&&(o=b)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(f?g>s.translate&&g>s.minTranslate():g<s.translate&&g<s.minTranslate())||!s.allowSlidePrev&&g>s.translate&&g>s.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(g);let _;o>h?_="next":o<h?_="prev":_="reset";const T=s.virtual&&s.params.virtual.enabled;if(!(T&&i)&&(f&&-g===s.translate||!f&&g===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(g),_!=="reset"&&(s.transitionStart(n,_),s.transitionEnd(n,_)),!1;if(a.cssMode){const b=s.isHorizontal(),x=f?g:-g;if(e===0)T&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),T&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[b?"scrollLeft":"scrollTop"]=x})):m[b?"scrollLeft":"scrollTop"]=x,T&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return qC({swiper:s,targetPosition:x,side:b?"left":"top"}),!0;m.scrollTo({[b?"left":"top"]:x,behavior:"smooth"})}return!0}const V=QC().isSafari;return T&&!i&&V&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,_),e===0?s.transitionEnd(n,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(x){!s||s.destroyed||x.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function p9(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const f=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=l-a<d;if(u&&(h=h||a<Math.ceil(d/2)),r&&u&&i.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const f=u?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(s){const f=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function m9(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,u=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function g9(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=a?r.translate:-r.translate;function f(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}const m=f(h),w=s.map(_=>f(_)),E=i.freeMode&&i.freeMode.enabled;let P=s[w.indexOf(m)-1];if(typeof P>"u"&&(i.cssMode||E)){let _;s.forEach((T,D)=>{m>=T&&(_=D)}),typeof _<"u"&&(P=E?s[_]:s[_>0?_-1:_])}let g=0;if(typeof P<"u"&&(g=o.indexOf(P),g<0&&(g=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning){const _=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(_,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(g,t,e,n)}),!0;return r.slideTo(g,t,e,n)}function y9(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function v9(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const u=i.snapGrid[a],d=i.snapGrid[a+1];l-u>(d-u)*r&&(s+=i.params.slidesPerGroup)}else{const u=i.snapGrid[a-1],d=i.snapGrid[a];l-u<=(d-u)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function w9(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(zn(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),GC(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var _9={slideTo:f9,slideToLoop:p9,slideNext:m9,slidePrev:g9,slideReset:y9,slideToClosest:v9,slideToClickedSlide:w9};function T9(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{zn(i,`.${r.slideClass}, swiper-slide`).forEach((m,w)=>{m.setAttribute("data-swiper-slide-index",w)})},o=()=>{const f=zn(i,`.${r.slideBlankClass}`);f.forEach(m=>{m.remove()}),f.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&o();const l=r.slidesPerGroup*(a?r.grid.rows:1),u=n.slides.length%l!==0,d=a&&n.slides.length%r.grid.rows!==0,h=f=>{for(let m=0;m<f;m+=1){const w=n.isElement?Hd("swiper-slide",[r.slideBlankClass]):Hd("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(w)}};if(u){if(r.loopAddBlankSlides){const f=l-n.slides.length%l;h(f),n.recalcSlides(),n.updateSlides()}else Wd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(d){if(r.loopAddBlankSlides){const f=r.grid.rows-n.slides.length%r.grid.rows;h(f),n.recalcSlides(),n.updateSlides()}else Wd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function E9(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:f,slidesEl:m,params:w}=u,{centeredSlides:E,initialSlide:P}=w;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&w.virtual.enabled){n&&(!w.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):w.centeredSlides&&u.snapIndex<w.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=h,u.allowSlideNext=f,u.emit("loopFix");return}let g=w.slidesPerView;g==="auto"?g=u.slidesPerViewDynamic():(g=Math.ceil(parseFloat(w.slidesPerView,10)),E&&g%2===0&&(g=g+1));const _=w.slidesPerGroupAuto?g:w.slidesPerGroup;let T=E?Math.max(_,Math.ceil(g/2)):_;T%_!==0&&(T+=_-T%_),T+=w.loopAdditionalSlides,u.loopedSlides=T;const D=u.grid&&w.grid&&w.grid.rows>1;d.length<g+T||u.params.effect==="cards"&&d.length<g+T*2?Wd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):D&&w.grid.fill==="row"&&Wd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const O=[],V=[],b=D?Math.ceil(d.length/w.grid.rows):d.length,x=o&&b-P<g&&!E;let S=x?P:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.find(j=>j.classList.contains(w.slideActiveClass))):S=s;const I=r==="next"||!r,k=r==="prev"||!r;let N=0,R=0;const B=(D?d[s].column:s)+(E&&typeof i>"u"?-g/2+.5:0);if(B<T){N=Math.max(T-B,_);for(let j=0;j<T-B;j+=1){const K=j-Math.floor(j/b)*b;if(D){const F=b-K-1;for(let W=d.length-1;W>=0;W-=1)d[W].column===F&&O.push(W)}else O.push(b-K-1)}}else if(B+g>b-T){R=Math.max(B-(b-T*2),_),x&&(R=Math.max(R,g-b+P+1));for(let j=0;j<R;j+=1){const K=j-Math.floor(j/b)*b;D?d.forEach((F,W)=>{F.column===K&&V.push(W)}):V.push(K)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<g+T*2&&(V.includes(s)&&V.splice(V.indexOf(s),1),O.includes(s)&&O.splice(O.indexOf(s),1)),k&&O.forEach(j=>{d[j].swiperLoopMoveDOM=!0,m.prepend(d[j]),d[j].swiperLoopMoveDOM=!1}),I&&V.forEach(j=>{d[j].swiperLoopMoveDOM=!0,m.append(d[j]),d[j].swiperLoopMoveDOM=!1}),u.recalcSlides(),w.slidesPerView==="auto"?u.updateSlides():D&&(O.length>0&&k||V.length>0&&I)&&u.slides.forEach((j,K)=>{u.grid.updateSlide(K,j,u.slides)}),w.watchSlidesProgress&&u.updateSlidesOffset(),n){if(O.length>0&&k){if(typeof e>"u"){const j=u.slidesGrid[S],F=u.slidesGrid[S+N]-j;l?u.setTranslate(u.translate-F):(u.slideTo(S+Math.ceil(N),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-F,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-F))}else if(i){const j=D?O.length/w.grid.rows:O.length;u.slideTo(u.activeIndex+j,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(V.length>0&&I)if(typeof e>"u"){const j=u.slidesGrid[S],F=u.slidesGrid[S-R]-j;l?u.setTranslate(u.translate-F):(u.slideTo(S-R,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-F,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-F))}else{const j=D?V.length/w.grid.rows:V.length;u.slideTo(u.activeIndex-j,0,!1,!0)}}if(u.allowSlidePrev=h,u.allowSlideNext=f,u.controller&&u.controller.control&&!a){const j={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(K=>{!K.destroyed&&K.params.loop&&K.loopFix({...j,slideTo:K.params.slidesPerView===w.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...j,slideTo:u.controller.control.params.slidesPerView===w.slidesPerView?n:!1})}u.emit("loopFix")}function x9(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var S9={loopCreate:T9,loopFix:E9,loopDestroy:x9};function I9(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function b9(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var C9={setGrabCursor:I9,unsetGrabCursor:b9};function P9(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Cs()||r===Mt())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function uE(t,e,n){const r=Mt(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function A9(t){const e=this,n=Cs();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){uE(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!LU(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(f?P9(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,w=o.currentY;if(!uE(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=w,i.touchStartTime=$d(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let E=!0;l.matches(i.focusableElements)&&(E=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const P=E&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||P)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function k9(t){const e=Cs(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(V=>V.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=$d());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;const f=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(f**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let V;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:f*f+m*m>=25&&(V=Math.atan2(Math.abs(m),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?V>i.touchAngle:90-V>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let w=n.isHorizontal()?f:m,E=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(w=Math.abs(w)*(o?1:-1),E=Math.abs(E)*(o?1:-1)),s.diff=w,w*=i.touchRatio,o&&(w=-w,E=-E);const P=n.touchesDirection;n.swipeDirection=w>0?"prev":"next",n.touchesDirection=E>0?"prev":"next";const g=n.params.loop&&!i.cssMode,_=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(g&&_&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const V=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(V)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let T;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&P!==n.touchesDirection&&g&&_&&Math.abs(w)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=w+r.startTranslate;let D=!0,O=i.resistanceRatio;if(i.touchReleaseOnEdges&&(O=0),w>0?(g&&_&&!T&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+w)**O))):w<0&&(g&&_&&!T&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-w)**O))),D&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(w)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function R9(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(O=>O.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=$d(),f=h-n.touchStartTime;if(e.allowClick){const O=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(O&&O[0]||r.target,O),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=$d(),GC(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const w=m>=-e.maxTranslate()&&!e.params.loop;let E=0,P=e.slidesSizesGrid[0];for(let O=0;O<u.length;O+=O<o.slidesPerGroupSkip?1:o.slidesPerGroup){const V=O<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[O+V]<"u"?(w||m>=u[O]&&m<u[O+V])&&(E=O,P=u[O+V]-u[O]):(w||m>=u[O])&&(E=O,P=u[u.length-1]-u[u.length-2])}let g=null,_=null;o.rewind&&(e.isBeginning?_=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(g=0));const T=(m-u[E])/P,D=E<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?g:E+D):e.slideTo(E)),e.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?e.slideTo(E+D):_!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?e.slideTo(_):e.slideTo(E))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(E+D):e.slideTo(E):(e.swipeDirection==="next"&&e.slideTo(g!==null?g:E+D),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:E))}}function cE(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function D9(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function N9(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function O9(t){const e=this;Bc(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function V9(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const JC=(t,e)=>{const n=Cs(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",cE,!0):t[u]("observerUpdate",cE,!0),i[l]("load",t.onLoad,{capture:!0}))};function L9(){const t=this,{params:e}=t;t.onTouchStart=A9.bind(t),t.onTouchMove=k9.bind(t),t.onTouchEnd=R9.bind(t),t.onDocumentTouchStart=V9.bind(t),e.cssMode&&(t.onScroll=N9.bind(t)),t.onClick=D9.bind(t),t.onLoad=O9.bind(t),JC(t,"on")}function M9(){JC(this,"off")}var j9={attachEvents:L9,detachEvents:M9};const dE=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function F9(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Cs(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),u=t.getBreakpoint(s,a,l);if(!u||t.currentBreakpoint===u)return;const h=(u in s?s[u]:void 0)||t.originalParams,f=dE(t,r),m=dE(t,h),w=t.params.grabCursor,E=h.grabCursor,P=r.enabled;f&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),w&&!E?t.unsetGrabCursor():!w&&E&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(V=>{if(typeof h[V]>"u")return;const b=r[V]&&r[V].enabled,x=h[V]&&h[V].enabled;b&&!x&&t[V].disable(),!b&&x&&t[V].enable()});const g=h.direction&&h.direction!==r.direction,_=r.loop&&(h.slidesPerView!==r.slidesPerView||g),T=r.loop;g&&n&&t.changeDirection(),Xt(t.params,h);const D=t.params.enabled,O=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),P&&!D?t.disable():!P&&D&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",h),n&&(_?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!T&&O?(t.loopCreate(e),t.updateSlides()):T&&!O&&t.loopDestroy()),t.emit("breakpoint",h)}function U9(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Mt(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}var B9={setBreakpoint:F9,getBreakpoint:U9};function z9(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function $9(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=z9(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function W9(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var H9={addClasses:$9,removeClasses:W9};function G9(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var q9={checkOverflow:G9},qm={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function K9(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Xt(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Xt(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Xt(e,r)}}const ap={eventsEmitter:HU,update:n9,translate:l9,transition:h9,slide:_9,loop:S9,grabCursor:C9,events:j9,breakpoints:B9,checkOverflow:q9,classes:H9},lp={};let _v=class dr{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Xt({},n),e&&!n.el&&(n.el=e);const o=Cs();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Xt({},n,{el:h});d.push(new dr(f))}),d}const a=this;a.__swiper__=!0,a.support=KC(),a.device=YC({userAgent:n.userAgent}),a.browser=QC(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:K9(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=Xt({},qm,l);return a.params=Xt({},u,lp,n),a.originalParams=Xt({},a.params),a.passedParams=Xt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=zn(n,`.${r.slideClass}, swiper-slide`),s=sE(i[0]);return sE(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=zn(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=r;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=s[u]?Math.ceil(s[u].swiperSlideSize):0,f;for(let m=u+1;m<s.length;m+=1)s[m]&&!f&&(h+=Math.ceil(s[m].swiperSlideSize),d+=1,h>l&&(f=!0));for(let m=u-1;m>=0;m-=1)s[m]&&!f&&(h+=s[m].swiperSlideSize,d+=1,h>l&&(f=!0))}else if(e==="current")for(let h=u+1;h<s.length;h+=1)(n?o[h]+a[h]-o[u]<l:o[h]-o[u]<l)&&(d+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Bc(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):zn(r,i())[0])();return!o&&n.params.createElements&&(o=Hd("div",n.params.wrapperClass),r.append(o),zn(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ii(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ii(r,"direction")==="rtl"),wrongRTL:ii(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Bc(n,s):s.addEventListener("load",o=>{Bc(n,o.target)})}),Gm(n),n.initialized=!0,Gm(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),RU(r)),r.destroyed=!0),null}static extendDefaults(e){Xt(lp,e)}static get extendedDefaults(){return lp}static get defaults(){return qm}static installModule(e){dr.prototype.__modules__||(dr.prototype.__modules__=[]);const n=dr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>dr.installModule(n)),dr):(dr.installModule(e),dr)}};Object.keys(ap).forEach(t=>{Object.keys(ap[t]).forEach(e=>{_v.prototype[e]=ap[t][e]})});_v.use([$U,WU]);const ZC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ys(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function vo(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ys(e[r])&&ys(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:vo(t[r],e[r]):t[r]=e[r]})}function eP(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function tP(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function nP(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function rP(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Y9(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Q9(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=i.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:m,virtual:w,thumbs:E}=e;let P,g,_,T,D,O,V,b;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(P=!0),i.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(g=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(_=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(T=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(D=!0);const x=S=>{e[S]&&(e[S].destroy(),S==="navigation"?(e.isElement&&(e[S].prevEl.remove(),e[S].nextEl.remove()),d[S].prevEl=void 0,d[S].nextEl=void 0,e[S].prevEl=void 0,e[S].nextEl=void 0):(e.isElement&&e[S].el.remove(),d[S].el=void 0,e[S].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!r.loop?O=!0:!d.loop&&r.loop?V=!0:b=!0),u.forEach(S=>{if(ys(d[S])&&ys(r[S]))Object.assign(d[S],r[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in r[S]&&!r[S].enabled&&x(S);else{const I=r[S];(I===!0||I===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?I===!1&&x(S):d[S]=r[S]}}),u.includes("controller")&&!g&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&n&&w&&d.virtual.enabled?(w.slides=n,w.update(!0)):i.includes("virtual")&&w&&d.virtual.enabled&&(n&&(w.slides=n),w.update(!0)),i.includes("children")&&n&&d.loop&&(b=!0),P&&E.init()&&E.update(!0),g&&(e.controller.control=d.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),T&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),D&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),aE(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),aE(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(O||b)&&e.loopDestroy(),(V||b)&&e.loopCreate(),e.update()}function X9(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};vo(n,qm),n._emitClasses=!0,n.init=!1;const s={},o=ZC.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ys(t[l])?(n[l]={},i[l]={},vo(n[l],t[l]),vo(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function J9(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;eP(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),tP(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),nP(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function Z9(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),u=n.map(i);l.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return ZC.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ys(t[l])&&ys(e[l])){const u=Object.keys(t[l]),d=Object.keys(e[l]);u.length!==d.length?o(l):(u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const eB=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function iP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function sP(t){const e=[];return Pe.Children.toArray(t).forEach(n=>{iP(n)?e.push(n):n.props&&n.props.children&&sP(n.props.children).forEach(r=>e.push(r))}),e}function tB(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pe.Children.toArray(t).forEach(r=>{if(iP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=sP(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function nB(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let d=a;d<l;d+=1)d>=s&&d<=o&&u.push(e[r(d)]);return u.map((d,h)=>Pe.cloneElement(d,{swiper:t,style:i,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function al(t,e){return typeof window>"u"?A.useEffect(t,e):A.useLayoutEffect(t,e)}const hE=A.createContext(null),rB=A.createContext(null),oP=A.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[u,d]=A.useState("swiper"),[h,f]=A.useState(null),[m,w]=A.useState(!1),E=A.useRef(!1),P=A.useRef(null),g=A.useRef(null),_=A.useRef(null),T=A.useRef(null),D=A.useRef(null),O=A.useRef(null),V=A.useRef(null),b=A.useRef(null),{params:x,passedParams:S,rest:I,events:k}=X9(a),{slides:N,slots:R}=tB(s),U=()=>{w(!m)};Object.assign(x.on,{_containerClasses(W,q){d(q)}});const B=()=>{Object.assign(x.on,k),l=!0;const W={...x};if(delete W.wrapperClass,g.current=new _v(W),g.current.virtual&&g.current.params.virtual.enabled){g.current.virtual.slides=N;const q={cache:!1,slides:N,renderExternal:f,renderExternalUpdate:!1};vo(g.current.params.virtual,q),vo(g.current.originalParams.virtual,q)}};P.current||B(),g.current&&g.current.on("_beforeBreakpoint",U);const j=()=>{l||!k||!g.current||Object.keys(k).forEach(W=>{g.current.on(W,k[W])})},K=()=>{!k||!g.current||Object.keys(k).forEach(W=>{g.current.off(W,k[W])})};A.useEffect(()=>()=>{g.current&&g.current.off("_beforeBreakpoint",U)}),A.useEffect(()=>{!E.current&&g.current&&(g.current.emitSlidesClasses(),E.current=!0)}),al(()=>{if(e&&(e.current=P.current),!!P.current)return g.current.destroyed&&B(),J9({el:P.current,nextEl:D.current,prevEl:O.current,paginationEl:V.current,scrollbarEl:b.current,swiper:g.current},x),o&&!g.current.destroyed&&o(g.current),()=>{g.current&&!g.current.destroyed&&g.current.destroy(!0,!1)}},[]),al(()=>{j();const W=Z9(S,_.current,N,T.current,q=>q.key);return _.current=S,T.current=N,W.length&&g.current&&!g.current.destroyed&&Q9({swiper:g.current,slides:N,passedParams:S,changedParams:W,nextEl:D.current,prevEl:O.current,scrollbarEl:b.current,paginationEl:V.current}),()=>{K()}}),al(()=>{eB(g.current)},[h]);function F(){return x.virtual?nB(g.current,N,h):N.map((W,q)=>Pe.cloneElement(W,{swiper:g.current,swiperSlideIndex:q}))}return Pe.createElement(r,Gd({ref:P,className:rP(`${u}${n?` ${n}`:""}`)},I),Pe.createElement(rB.Provider,{value:g.current},R["container-start"],Pe.createElement(i,{className:Y9(x.wrapperClass)},R["wrapper-start"],F(),R["wrapper-end"]),eP(x)&&Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{ref:O,className:"swiper-button-prev"}),Pe.createElement("div",{ref:D,className:"swiper-button-next"})),nP(x)&&Pe.createElement("div",{ref:b,className:"swiper-scrollbar"}),tP(x)&&Pe.createElement("div",{ref:V,className:"swiper-pagination"}),R["container-end"]))});oP.displayName="Swiper";const aP=A.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=A.useRef(null),[f,m]=A.useState("swiper-slide"),[w,E]=A.useState(!1);function P(D,O,V){O===h.current&&m(V)}al(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){f!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",P),()=>{s&&s.off("_slideClass",P)}}}),al(()=>{s&&h.current&&!s.destroyed&&m(s.getSlideClasses(h.current))},[s]);const g={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},_=()=>typeof r=="function"?r(g):r,T=()=>{E(!0)};return Pe.createElement(n,Gd({ref:h,className:rP(`${f}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:T},d),o&&Pe.createElement(hE.Provider,{value:g},Pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},_(),a&&!w&&Pe.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Pe.createElement(hE.Provider,{value:g},_(),a&&!w&&Pe.createElement("div",{className:"swiper-lazy-preloader"})))});aP.displayName="SwiperSlide";function iB(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=zn(t.el,`.${r[i]}`)[0];s||(s=Hd("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function sB(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(w){let E;return w&&typeof w=="string"&&e.isElement&&(E=e.el.querySelector(w)||e.hostEl.querySelector(w),E)?E:(w&&(typeof w=="string"&&(E=[...document.querySelectorAll(w)]),e.params.uniqueNavElements&&typeof w=="string"&&E&&E.length>1&&e.el.querySelectorAll(w).length===1?E=e.el.querySelector(w):E&&E.length===1&&(E=E[0])),w&&!E?w:E)}function o(w,E){const P=e.params.navigation;w=cr(w),w.forEach(g=>{g&&(g.classList[E?"add":"remove"](...P.disabledClass.split(" ")),g.tagName==="BUTTON"&&(g.disabled=E),e.params.watchOverflow&&e.enabled&&g.classList[e.isLocked?"add":"remove"](P.lockClass))})}function a(){const{nextEl:w,prevEl:E}=e.navigation;if(e.params.loop){o(E,!1),o(w,!1);return}o(E,e.isBeginning&&!e.params.rewind),o(w,e.isEnd&&!e.params.rewind)}function l(w){w.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(w){w.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const w=e.params.navigation;if(e.params.navigation=iB(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(w.nextEl||w.prevEl))return;let E=s(w.nextEl),P=s(w.prevEl);Object.assign(e.navigation,{nextEl:E,prevEl:P}),E=cr(E),P=cr(P);const g=(_,T)=>{_&&_.addEventListener("click",T==="next"?u:l),!e.enabled&&_&&_.classList.add(...w.lockClass.split(" "))};E.forEach(_=>g(_,"next")),P.forEach(_=>g(_,"prev"))}function h(){let{nextEl:w,prevEl:E}=e.navigation;w=cr(w),E=cr(E);const P=(g,_)=>{g.removeEventListener("click",_==="next"?u:l),g.classList.remove(...e.params.navigation.disabledClass.split(" "))};w.forEach(g=>P(g,"next")),E.forEach(g=>P(g,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(d(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:w,prevEl:E}=e.navigation;if(w=cr(w),E=cr(E),e.enabled){a();return}[...w,...E].filter(P=>!!P).forEach(P=>P.classList.add(e.params.navigation.lockClass))}),r("click",(w,E)=>{let{nextEl:P,prevEl:g}=e.navigation;P=cr(P),g=cr(g);const _=E.target;let T=g.includes(_)||P.includes(_);if(e.isElement&&!T){const D=E.path||E.composedPath&&E.composedPath();D&&(T=D.find(O=>P.includes(O)||g.includes(O)))}if(e.params.navigation.hideOnClick&&!T){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let D;P.length?D=P[0].classList.contains(e.params.navigation.hiddenClass):g.length&&(D=g[0].classList.contains(e.params.navigation.hiddenClass)),i(D===!0?"navigationShow":"navigationHide"),[...P,...g].filter(O=>!!O).forEach(O=>O.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:m,update:a,init:d,destroy:h})}const oB=()=>{const[t,e]=A.useState([{name:"양**",role:"외국계 제약회사 Sales rep",content:"제 눈높이에 맞춰서 차근차근 잘 알려주세요. 수업을 진행하면서 제가 필요한 부분을 물어보고 계속 반영해주시는 것이 너무 좋고, 딱딱하지 않고 유쾌하고 즐거운 분위기까지 좋습니다~",rating:5},{name:"김**",role:"무역회사 대표",content:"쉽게 기초부터 알려주십니다. 덕분에 실력이 느는것 같습니다. 감사합니다.",rating:5},{name:"최**",role:"쥬얼리회사 대표",content:"비즈니스 커리큘럼을 기반으로 수업을 진행하시는데, 거기에 저의 상황까지 고려하여 폭넓게 수업을 진행해주십니다. 제가 질문에 단순한 문장으로 대답할 때마다, 쉬운 단어를 조합해서 더욱 풍성하게 문장을 만드는 연습을 할 수 있도록 도와주시는 점이 가장 이 수업에서 마음에 드는 부분입니다. 저는 선생님 성격도 너무 중요한데.. 유쾌하시고 꼼꼼하셔서, 수업 시간이 즐겁고 매우 유익합니다. 이벤트를 언제까지 하실지 모르겠지만 첫달은 아주 합리적인 수업료로 제공하시더라구요. 고민하시는 분들이 있으시다면 부담없이 들어보고 결정하시는 것도 좋을 것 같습니다.",rating:5},{name:"최**",role:"외국계 반도체 회사 임원",content:"부족한 점에 대해서 정확히 파악 후 지속적으로 수정 및 개선될 수 있도록 가르쳐 주셔서 굉장히 많은 도움이 됩니다. 항상 진심으로 감사합니다 .",rating:5},{name:"유**",role:"쿠* 매니저",content:"매우 체계적으로 수업이 진행됩니다.",rating:5},{name:"크**",role:"금융계 실무자",content:"합리적인 비용으로 친절하게 수업해주십니다, 중간중간 수업방향에 대해 함께 짚고 넘어가면서 더 만족스러운 수업이 됐던 것 같습니다. 국내 대학원 영어 면접과 관련되어 수업을 했는데, 발음이나 문법뿐만 아니라 내용이나 면접에서 영어로 말하는 방식도 짚어 주십니다. 실력자 분이시니 망설이지말고 수업 들어보시길 권해드립니다~",rating:5},{name:"박**",role:"현* 모터스 임원",content:"우선 개인별 영어 실력의 수준 파악을 위한 사전 테스트와 결과체크를 꼼꼼히 해주셨어요 제가 보완하고자 하는 부분에 대해 상세히 상담하고, 사전 테스트 결과를 고려해서 수준에 맞고 적합한 레벨을 선정하여 진행해주셨습니다. 제 개인 사정으로 긴 시간동안 진행하지는 못했지만 열정적으로 학습자의 목적에 맞게 수업 진행해주셔서 정말 감사했습니다:)",rating:5}]);return A.useState({name:"",role:"",content:"",rating:5}),A.useState(""),v.jsx("section",{id:"about",className:"py-10 bg-dark-900 mt-0",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[v.jsx(hn.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"space-y-8",children:v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:v.jsx("span",{className:"gradient-text",children:"✓ Instructor Experiences/Job Roles"})}),v.jsxs("ul",{className:"text-xl text-gray-300 leading-relaxed mb-8 list-disc list-inside space-y-2",children:[v.jsx("li",{children:"Digital Media Contents Project Lead/Project Manager"}),v.jsx("li",{children:"IT Computer Academy Instructor (Web & Computer Graphics)"}),v.jsx("li",{children:"E-commerce Business Co-founder/Operations/Digital Marketing"}),v.jsx("li",{children:"Music Industry Digital Marketing/Data Analysis"})]})]})}),v.jsxs(hn.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[v.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[v.jsx("img",{src:PU,alt:"Instructor",className:"w-full h-96 object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900/80 via-transparent to-transparent"})]}),v.jsx(hn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"absolute -bottom-8 -left-8 bg-dark-800 rounded-xl p-6 shadow-2xl",children:v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold gradient-text",children:"300+"}),v.jsx("div",{className:"text-gray-400 text-sm",children:"수강생"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold gradient-text",children:"5년+"}),v.jsx("div",{className:"text-gray-400 text-sm",children:"운영 경력"})]})]})})]})]}),v.jsxs(hn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"mt-20",children:[v.jsx("h3",{className:"text-3xl font-bold text-center mb-12",children:v.jsx("span",{className:"gradient-text",children:"수강생 후기"})}),v.jsx(oP,{modules:[sB],navigation:!0,spaceBetween:24,slidesPerView:3,className:"testimonial-swiper",style:{paddingBottom:32},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},children:t.map((n,r)=>v.jsx(aP,{children:v.jsx(aB,{testimonial:n})},r))})]})]})})},aB=({testimonial:t})=>{const[e,n]=A.useState(!1),r="h-64 md:h-64",i="text-2l",s=Pe.useRef(null),[o,a]=A.useState(!1);return Pe.useEffect(()=>{s.current&&a(s.current.scrollHeight>s.current.clientHeight)},[t.content,e]),v.jsxs(hn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`card flex flex-col justify-between ${r}`,children:[v.jsx("div",{className:"flex items-center mb-2",children:[...Array(t.rating)].map((l,u)=>v.jsx(AM,{size:16,className:"text-yellow-400 fill-current"},u))}),v.jsx("div",{className:"flex-1 flex flex-col justify-between min-h-0",children:v.jsxs("div",{className:"relative flex-1 min-h-0",children:[v.jsxs("div",{ref:s,className:`text-gray-300 leading-relaxed ${i} ${e?"overflow-y-auto pr-2":"overflow-hidden line-clamp-2"} transition-all duration-200`,style:{wordBreak:"break-word",maxHeight:e?"8.5rem":void 0,minHeight:"3.5rem"},children:['"',t.content,'"']}),!e&&o&&v.jsx("div",{className:"absolute right-0 bottom-0 w-full flex justify-end bg-gradient-to-t from-dark-800 via-transparent to-transparent pt-2",children:v.jsx("button",{className:"text-primary-400 underline text-base",onClick:()=>n(!0),children:"더보기"})}),e&&v.jsx("div",{className:"flex justify-end mt-2",children:v.jsx("button",{className:"text-primary-400 underline text-base",onClick:()=>n(!1),children:"닫기"})})]})}),v.jsxs("div",{className:"pt-2 border-t border-gray-700 mt-2",children:[v.jsx("div",{className:"font-semibold text-white text-sm",children:t.name}),v.jsx("div",{className:"text-gray-400 text-xs",children:t.role})]})]})},lB=()=>{const{user:t}=A.useContext(Qo),[e,n]=A.useState((t==null?void 0:t.displayName)||""),[r,i]=A.useState((t==null?void 0:t.email)||""),[s,o]=A.useState(localStorage.getItem("phone")||""),[a,l]=A.useState(""),[u,d]=A.useState(!1),[h,f]=A.useState(!1),[m,w]=A.useState(""),E=Ah(No);A.useEffect(()=>{t&&(n(t.displayName||""),i(t.email||""))},[t]),A.useEffect(()=>{localStorage.setItem("phone",s)},[s]);const P=async g=>{if(g.preventDefault(),w(""),!e.trim()||!r.trim()||!s.trim()||!a.trim()){w("모든 항목을 입력해주세요.");return}d(!0);try{await ki(mn(E,"contacts"),{name:e,email:r,phone:s,message:a,userId:(t==null?void 0:t.uid)||null,createdAt:le.now()}),f(!0),n((t==null?void 0:t.displayName)||""),i((t==null?void 0:t.email)||""),o(localStorage.getItem("phone")||""),l("")}catch{w("문의 저장 중 오류가 발생했습니다.")}finally{d(!1)}};return v.jsx("section",{id:"contact",className:"py-20 bg-dark-800",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs(hn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:v.jsx("span",{className:"gradient-text",children:"상담문의"})}),v.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"궁금한 점이 있으시면 편히 연락주세요."})]}),v.jsx("div",{className:"flex justify-center",children:v.jsxs(hn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"card max-w-2xl w-full",children:[v.jsx("h3",{className:"text-2xl font-bold mb-6",children:"문의하기"}),h?v.jsx("div",{className:"text-green-400 text-center text-xl py-12",children:"문의가 성공적으로 접수되었습니다!"}):v.jsxs("form",{className:"space-y-6",onSubmit:P,children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"이름"}),v.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"이름을 입력하세요",value:e,onChange:g=>n(g.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"전화번호"}),v.jsx("input",{type:"tel",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"전화번호를 입력하세요",value:s,onChange:g=>o(g.target.value),required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"이메일"}),v.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"이메일을 입력하세요",value:r,onChange:g=>i(g.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"문의 내용"}),v.jsx("textarea",{rows:4,className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white resize-none",placeholder:"문의하실 내용을 자유롭게 작성해주세요",value:a,onChange:g=>l(g.target.value),required:!0})]}),m&&v.jsx("div",{className:"text-red-400 text-center",children:m}),v.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:u,children:u?"전송 중...":"문의하기"})]})]})})]})})},uB=()=>{const t=new Date().getFullYear();return v.jsx("footer",{className:"bg-dark-900 border-t border-gray-800",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:v.jsx("div",{className:"col-span-1 md:col-span-2"})}),v.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[v.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",t," Joy English. All rights reserved."]}),v.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[v.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"개인정보처리방침"}),v.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"이용약관"}),v.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"사이트맵"})]})]})]})})},cB=["joyjisunlee0123@gmail.com"],dB=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(""),i=wn(),s=async()=>{e(!0),r("");const o=new pr;try{const l=(await g2(Un,o)).user;l.email&&cB.includes(l.email)?(console.log("관리자 로그인 성공:",l.email),i("/admin")):(await Un.signOut(),r("관리자만 로그인이 가능합니다."),console.log("관리자가 아닌 사용자 로그인 시도:",l.email))}catch(a){console.error("로그인 오류:",a),r("로그인 중 오류가 발생했습니다: "+a.message)}finally{e(!1)}};return v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-md",children:[v.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"관리자 로그인"}),v.jsx("p",{className:"text-gray-400 text-center mb-6",children:"관리자 계정으로만 로그인이 가능합니다."}),n&&v.jsx("div",{className:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:n}),v.jsxs("button",{className:"btn-primary w-full mb-4 flex items-center justify-center gap-2",onClick:s,disabled:t,children:[v.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-6 h-6"}),t?"로그인 중...":"Google로 관리자 로그인"]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsx("button",{className:"text-gray-400 hover:text-white underline",onClick:()=>i("/"),children:"메인 페이지로 돌아가기"})})]})})};function lP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Uh(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lP(t))&&(r&&(r+=" "),r+=e);return r}const hB=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!fB(i,s)&&r||Object.defineProperty(t,n,s)},fB=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},pB=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},mB=(t,e)=>`/* Wrapped ${t}*/
${e}`,gB=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),yB=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),vB=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=mB.bind(null,r,e.toString());Object.defineProperty(i,"name",yB);const{writable:s,enumerable:o,configurable:a}=gB;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:o,configurable:a})};function wB(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))hB(t,e,i,n);return pB(t,e),vB(t,e,r),t}const _B=new WeakMap,fE=new WeakMap;function uP(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"){if(r>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){var d;const o=e?e(s):s[0],a=n.get(o);if(a)return a.data;const l=t.apply(this,s),u=typeof r=="function"?r(...s):r;if(n.set(o,{data:l,maxAge:u?Date.now()+u:Number.POSITIVE_INFINITY}),u&&u>0&&u!==Number.POSITIVE_INFINITY){const h=setTimeout(()=>{n.delete(o)},u);(d=h.unref)==null||d.call(h);const f=fE.get(t)??new Set;f.add(h),fE.set(t,f)}return l};return wB(i,t,{ignoreNonConfigurable:!0}),_B.set(i,n),i}function TB(t){return typeof t=="string"}function EB(t,e,n){return n.indexOf(t)===e}function xB(t){return t.toLowerCase()===t}function pE(t){return t.indexOf(",")===-1?t:t.split(",")}function Km(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Km(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return Km(n)}if(t.indexOf("-")===-1||!xB(t))return t;var i=t.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function SB(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],u=0,d=a;u<d.length;u++){var h=d[u];l=l.concat(pE(h))}var f=navigator.language,m=f&&pE(f);o=o.concat(l,m)}return r&&o.push(s),o.filter(TB).map(Km).filter(EB)}var IB=uP(SB,{cacheKey:JSON.stringify});function bB(t){return IB(t)[0]||null}var cP=uP(bB,{cacheKey:JSON.stringify});function jr(t,e,n){return function(i,s=n){const o=t(i)+s;return e(o)}}function lu(t){return function(n){return new Date(t(n).getTime()-1)}}function uu(t,e){return function(r){return[t(r),e(r)]}}function ke(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Mi(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Bh(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Ko(t){const e=ke(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const CB=jr(ke,Ko,-100),dP=jr(ke,Ko,100),Tv=lu(dP),PB=jr(ke,Tv,-100),hP=uu(Ko,Tv);function ji(t){const e=ke(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const fP=jr(ke,ji,-10),Ev=jr(ke,ji,10),zh=lu(Ev),pP=jr(ke,zh,-10),mP=uu(ji,zh);function Yo(t){const e=ke(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const gP=jr(ke,Yo,-1),xv=jr(ke,Yo,1),$h=lu(xv),yP=jr(ke,$h,-1),AB=uu(Yo,$h);function Sv(t,e){return function(r,i=e){const s=ke(r),o=Mi(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),t(a)}}function Ps(t){const e=ke(t),n=Mi(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const vP=Sv(Ps,-1),Iv=Sv(Ps,1),cu=lu(Iv),wP=Sv(cu,-1),kB=uu(Ps,cu);function RB(t,e){return function(r,i=e){const s=ke(r),o=Mi(r),a=Bh(r)+i,l=new Date;return l.setFullYear(s,o,a),l.setHours(0,0,0,0),t(l)}}function du(t){const e=ke(t),n=Mi(t),r=Bh(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const DB=RB(du,1),bv=lu(DB),NB=uu(du,bv);function _P(t){return Bh(cu(t))}var ht={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},OB={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Cv=[0,1,2,3,4,5,6],up=new Map;function VB(t){return function(n,r){var i=n||cP();up.has(i)||up.set(i,new Map);var s=up.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function LB(t){var e=new Date(t);return new Date(e.setHours(12))}function As(t){return function(e,n){return VB(t)(e,LB(n))}}var MB={day:"numeric"},jB={day:"numeric",month:"long",year:"numeric"},FB={month:"long"},UB={month:"long",year:"numeric"},BB={weekday:"short"},zB={weekday:"long"},$B={year:"numeric"},WB=As(MB),HB=As(jB),GB=As(FB),TP=As(UB),qB=As(BB),KB=As(zB),Wh=As($B),YB=Cv[0],QB=Cv[5],mE=Cv[6];function jl(t,e){e===void 0&&(e=ht.ISO_8601);var n=t.getDay();switch(e){case ht.ISO_8601:return(n+6)%7;case ht.ISLAMIC:return(n+1)%7;case ht.HEBREW:case ht.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function XB(t){var e=Ko(t);return ke(e)}function JB(t){var e=ji(t);return ke(e)}function Ym(t,e){e===void 0&&(e=ht.ISO_8601);var n=ke(t),r=Mi(t),i=t.getDate()-jl(t,e);return new Date(n,r,i)}function ZB(t,e){e===void 0&&(e=ht.ISO_8601);var n=e===ht.GREGORY?ht.GREGORY:ht.ISO_8601,r=Ym(t,e),i=ke(t)+1,s,o;do s=new Date(i,0,n===ht.ISO_8601?4:1),o=Ym(s,e),i-=1;while(t<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function os(t,e){switch(t){case"century":return Ko(e);case"decade":return ji(e);case"year":return Yo(e);case"month":return Ps(e);case"day":return du(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function e5(t,e){switch(t){case"century":return CB(e);case"decade":return fP(e);case"year":return gP(e);case"month":return vP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function EP(t,e){switch(t){case"century":return dP(e);case"decade":return Ev(e);case"year":return xv(e);case"month":return Iv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function t5(t,e){switch(t){case"decade":return fP(e,-100);case"year":return gP(e,-10);case"month":return vP(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function n5(t,e){switch(t){case"decade":return Ev(e,100);case"year":return xv(e,10);case"month":return Iv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function xP(t,e){switch(t){case"century":return Tv(e);case"decade":return zh(e);case"year":return $h(e);case"month":return cu(e);case"day":return bv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function r5(t,e){switch(t){case"century":return PB(e);case"decade":return pP(e);case"year":return yP(e);case"month":return wP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function i5(t,e){switch(t){case"decade":return pP(e,-100);case"year":return yP(e,-10);case"month":return wP(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function gE(t,e){switch(t){case"century":return hP(e);case"decade":return mP(e);case"year":return AB(e);case"month":return kB(e);case"day":return NB(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function s5(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[os(t,r[0]),xP(t,r[1])]}function SP(t,e,n){return n.map(function(r){return(e||Wh)(t,r)}).join(" – ")}function o5(t,e,n){return SP(t,e,hP(n))}function IP(t,e,n){return SP(t,e,mP(n))}function a5(t){return t.getDay()===new Date().getDay()}function bP(t,e){e===void 0&&(e=ht.ISO_8601);var n=t.getDay();switch(e){case ht.ISLAMIC:case ht.HEBREW:return n===QB||n===mE;case ht.ISO_8601:case ht.GREGORY:return n===mE||n===YB;default:throw new Error("Unsupported calendar type.")}}var Ln="react-calendar__navigation";function l5(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?TP:r,s=t.formatYear,o=s===void 0?Wh:s,a=t.locale,l=t.maxDate,u=t.minDate,d=t.navigationAriaLabel,h=d===void 0?"":d,f=t.navigationAriaLive,m=t.navigationLabel,w=t.next2AriaLabel,E=w===void 0?"":w,P=t.next2Label,g=P===void 0?"»":P,_=t.nextAriaLabel,T=_===void 0?"":_,D=t.nextLabel,O=D===void 0?"›":D,V=t.prev2AriaLabel,b=V===void 0?"":V,x=t.prev2Label,S=x===void 0?"«":x,I=t.prevAriaLabel,k=I===void 0?"":I,N=t.prevLabel,R=N===void 0?"‹":N,U=t.setActiveStartDate,B=t.showDoubleView,j=t.view,K=t.views,F=K.indexOf(j)>0,W=j!=="century",q=e5(j,e),Q=W?t5(j,e):void 0,ee=EP(j,e),pe=W?n5(j,e):void 0,ot=function(){if(q.getFullYear()<0)return!0;var Re=r5(j,e);return u&&u>=Re}(),yt=W&&function(){if(Q.getFullYear()<0)return!0;var Re=i5(j,e);return u&&u>=Re}(),$e=l&&l<ee,Ke=W&&l&&l<pe;function rr(){U(q,"prev")}function jt(){U(Q,"prev2")}function Kt(){U(ee,"next")}function vt(){U(pe,"next2")}function ir(Re){var sr=function(){switch(j){case"century":return o5(a,o,Re);case"decade":return IP(a,o,Re);case"year":return o(a,Re);case"month":return i(a,Re);default:throw new Error("Invalid view: ".concat(j,"."))}}();return m?m({date:Re,label:sr,locale:a||cP()||void 0,view:j}):sr}function Fi(){var Re="".concat(Ln,"__label");return v.jsxs("button",{"aria-label":h,"aria-live":f,className:Re,disabled:!F,onClick:n,style:{flexGrow:1},type:"button",children:[v.jsx("span",{className:"".concat(Re,"__labelText ").concat(Re,"__labelText--from"),children:ir(e)}),B?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"".concat(Re,"__divider"),children:" – "}),v.jsx("span",{className:"".concat(Re,"__labelText ").concat(Re,"__labelText--to"),children:ir(ee)})]}):null]})}return v.jsxs("div",{className:Ln,children:[S!==null&&W?v.jsx("button",{"aria-label":b,className:"".concat(Ln,"__arrow ").concat(Ln,"__prev2-button"),disabled:yt,onClick:jt,type:"button",children:S}):null,R!==null&&v.jsx("button",{"aria-label":k,className:"".concat(Ln,"__arrow ").concat(Ln,"__prev-button"),disabled:ot,onClick:rr,type:"button",children:R}),Fi(),O!==null&&v.jsx("button",{"aria-label":T,className:"".concat(Ln,"__arrow ").concat(Ln,"__next-button"),disabled:$e,onClick:Kt,type:"button",children:O}),g!==null&&W?v.jsx("button",{"aria-label":E,className:"".concat(Ln,"__arrow ").concat(Ln,"__next2-button"),disabled:Ke,onClick:vt,type:"button",children:g}):null]})}var ro=globalThis&&globalThis.__assign||function(){return ro=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ro.apply(this,arguments)},u5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function yE(t){return"".concat(t,"%")}function Pv(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,o=t.style,a=t.wrap,l=u5(t,["children","className","count","direction","offset","style","wrap"]);return v.jsx("div",ro({className:n,style:ro({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},l,{children:A.Children.map(e,function(u,d){var h=s&&d===0?yE(100*s/r):null;return A.cloneElement(u,ro(ro({},u.props),{style:{flexBasis:yE(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function c5(t,e,n){return e&&e>t?e:n&&n<t?n:t}function Fl(t,e){return e[0]<=t&&e[1]>=t}function d5(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function CP(t,e){return Fl(t[0],e)||Fl(t[1],e)}function vE(t,e,n){var r=CP(e,t),i=[];if(r){i.push(n);var s=Fl(t[0],e),o=Fl(t[1],e);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function h5(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function f5(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var m=t.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return gE(m,n)}();if(Fl(o,a)&&s.push("".concat(i,"--now")),!e||!h5(e))return s;var l=function(){if(Array.isArray(e))return e;var m=t.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return gE(m,e)}();d5(l,a)?s.push("".concat(i,"--active")):CP(l,a)&&s.push("".concat(i,"--hasActive"));var u=vE(l,a,"".concat(i,"--range"));s.push.apply(s,u);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var h=r>l[0]?[l[0],r]:[r,l[0]],f=vE(h,a,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function Hh(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,o=t.end,a=t.hover,l=t.offset,u=t.renderTile,d=t.start,h=t.step,f=h===void 0?1:h,m=t.value,w=t.valueType,E=[],P=d;P<=o;P+=f){var g=i(P);E.push(u({classes:f5({date:g,dateType:s,hover:a,value:m,valueType:w}),date:g}))}return v.jsx(Pv,{className:e,count:r,offset:l,wrap:!0,children:E})}function Gh(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,o=t.locale,a=t.maxDate,l=t.maxDateTransform,u=t.minDate,d=t.minDateTransform,h=t.onClick,f=t.onMouseOver,m=t.style,w=t.tileClassName,E=t.tileContent,P=t.tileDisabled,g=t.view,_=A.useMemo(function(){var D={activeStartDate:e,date:i,view:g};return typeof w=="function"?w(D):w},[e,i,w,g]),T=A.useMemo(function(){var D={activeStartDate:e,date:i,view:g};return typeof E=="function"?E(D):E},[e,i,E,g]);return v.jsxs("button",{className:Uh(r,_),disabled:u&&d(u)>i||a&&l(a)<i||(P==null?void 0:P({activeStartDate:e,date:i,view:g})),onClick:h?function(D){return h(i,D)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:m,type:"button",children:[s?v.jsx("abbr",{"aria-label":s(o,i),children:n}):n,T]})}var Qm=globalThis&&globalThis.__assign||function(){return Qm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qm.apply(this,arguments)},p5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},cp="react-calendar__century-view__decades__decade";function m5(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?Wh:i,o=p5(t,["classes","currentCentury","formatYear"]),a=o.date,l=o.locale,u=[];return n&&u.push.apply(u,n),cp&&u.push(cp),Ko(a).getFullYear()!==r&&u.push("".concat(cp,"--neighboringCentury")),v.jsx(Gh,Qm({},o,{classes:u,maxDateTransform:zh,minDateTransform:ji,view:"century",children:IP(l,s,a)}))}var Xm=globalThis&&globalThis.__assign||function(){return Xm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xm.apply(this,arguments)},wE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function g5(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,o=wE(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=XB(e),l=a+(r?119:99);return v.jsx(Hh,{className:"react-calendar__century-view__decades",dateTransform:ji,dateType:"decade",end:l,hover:n,renderTile:function(u){var d=u.date,h=wE(u,["date"]);return v.jsx(m5,Xm({},o,h,{activeStartDate:e,currentCentury:a,date:d}),d.getTime())},start:a,step:10,value:i,valueType:s})}var Jm=globalThis&&globalThis.__assign||function(){return Jm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jm.apply(this,arguments)};function y5(t){function e(){return v.jsx(g5,Jm({},t))}return v.jsx("div",{className:"react-calendar__century-view",children:e()})}var Zm=globalThis&&globalThis.__assign||function(){return Zm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zm.apply(this,arguments)},v5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},dp="react-calendar__decade-view__years__year";function w5(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?Wh:i,o=v5(t,["classes","currentDecade","formatYear"]),a=o.date,l=o.locale,u=[];return n&&u.push.apply(u,n),dp&&u.push(dp),ji(a).getFullYear()!==r&&u.push("".concat(dp,"--neighboringDecade")),v.jsx(Gh,Zm({},o,{classes:u,maxDateTransform:$h,minDateTransform:Yo,view:"decade",children:s(l,a)}))}var eg=globalThis&&globalThis.__assign||function(){return eg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eg.apply(this,arguments)},_E=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _5(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,o=_E(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=JB(e),l=a+(r?11:9);return v.jsx(Hh,{className:"react-calendar__decade-view__years",dateTransform:Yo,dateType:"year",end:l,hover:n,renderTile:function(u){var d=u.date,h=_E(u,["date"]);return v.jsx(w5,eg({},o,h,{activeStartDate:e,currentDecade:a,date:d}),d.getTime())},start:a,value:i,valueType:s})}var tg=globalThis&&globalThis.__assign||function(){return tg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tg.apply(this,arguments)};function T5(t){function e(){return v.jsx(_5,tg({},t))}return v.jsx("div",{className:"react-calendar__decade-view",children:e()})}var ng=globalThis&&globalThis.__assign||function(){return ng=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ng.apply(this,arguments)},E5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},TE=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},x5="react-calendar__year-view__months__month";function S5(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?GB:r,s=t.formatMonthYear,o=s===void 0?TP:s,a=E5(t,["classes","formatMonth","formatMonthYear"]),l=a.date,u=a.locale;return v.jsx(Gh,ng({},a,{classes:TE(TE([],n,!0),[x5],!1),formatAbbr:o,maxDateTransform:cu,minDateTransform:Ps,view:"year",children:i(u,l)}))}var rg=globalThis&&globalThis.__assign||function(){return rg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rg.apply(this,arguments)},EE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function I5(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=EE(t,["activeStartDate","hover","value","valueType"]),o=0,a=11,l=ke(e);return v.jsx(Hh,{className:"react-calendar__year-view__months",dateTransform:function(u){var d=new Date;return d.setFullYear(l,u,1),Ps(d)},dateType:"month",end:a,hover:n,renderTile:function(u){var d=u.date,h=EE(u,["date"]);return v.jsx(S5,rg({},s,h,{activeStartDate:e,date:d}),d.getTime())},start:o,value:r,valueType:i})}var ig=globalThis&&globalThis.__assign||function(){return ig=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ig.apply(this,arguments)};function b5(t){function e(){return v.jsx(I5,ig({},t))}return v.jsx("div",{className:"react-calendar__year-view",children:e()})}var sg=globalThis&&globalThis.__assign||function(){return sg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sg.apply(this,arguments)},C5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},hc="react-calendar__month-view__days__day";function P5(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,o=s===void 0?WB:s,a=t.formatLongDate,l=a===void 0?HB:a,u=C5(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=u.date,h=u.locale,f=[];return r&&f.push.apply(f,r),hc&&f.push(hc),bP(d,e)&&f.push("".concat(hc,"--weekend")),d.getMonth()!==i&&f.push("".concat(hc,"--neighboringMonth")),v.jsx(Gh,sg({},u,{classes:f,formatAbbr:l,maxDateTransform:bv,minDateTransform:du,view:"month",children:o(h,d)}))}var og=globalThis&&globalThis.__assign||function(){return og=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},og.apply(this,arguments)},xE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function A5(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,o=t.value,a=t.valueType,l=xE(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=ke(e),d=Mi(e),h=i||s,f=jl(e,n),m=h?0:f,w=(h?-f:0)+1,E=function(){if(i)return w+6*7-1;var P=_P(e);if(s){var g=new Date;g.setFullYear(u,d,P),g.setHours(0,0,0,0);var _=7-jl(g,n)-1;return P+_}return P}();return v.jsx(Hh,{className:"react-calendar__month-view__days",count:7,dateTransform:function(P){var g=new Date;return g.setFullYear(u,d,P),du(g)},dateType:"day",hover:r,end:E,renderTile:function(P){var g=P.date,_=xE(P,["date"]);return v.jsx(P5,og({},l,_,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:g}),g.getTime())},offset:m,start:w,value:o,valueType:a})}var PP="react-calendar__month-view__weekdays",hp="".concat(PP,"__weekday");function k5(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?qB:n,i=t.formatWeekday,s=i===void 0?KB:i,o=t.locale,a=t.onMouseLeave,l=new Date,u=Ps(l),d=ke(u),h=Mi(u),f=[],m=1;m<=7;m+=1){var w=new Date(d,h,m-jl(u,e)),E=s(o,w);f.push(v.jsx("div",{className:Uh(hp,a5(w)&&"".concat(hp,"--current"),bP(w,e)&&"".concat(hp,"--weekend")),children:v.jsx("abbr",{"aria-label":E,title:E,children:r(o,w).replace(".","")})},m))}return v.jsx(Pv,{className:PP,count:7,onFocus:a,onMouseOver:a,children:f})}var qd=globalThis&&globalThis.__assign||function(){return qd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qd.apply(this,arguments)},SE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},IE="react-calendar__tile";function R5(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=v.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,o=t.weekNumber,a=SE(t,["date","onClickWeekNumber","weekNumber"]);return v.jsx("button",qd({},a,{className:IE,onClick:function(l){return s(o,i,l)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var a=SE(t,["date","onClickWeekNumber","weekNumber"]);return v.jsx("div",qd({},a,{className:IE,children:r}))}}function D5(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=function(){if(s)return 6;var u=_P(e),d=jl(e,n),h=u-(7-d);return 1+Math.ceil(h/7)}(),a=function(){for(var u=ke(e),d=Mi(e),h=Bh(e),f=[],m=0;m<o;m+=1)f.push(Ym(new Date(u,d,h+m*7),n));return f}(),l=a.map(function(u){return ZB(u,n)});return v.jsx(Pv,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,d){var h=a[d];if(!h)throw new Error("date is not defined");return v.jsx(R5,{date:h,onClickWeekNumber:r,weekNumber:u},u)})})}var ag=globalThis&&globalThis.__assign||function(){return ag=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ag.apply(this,arguments)},N5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function O5(t){if(t)for(var e=0,n=Object.entries(OB);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return ht.ISO_8601}function V5(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,o=s===void 0?O5(n):s,a=t.formatShortWeekday,l=t.formatWeekday,u=t.onClickWeekNumber,d=t.showWeekNumbers,h=N5(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return v.jsx(k5,{calendarType:o,formatShortWeekday:a,formatWeekday:l,locale:n,onMouseLeave:r})}function m(){return d?v.jsx(D5,{activeStartDate:e,calendarType:o,onClickWeekNumber:u,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function w(){return v.jsx(A5,ag({calendarType:o},h))}var E="react-calendar__month-view";return v.jsx("div",{className:Uh(E,d?"".concat(E,"--weekNumbers"):""),children:v.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[m(),v.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),w()]})]})})}var io=globalThis&&globalThis.__assign||function(){return io=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},io.apply(this,arguments)},fc="react-calendar",zc=["century","decade","year","month"],L5=["decade","year","month","day"],Av=new Date;Av.setFullYear(1,0,1);Av.setHours(0,0,0,0);var M5=new Date(864e13);function Ba(t){return t instanceof Date?t:new Date(t)}function AP(t,e){return zc.slice(zc.indexOf(t),zc.indexOf(e)+1)}function j5(t,e,n){var r=AP(e,n);return r.indexOf(t)!==-1}function kv(t,e,n){return t&&j5(t,e,n)?t:n}function kP(t){var e=zc.indexOf(t);return L5[e]}function F5(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Ba(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function RP(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,o=F5(n,e);if(!o)return null;var a=kP(s),l=function(){switch(e){case 0:return os(a,o);case 1:return xP(a,o);default:throw new Error("Invalid index value: ".concat(e))}}();return c5(l,r,i)}var Rv=function(t){return RP(t,0)},DP=function(t){return RP(t,1)},U5=function(t){return[Rv,DP].map(function(e){return e(t)})};function NP(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,o=t.view,a=kv(o,i,n),l=Rv({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return os(a,l)}function B5(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,o=t.maxDetail,a=t.minDate,l=t.minDetail,u=t.value,d=t.view,h=kv(d,l,o),f=e||n;return f?os(h,f):NP({maxDate:s,maxDetail:o,minDate:a,minDetail:l,value:u||r,view:d||i})}function fp(t){return t&&(!Array.isArray(t)||t.length===1)}function pc(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var z5=A.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,a=e.defaultActiveStartDate,l=e.defaultValue,u=e.defaultView,d=e.formatDay,h=e.formatLongDate,f=e.formatMonth,m=e.formatMonthYear,w=e.formatShortWeekday,E=e.formatWeekday,P=e.formatYear,g=e.goToRangeStartOnSelect,_=g===void 0?!0:g,T=e.inputRef,D=e.locale,O=e.maxDate,V=O===void 0?M5:O,b=e.maxDetail,x=b===void 0?"month":b,S=e.minDate,I=S===void 0?Av:S,k=e.minDetail,N=k===void 0?"century":k,R=e.navigationAriaLabel,U=e.navigationAriaLive,B=e.navigationLabel,j=e.next2AriaLabel,K=e.next2Label,F=e.nextAriaLabel,W=e.nextLabel,q=e.onActiveStartDateChange,Q=e.onChange,ee=e.onClickDay,pe=e.onClickDecade,ot=e.onClickMonth,yt=e.onClickWeekNumber,$e=e.onClickYear,Ke=e.onDrillDown,rr=e.onDrillUp,jt=e.onViewChange,Kt=e.prev2AriaLabel,vt=e.prev2Label,ir=e.prevAriaLabel,Fi=e.prevLabel,Re=e.returnValue,sr=Re===void 0?"start":Re,kt=e.selectRange,Ui=e.showDoubleView,hu=e.showFixedNumberOfWeeks,Xo=e.showNavigation,fu=Xo===void 0?!0:Xo,Jo=e.showNeighboringCentury,pu=e.showNeighboringDecade,mu=e.showNeighboringMonth,Zo=mu===void 0?!0:mu,ea=e.showWeekNumbers,ta=e.tileClassName,Ze=e.tileContent,at=e.tileDisabled,Fr=e.value,na=e.view,ra=A.useState(a),Kh=ra[0],Nn=ra[1],ia=A.useState(null),gu=ia[0],ks=ia[1],yu=A.useState(Array.isArray(l)?l.map(function(oe){return oe!==null?Ba(oe):null}):l!=null?Ba(l):null),sa=yu[0],oa=yu[1],aa=A.useState(u),vu=aa[0],Ur=aa[1],et=r||Kh||B5({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:u,maxDate:V,maxDetail:x,minDate:I,minDetail:N,value:Fr,view:na}),tt=function(){var oe=function(){return kt&&fp(sa)?sa:Fr!==void 0?Fr:sa}();return oe?Array.isArray(oe)?oe.map(function(we){return we!==null?Ba(we):null}):oe!==null?Ba(oe):null:null}(),sn=kP(x),Te=kv(na||vu,N,x),Rt=AP(N,x),wu=kt?gu:null,or=Rt.indexOf(Te)<Rt.length-1,la=Rt.indexOf(Te)>0,nt=A.useCallback(function(oe){var we=function(){switch(sr){case"start":return Rv;case"end":return DP;case"range":return U5;default:throw new Error("Invalid returnValue.")}}();return we({maxDate:V,maxDetail:x,minDate:I,value:oe})},[V,x,I,sr]),Rs=A.useCallback(function(oe,we){Nn(oe);var ye={action:we,activeStartDate:oe,value:tt,view:Te};q&&!pc(et,oe)&&q(ye)},[et,q,tt,Te]),On=A.useCallback(function(oe,we){var ye=function(){switch(Te){case"century":return pe;case"decade":return $e;case"year":return ot;case"month":return ee;default:throw new Error("Invalid view: ".concat(Te,"."))}}();ye&&ye(oe,we)},[ee,pe,ot,$e,Te]),ar=A.useCallback(function(oe,we){if(or){On(oe,we);var ye=Rt[Rt.indexOf(Te)+1];if(!ye)throw new Error("Attempted to drill down from the lowest view.");Nn(oe),Ur(ye);var Ft={action:"drillDown",activeStartDate:oe,value:tt,view:ye};q&&!pc(et,oe)&&q(Ft),jt&&Te!==ye&&jt(Ft),Ke&&Ke(Ft)}},[et,or,q,On,Ke,jt,tt,Te,Rt]),ua=A.useCallback(function(){if(la){var oe=Rt[Rt.indexOf(Te)-1];if(!oe)throw new Error("Attempted to drill up from the highest view.");var we=os(oe,et);Nn(we),Ur(oe);var ye={action:"drillUp",activeStartDate:we,value:tt,view:oe};q&&!pc(et,we)&&q(ye),jt&&Te!==oe&&jt(ye),rr&&rr(ye)}},[et,la,q,rr,jt,tt,Te,Rt]),ca=A.useCallback(function(oe,we){var ye=tt;On(oe,we);var Ft=kt&&!fp(ye),Ut;if(kt)if(Ft)Ut=os(sn,oe);else{if(!ye)throw new Error("previousValue is required");if(Array.isArray(ye))throw new Error("previousValue must not be an array");Ut=s5(sn,ye,oe)}else Ut=nt(oe);var Bi=!kt||Ft||_?NP({maxDate:V,maxDetail:x,minDate:I,minDetail:N,value:Ut,view:Te}):null;we.persist(),Nn(Bi),oa(Ut);var ha={action:"onChange",activeStartDate:Bi,value:Ut,view:Te};if(q&&!pc(et,Bi)&&q(ha),Q)if(kt){var Eu=fp(Ut);if(!Eu)Q(Ut||null,we);else if(i){if(Array.isArray(Ut))throw new Error("value must not be an array");Q([Ut||null,null],we)}}else Q(Ut||null,we)},[et,i,nt,_,V,x,I,N,q,Q,On,kt,tt,sn,Te]);function Br(oe){ks(oe)}function da(){ks(null)}A.useImperativeHandle(n,function(){return{activeStartDate:et,drillDown:ar,drillUp:ua,onChange:ca,setActiveStartDate:Rs,value:tt,view:Te}},[et,ar,ua,ca,Rs,tt,Te]);function _u(oe){var we=oe?EP(Te,et):os(Te,et),ye=or?ar:ca,Ft={activeStartDate:we,hover:wu,locale:D,maxDate:V,minDate:I,onClick:ye,onMouseOver:kt?Br:void 0,tileClassName:ta,tileContent:Ze,tileDisabled:at,value:tt,valueType:sn};switch(Te){case"century":return v.jsx(y5,io({formatYear:P,showNeighboringCentury:Jo},Ft));case"decade":return v.jsx(T5,io({formatYear:P,showNeighboringDecade:pu},Ft));case"year":return v.jsx(b5,io({formatMonth:f,formatMonthYear:m},Ft));case"month":return v.jsx(V5,io({calendarType:s,formatDay:d,formatLongDate:h,formatShortWeekday:w,formatWeekday:E,onClickWeekNumber:yt,onMouseLeave:kt?da:void 0,showFixedNumberOfWeeks:typeof hu<"u"?hu:Ui,showNeighboringMonth:Zo,showWeekNumbers:ea},Ft));default:throw new Error("Invalid view: ".concat(Te,"."))}}function Ds(){return fu?v.jsx(l5,{activeStartDate:et,drillUp:ua,formatMonthYear:m,formatYear:P,locale:D,maxDate:V,minDate:I,navigationAriaLabel:R,navigationAriaLive:U,navigationLabel:B,next2AriaLabel:j,next2Label:K,nextAriaLabel:F,nextLabel:W,prev2AriaLabel:Kt,prev2Label:vt,prevAriaLabel:ir,prevLabel:Fi,setActiveStartDate:Rs,showDoubleView:Ui,view:Te,views:Rt}):null}var Tu=Array.isArray(tt)?tt:[tt];return v.jsxs("div",{className:Uh(fc,kt&&Tu.length===1&&"".concat(fc,"--selectRange"),Ui&&"".concat(fc,"--doubleView"),o),ref:T,children:[Ds(),v.jsxs("div",{className:"".concat(fc,"__viewContainer"),onBlur:kt?da:void 0,onMouseLeave:kt?da:void 0,children:[_u(),Ui?_u(!0):null]})]})});const qh=z5;const $5=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(""),[i,s]=A.useState(!1),[o,a]=A.useState(!1),[l,u]=A.useState(""),[d,h]=A.useState([]),[f,m]=A.useState([]),[w,E]=A.useState([]),P=wn(),{user:g}=A.useContext(Qo),[_,T]=A.useState((g==null?void 0:g.displayName)||""),[D,O]=A.useState((g==null?void 0:g.email)||""),[V,b]=A.useState(localStorage.getItem("phone")||"");gy(No);const x=Ah(No);A.useEffect(()=>{(async()=>{const R=(await kh(mn(x,"availableSlots"))).docs.map(j=>({id:j.id,...j.data()}));h(R);const U=new Set(R.map(j=>j.date.toDate().toDateString())),B=Array.from(U).map(j=>new Date(j));m(B),console.log("전체 스케줄:",R),console.log("사용 가능한 날짜들:",B),console.log("토요일 스케줄:",R.filter(j=>j.date.toDate().getDay()===6))})()},[]),A.useEffect(()=>{if(t){const k=d.filter(N=>N.date.toDate().toDateString()===t.toDateString()).map(N=>N.time).sort((N,R)=>{const U=B=>{const[j,K]=B.split(":").map(Number);return j*60+K};return U(N)-U(R)});E(k),r("")}else E([]),r("")},[t,d]),A.useEffect(()=>{if(i){const k=setTimeout(()=>{P("/")},5e3);return()=>clearTimeout(k)}},[i,P]),A.useEffect(()=>{g&&(T(g.displayName||""),O(g.email||""))},[g]),A.useEffect(()=>{localStorage.setItem("phone",V)},[V]);const S=async k=>{if(k.preventDefault(),u(""),!_.trim()||!V.trim()){u("이름과 전화번호를 입력해주세요.");return}if(t&&n){a(!0);try{await ki(mn(x,"reservations"),{userId:(g==null?void 0:g.uid)||"anonymous",userName:(g==null?void 0:g.displayName)||(g==null?void 0:g.email)||"익명",name:_,phone:V,date:le.fromDate(t),time:n,createdAt:le.now()}),s(!0)}catch{u("예약 저장 중 오류가 발생했습니다.")}finally{a(!1)}}},I=({date:k})=>!f.some(N=>N.toDateString()===k.toDateString());return v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[v.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"무료 시범 강의 신청"}),i?v.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[v.jsx("div",{className:"text-center text-xl text-green-400 mb-4",children:"예약이 완료되었습니다!"}),v.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>P("/"),children:"확인"}),v.jsx("div",{className:"text-gray-400 text-sm mt-4",children:"5초 후 메인화면으로 이동합니다."})]}):v.jsxs("form",{onSubmit:S,className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),v.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:_,onChange:k=>T(k.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),v.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:D,onChange:k=>O(k.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),v.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:V,onChange:k=>b(k.target.value),required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),v.jsx(qh,{onChange:k=>e(k),value:t,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden",tileDisabled:I})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2 mt-4",children:"시간 선택"}),v.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[!t&&v.jsx("div",{className:"col-span-4 text-gray-400 text-center py-4",children:"날짜를 먼저 선택해주세요."}),t&&w.length===0&&v.jsx("div",{className:"col-span-4 text-gray-400 text-center py-4",children:"선택한 날짜에 가능한 시간이 없습니다."}),w.map(k=>v.jsx("button",{type:"button",className:`px-2 py-2 rounded-lg border text-white ${n===k?"bg-primary-600 border-primary-600":"bg-dark-700 border-gray-600"}`,onClick:()=>r(k),children:k},k))]})]}),l&&v.jsx("div",{className:"text-red-400 text-center mb-2",children:l}),v.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:!t||!n||o,children:o?"예약 중...":"예약하기"})]})]})})},W5=["joyjisunlee0123@gmail.com"],H5=()=>{const t=gy(),e=t.currentUser,n=e&&W5.includes(e.email||""),r=wn(),i=async()=>{try{await t.signOut(),r("/")}catch{console.error("로그아웃 중 오류 발생")}};return e?n?v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-4xl",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-bold text-center",children:"관리자 대시보드"}),v.jsxs("button",{onClick:i,className:"text-gray-400 hover:text-white underline text-sm flex items-center gap-1",children:[v.jsx(CM,{size:16}),"로그아웃"]})]}),v.jsxs("div",{className:"text-center mb-8",children:[v.jsxs("p",{className:"text-gray-300 mb-2",children:["안녕하세요, ",e.displayName||e.email,"님!"]}),v.jsx("p",{className:"text-gray-400 text-sm",children:"스케줄 관리를 선택해주세요."})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-dark-700 p-6 rounded-lg border border-gray-600 hover:border-primary-500 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(bM,{className:"text-primary-400",size:24}),v.jsx("h3",{className:"text-xl font-semibold",children:"무료 시범강의 스케줄"})]}),v.jsx("p",{className:"text-gray-300 mb-4",children:"무료 시범강의의 시간대를 관리합니다. 매주 일요일 오전 9시에 자동으로 다음 주 스케줄이 생성됩니다."}),v.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:[v.jsx("strong",{children:"생성되는 시간:"}),v.jsx("br",{}),"월요일: 14:00, 15:00, 16:00",v.jsx("br",{}),"화요일: 14:00, 15:00, 16:00, 20:00, 21:00",v.jsx("br",{}),"수요일: 14:00, 15:00, 16:00, 22:00",v.jsx("br",{}),"목요일: 14:00, 15:00, 16:00, 20:00, 21:00, 22:00",v.jsx("br",{}),"금요일: 14:00, 15:00",v.jsx("br",{}),"토요일: 09:00, 14:00, 15:00, 16:00, 17:00"]}),v.jsx("button",{onClick:()=>r("/admin/schedule"),className:"btn-primary w-full",children:"무료 시범강의 스케줄 관리"})]}),v.jsxs("div",{className:"bg-dark-700 p-6 rounded-lg border border-gray-600 hover:border-primary-500 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(kM,{className:"text-primary-400",size:24}),v.jsx("h3",{className:"text-xl font-semibold",children:"그룹 클래스 스케줄"})]}),v.jsx("p",{className:"text-gray-300 mb-4",children:"그룹 클래스의 개설일을 관리합니다. 매주 화요일 오전 8시에 자동으로 다음 주 스케줄이 생성됩니다."}),v.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:[v.jsx("strong",{children:"생성되는 시간:"}),v.jsx("br",{}),"월요일: 14:00, 15:00, 16:00",v.jsx("br",{}),"화요일: 14:00, 15:00, 16:00, 20:00, 21:00",v.jsx("br",{}),"수요일: 14:00, 15:00, 16:00, 22:00",v.jsx("br",{}),"목요일: 14:00, 15:00, 16:00, 20:00, 21:00, 22:00",v.jsx("br",{}),"금요일: 14:00, 15:00, 16:00, 20:00, 21:00, 22:00",v.jsx("br",{}),"토요일: 09:00, 10:00, 11:00, 12:00"]}),v.jsx("button",{onClick:()=>r("/admin/group-class-schedule"),className:"btn-primary w-full",children:"그룹 클래스 스케줄 관리"})]})]}),v.jsx("div",{className:"mt-8 text-center",children:v.jsx("button",{onClick:()=>r("/"),className:"text-gray-400 hover:text-white underline",children:"메인 페이지로 돌아가기"})})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):v.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})};const bE={1:["14:00","15:00","16:00","19:00","20:00","21:00","22:00","23:00"],2:["14:00","15:00","16:00","19:00","20:00","21:00","22:00","23:00"],3:["14:00","15:00","16:00","19:00","20:00","21:00","22:00","23:00"],4:["14:00","15:00","16:00","19:00","20:00","21:00","22:00","23:00"],5:["14:00","15:00","16:00","19:00","20:00","21:00","22:00","23:00"],6:["09:00","10:00","11:00","12:00","13:00","14:00","15:00"]},G5=["joyjisunlee0123@gmail.com"],q5=()=>{const t=Un.currentUser,e=t&&G5.includes(t.email||""),n=wn(),[r,i]=A.useState(null),[s,o]=A.useState(""),[a,l]=A.useState([]),[u,d]=A.useState(!1),[h,f]=A.useState(""),[m,w]=A.useState([]),[E,P]=A.useState(!1),[g,_]=A.useState(!1),[T,D]=A.useState(null),O=async()=>{try{console.log("Starting admin access check..."),Un.currentUser&&Un.currentUser.email==="joyjisunlee0123@gmail.com"?(console.log("Admin access confirmed"),await Un.currentUser.getIdToken(!0),console.log("Token refreshed"),await V()):console.log("User not authorized as admin")}catch(B){console.error("Error checking admin access:",B)}},V=async()=>{try{d(!0),console.log("Fetching slots...");const B=await kh(mn(Bn,"availableSlots"));console.log("Slots fetched successfully:",B.docs.length),l(B.docs.map(j=>({id:j.id,...j.data()})))}catch(B){console.error("Error fetching slots:",B)}finally{d(!1)}},b=async()=>{_(!0);try{const B=new Date,j=new Date(B);for(;j.getDay()!==0;)j.setDate(j.getDate()+1);for(let K=1;K<=6;K++){const F=new Date(j);F.setDate(j.getDate()+K);const W=bE[K];if(W)for(const q of W)a.find(ee=>ee.date&&ee.date.toDate&&ee.date.toDate().toDateString()===F.toDateString()&&ee.time===q)||await ki(mn(Bn,"availableSlots"),{date:le.fromDate(F),time:q,createdAt:le.now()})}await V(),P(!0),setTimeout(()=>P(!1),3e3)}catch{f("자동 업데이트 중 오류 발생")}finally{_(!1)}};A.useEffect(()=>{const B=()=>{const K=new Date;if(K.getDay()===0){const F=K.getHours(),W=K.getMinutes();F===9&&W<10&&(console.log("자동 스케줄 업데이트 실행:",K.toLocaleString()),b())}};B();const j=setInterval(B,10*60*1e3);return()=>clearInterval(j)},[a]),A.useEffect(()=>{O()},[]),A.useEffect(()=>{if(r){const B=r.getDay();w(bE[B]||[]),o("")}else w([]),o("")},[r]);const x=async()=>{if(f(""),!(!r||!s)){d(!0);try{await ki(mn(Bn,"availableSlots"),{date:le.fromDate(r),time:s,createdAt:le.now()}),i(null),o(""),V(),P(!0)}catch{f("추가 중 오류 발생")}finally{d(!1)}}},S=async B=>{d(!0);try{await ob($y(Bn,"availableSlots",B)),V()}catch{f("삭제 중 오류 발생")}finally{d(!1)}},I=async()=>{try{await Un.signOut(),n("/")}catch{f("로그아웃 중 오류 발생")}},N=[...T?a.filter(B=>(B.date&&B.date.toDate?B.date.toDate().toISOString().split("T")[0]:"")===T.toISOString().split("T")[0]):a].sort((B,j)=>{const K=B.date&&B.date.toDate?B.date.toDate():new Date(0),F=j.date&&j.date.toDate?j.date.toDate():new Date(0);return K.getTime()!==F.getTime()?K.getTime()-F.getTime():B.time.localeCompare(j.time)}),R=B=>{T&&T.toDateString()===B.toDateString()?D(null):D(B)},U=({date:B,view:j})=>{if(j!=="month")return"";let K="";return B.getDay()===0?K+=" calendar-sunday":B.getDay()===6&&(K+=" calendar-saturday"),T&&B.toDateString()===T.toDateString()&&(K+=" bg-primary-600 text-white"),K};return t?e?v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-bold text-center",children:"관리자 시간대 관리"}),v.jsx("button",{onClick:I,className:"text-gray-400 hover:text-white underline text-sm",children:"로그아웃"})]}),E&&v.jsx("div",{className:"text-xl text-green-400 mb-6 text-center",children:"스케쥴이 성공적으로 등록되었습니다!"}),v.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-semibold mb-3 text-center",children:"자동 스케줄 업데이트"}),v.jsxs("p",{className:"text-sm text-gray-400 mb-3 text-center",children:["매주 일요일 오전 9시에 자동으로 다음 주 스케줄이 생성됩니다.",v.jsx("br",{}),v.jsx("span",{className:"text-primary-300",children:"지금 바로 다음 주 스케줄을 생성하려면 아래 버튼을 클릭하세요."})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("button",{className:"btn-primary w-full",onClick:b,disabled:g,children:g?"업데이트 중...":"다음 주 스케줄 즉시 생성"}),v.jsx("div",{className:"text-xs text-gray-500 text-center",children:"생성될 시간: 월요일 14:00,15:00,16:00 | 화요일 14:00,15:00,16:00,20:00,21:00 | 수요일 14:00,15:00,16:00,22:00 | 목요일 14:00,15:00,16:00,20:00,21:00,22:00 | 금요일 14:00,15:00 | 토요일 09:00,14:00,15:00,16:00,17:00"})]})]}),v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),v.jsx(qh,{onChange:B=>i(B),value:r,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden calendar-custom",onClickDay:R,tileClassName:U})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택 (해당 요일만 표시)"}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.length===0&&v.jsx("div",{className:"col-span-3 text-gray-400",children:"날짜를 선택하세요."}),m.map(B=>v.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${s===B?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>o(B),children:B},B))]})]}),v.jsx("button",{className:"btn-primary w-full mb-4 mt-2",onClick:x,disabled:!r||!s||u,children:u?"추가 중...":"시간대 추가"}),h&&v.jsx("div",{className:"text-red-400 text-center mb-2",children:h}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"등록된 시간대"}),T&&v.jsx("div",{className:"mb-4 p-3 bg-primary-900 border border-primary-700 rounded-lg",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("span",{className:"text-primary-200",children:[T.toLocaleDateString()," 필터링 중"]}),v.jsx("button",{onClick:()=>D(null),className:"text-primary-300 hover:text-primary-100 underline text-sm",children:"필터 해제"})]})}),u?v.jsx("div",{className:"text-gray-400",children:"불러오는 중..."}):v.jsx("ul",{className:"space-y-2",children:N.map(B=>v.jsxs("li",{className:"flex justify-between items-center bg-dark-700 rounded px-4 py-2",children:[v.jsxs("span",{children:[B.date&&B.date.toDate?B.date.toDate().toLocaleDateString():""," ",B.time]}),v.jsx("button",{className:"text-red-400 underline text-sm",onClick:()=>S(B.id),children:"삭제"})]},B.id))}),!u&&N.length===0&&v.jsx("div",{className:"text-gray-400 text-center py-4",children:T?"선택한 날짜에 등록된 시간대가 없습니다.":"등록된 시간대가 없습니다."})]}),v.jsx("div",{className:"flex justify-center mt-8",children:v.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>n("/admin"),children:"관리자 대시보드로 돌아가기"})})]})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):v.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})},K5=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[l,u]=A.useState(""),[d,h]=A.useState(!1),[f,m]=A.useState(!1),[w,E]=A.useState(""),[P,g]=A.useState([]),[_,T]=A.useState([]),[D,O]=A.useState([]),V=wn(),{user:b}=A.useContext(Qo);A.useEffect(()=>{(async()=>{const N=(await kh(mn(Bn,"availableSlots"))).docs.map(U=>({id:U.id,...U.data()}));g(N);const R=new Set(N.map(U=>U.date.toDate().toDateString()));T(Array.from(R).map(U=>new Date(U)))})()},[]),A.useEffect(()=>{b&&(s(b.displayName||""),a(b.email||""))},[b]),A.useEffect(()=>{localStorage.setItem("phone",l)},[l]),A.useEffect(()=>{if(t){const I=t.toDateString(),k=P.filter(N=>N.date.toDate().toDateString()===I).map(N=>N.time).sort((N,R)=>{const U=B=>{const[j,K]=B.split(":").map(Number);return j*60+K};return U(N)-U(R)});O(k),r("")}else O([]),r("")},[t,P]),A.useEffect(()=>{if(d){const I=setTimeout(()=>{V("/")},5e3);return()=>clearTimeout(I)}},[d,V]);const x=async I=>{if(I.preventDefault(),E(""),!i.trim()||!l.trim()){E("이름과 전화번호를 입력해주세요.");return}if(!t||!n){E("날짜와 시간을 선택해주세요.");return}m(!0);try{await ki(mn(Bn,"groupClassReservations"),{userId:(b==null?void 0:b.uid)||"anonymous",userName:(b==null?void 0:b.displayName)||(b==null?void 0:b.email)||"익명",name:i,phone:l,date:le.fromDate(t),time:n,createdAt:le.now()}),h(!0)}catch{E("예약 저장 중 오류가 발생했습니다.")}finally{m(!1)}},S=({date:I})=>!_.some(k=>k.toDateString()===I.toDateString());return v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-4xl flex flex-col md:flex-row gap-8",children:[v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1513258496099-48168024aec0?auto=format&fit=crop&w=400&q=80",alt:"Group Class",className:"rounded-2xl w-full max-w-xs object-cover shadow-lg"})}),v.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"그룹 클래스 예약"}),v.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:["Joy English의 그룹 클래스는 소수 정예로 진행되며, 실전 회화와 다양한 액티비티를 통해 영어 실력을 빠르게 향상시킬 수 있습니다.",v.jsx("br",{}),"아래 개설일 중 원하는 날짜와 시간을 선택하고 예약해 주세요!"]}),d?v.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[v.jsx("div",{className:"text-center text-xl text-green-400 mb-4",children:"예약이 완료되었습니다!"}),v.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>V("/"),children:"확인"}),v.jsx("div",{className:"text-gray-400 text-sm mt-4",children:"5초 후 메인화면으로 이동합니다."})]}):v.jsxs("form",{className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),v.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:i,onChange:I=>s(I.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),v.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:o,onChange:I=>a(I.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),v.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:l,onChange:I=>u(I.target.value),required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"개설일 선택"}),v.jsx(qh,{onChange:I=>e(I),value:t,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden",tileDisabled:S})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택"}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[!t&&v.jsx("div",{className:"col-span-3 text-gray-400 text-center py-4",children:"날짜를 먼저 선택해주세요."}),t&&D.length===0&&v.jsx("div",{className:"col-span-3 text-gray-400 text-center py-4",children:"선택한 날짜에 가능한 시간이 없습니다."}),D.map(I=>v.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${n===I?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>r(I),children:I},I))]})]}),w&&v.jsx("div",{className:"text-red-400 text-center mb-2",children:w}),v.jsx("button",{type:"button",className:"btn-primary w-full mt-4",disabled:f,onClick:x,children:f?"예약 중...":"클래스 예약하기"})]})]})]})})},CE={1:["14:00","15:00","16:00"],2:["14:00","15:00","16:00","20:00","21:00"],3:["14:00","15:00","16:00","22:00"],4:["14:00","15:00","16:00","20:00","21:00","22:00"],5:["14:00","15:00","16:00","20:00","21:00","22:00"],6:["09:00","10:00","11:00","12:00"]},Y5=["joyjisunlee0123@gmail.com"],Q5=()=>{const t=Un.currentUser,e=t&&Y5.includes(t.email||""),n=wn(),[r,i]=A.useState(null),[s,o]=A.useState(""),[a,l]=A.useState([]),[u,d]=A.useState(!1),[h,f]=A.useState(""),[m,w]=A.useState([]),[E,P]=A.useState(!1),[g,_]=A.useState(!1),[T,D]=A.useState(null),O=async()=>{d(!0);const U=await kh(mn(Bn,"groupClassSlots"));l(U.docs.map(B=>({id:B.id,...B.data()}))),d(!1)},V=async()=>{_(!0);try{const U=new Date,B=new Date(U);for(;B.getDay()!==0;)B.setDate(B.getDate()+1);for(let j=1;j<=6;j++){const K=new Date(B);K.setDate(B.getDate()+j);const F=CE[j];if(F)for(const W of F)a.find(Q=>Q.date&&Q.date.toDate&&Q.date.toDate().toDateString()===K.toDateString()&&Q.time===W)||await ki(mn(Bn,"groupClassSlots"),{date:le.fromDate(K),time:W,createdAt:le.now()})}await O(),P(!0),setTimeout(()=>P(!1),3e3)}catch{f("자동 업데이트 중 오류 발생")}finally{_(!1)}};A.useEffect(()=>{const U=()=>{const j=new Date;if(j.getDay()===2){const K=j.getHours(),F=j.getMinutes();K===8&&F<10&&(console.log("자동 그룹 클래스 스케줄 업데이트 실행:",j.toLocaleString()),V())}};U();const B=setInterval(U,10*60*1e3);return()=>clearInterval(B)},[a]),A.useEffect(()=>{O()},[]),A.useEffect(()=>{if(r){const U=r.getDay();w(CE[U]||[]),o("")}else w([]),o("")},[r]);const b=async()=>{if(f(""),!(!r||!s)){d(!0);try{if(a.some(B=>B.date&&B.date.toDate&&B.date.toDate().toDateString()===r.toDateString()&&B.time===s)){f("이미 등록된 날짜와 시간입니다."),d(!1);return}await ki(mn(Bn,"groupClassSlots"),{date:le.fromDate(r),time:s,createdAt:le.now()}),i(null),o(""),O(),P(!0)}catch{f("추가 중 오류 발생")}finally{d(!1)}}},x=async U=>{d(!0);try{await ob($y(Bn,"groupClassSlots",U)),O()}catch{f("삭제 중 오류 발생")}finally{d(!1)}},S=async()=>{try{await Un.signOut(),n("/")}catch{f("로그아웃 중 오류 발생")}},k=[...T?a.filter(U=>(U.date&&U.date.toDate?U.date.toDate().toISOString().split("T")[0]:"")===T.toISOString().split("T")[0]):a].sort((U,B)=>{const j=U.date&&U.date.toDate?U.date.toDate():new Date(0),K=B.date&&B.date.toDate?B.date.toDate():new Date(0);if(j.getTime()!==K.getTime())return j.getTime()-K.getTime();const F=U.time,W=B.time,q=Q=>{const[ee,pe]=Q.split(":").map(Number);return ee*60+pe};return q(F)-q(W)}),N=U=>{T&&T.toDateString()===U.toDateString()?D(null):D(U)},R=({date:U,view:B})=>{if(B!=="month")return"";let j="";return U.getDay()===0?j+=" calendar-sunday":U.getDay()===6&&(j+=" calendar-saturday"),T&&U.toDateString()===T.toDateString()&&(j+=" bg-primary-600 text-white"),j};return t?e?v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-bold text-center",children:"그룹 클래스 개설일 관리"}),v.jsx("button",{onClick:S,className:"text-gray-400 hover:text-white underline text-sm",children:"로그아웃"})]}),E&&v.jsx("div",{className:"text-xl text-green-400 mb-6 text-center",children:"스케쥴이 성공적으로 등록되었습니다!"}),v.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-semibold mb-3 text-center",children:"자동 스케줄 업데이트"}),v.jsxs("p",{className:"text-sm text-gray-400 mb-3 text-center",children:["매주 화요일 오전 8시에 자동으로 다음 주 스케줄이 생성됩니다.",v.jsx("br",{}),v.jsx("span",{className:"text-primary-300",children:"지금 바로 다음 주 스케줄을 생성하려면 아래 버튼을 클릭하세요."})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("button",{className:"btn-primary w-full",onClick:V,disabled:g,children:g?"업데이트 중...":"다음 주 스케줄 즉시 생성"}),v.jsx("div",{className:"text-xs text-gray-500 text-center",children:"생성될 시간: 월요일 14:00,15:00,16:00 | 화요일 14:00,15:00,16:00,20:00,21:00 | 수요일 14:00,15:00,16:00,22:00 | 목요일 14:00,15:00,16:00,20:00,21:00,22:00 | 금요일 14:00,15:00,16:00,20:00,21:00,22:00 | 토요일 09:00,10:00,11:00,12:00"})]})]}),v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),v.jsx(qh,{onChange:U=>i(U),value:r,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden calendar-custom",tileClassName:R,onClickDay:U=>N(U)})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택 (해당 요일만 표시)"}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.length===0&&v.jsx("div",{className:"col-span-3 text-gray-400",children:"날짜를 선택하세요."}),m.map(U=>v.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${s===U?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>o(U),children:U},U))]})]}),v.jsx("button",{className:"btn-primary w-full mb-4 mt-2",onClick:b,disabled:!r||!s||u,children:u?"추가 중...":"개설일 추가"}),h&&v.jsx("div",{className:"text-red-400 text-center mb-2",children:h}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"등록된 개설일"}),T&&v.jsx("div",{className:"mb-4 p-3 bg-primary-900 border border-primary-700 rounded-lg",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("span",{className:"text-primary-200",children:[T.toLocaleDateString()," 필터링 중"]}),v.jsx("button",{onClick:()=>D(null),className:"text-primary-300 hover:text-primary-100 underline text-sm",children:"필터 해제"})]})}),u?v.jsx("div",{className:"text-gray-400",children:"불러오는 중..."}):v.jsx("ul",{className:"space-y-2",children:k.map(U=>v.jsxs("li",{className:"flex justify-between items-center bg-dark-700 rounded px-4 py-2",children:[v.jsxs("span",{children:[U.date&&U.date.toDate?U.date.toDate().toLocaleDateString():""," ",U.time]}),v.jsx("button",{className:"text-red-400 underline text-sm",onClick:()=>x(U.id),children:"삭제"})]},U.id))}),!u&&k.length===0&&v.jsx("div",{className:"text-gray-400 text-center py-4",children:T?"선택한 날짜에 등록된 개설일이 없습니다.":"등록된 개설일이 없습니다."})]}),v.jsx("div",{className:"flex justify-center mt-8",children:v.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>n("/admin"),children:"관리자 대시보드로 돌아가기"})})]})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):v.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})},X5=()=>{const[t,e]=A.useState(""),n=wn();A.useContext(Qo);const r=()=>{const s=[],o=new Date;let a=new Date(o);for(;a.getDay()!==6;)a.setDate(a.getDate()+1);for(let l=0;l<4;l++){const u=new Date(a);u.setDate(a.getDate()+l*7),s.push(u)}return s},i=()=>{if(!t){alert("날짜를 선택해주세요.");return}n("/payment",{state:{paymentData:{type:"toto-room",date:t,amount:5e3}}})};return v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-6xl flex flex-col md:flex-row gap-8",children:[v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&w=500&q=80",alt:"Online Discussion",className:"rounded-2xl w-full max-w-md object-cover shadow-lg"})}),v.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"토토방 (토요토론방)"}),v.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:["매주 토요일 진행되는 온라인 토론방입니다!",v.jsx("br",{}),"다양한 주제로 영어로 자유롭게 토론하며 실력을 키워보세요.",v.jsx("br",{}),"소수 정예로 진행되어 개인별 피드백도 받을 수 있습니다."]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"참가 혜택"}),v.jsxs("ul",{className:"text-gray-300 space-y-1",children:[v.jsx("li",{children:"• 실시간 영어 토론 연습"}),v.jsx("li",{children:"• 다양한 주제로 흥미로운 대화"}),v.jsx("li",{children:"• 소수 정예 (최대 6명)"}),v.jsx("li",{children:"• 30분 topic 분석 강의"}),v.jsx("li",{children:"• 30분 개별 토론"})]})]}),v.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"참가비"}),v.jsx("p",{className:"text-2xl font-bold text-primary-400",children:"5,000원"}),v.jsx("p",{className:"text-sm text-gray-400",children:"1회 참가 (60분)"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"참가 날짜 선택"}),v.jsx("div",{className:"grid grid-cols-2 gap-3",children:r().map((s,o)=>v.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${t===s.toISOString().split("T")[0]?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>e(s.toISOString().split("T")[0]),children:s.toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short"})},o))})]}),v.jsx("button",{className:"btn-primary w-full py-4 text-lg font-bold",onClick:i,disabled:!t,children:"신청하기"})]})]})]})})},J5=()=>{var O;const[t,e]=A.useState("");A.useState(""),A.useState(""),A.useState("");const[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,a]=A.useState(""),l=wn(),u=Mr(),{user:d}=A.useContext(Qo),h=Ah(No),f=((O=u.state)==null?void 0:O.paymentData)||{type:"toto-room",date:"",amount:15e3},[m,w]=A.useState((d==null?void 0:d.displayName)||""),[E,P]=A.useState((d==null?void 0:d.email)||""),[g,_]=A.useState(localStorage.getItem("phone")||"");A.useEffect(()=>{if(!d){l("/login",{state:{from:"/payment",paymentData:f}});return}},[d,l]),A.useEffect(()=>{d&&(w(d.displayName||""),P(d.email||""))},[d]),A.useEffect(()=>{localStorage.setItem("phone",g)},[g]),A.useEffect(()=>{if(i){const V=setTimeout(()=>{l("/")},3e3);return()=>clearTimeout(V)}},[i,l]);const T=async V=>{if(V.preventDefault(),a(""),!m.trim()||!E.trim()||!g.trim()){a("이름, 이메일, 전화번호를 모두 입력해주세요.");return}r(!0);try{await new Promise(b=>setTimeout(b,2e3)),await ki(mn(h,"payments"),{userId:d==null?void 0:d.uid,userName:(d==null?void 0:d.displayName)||(d==null?void 0:d.email)||"익명",type:f.type,date:f.date,amount:f.amount,cardLast4:t.replace(/\s/g,"").slice(-4),status:"completed",createdAt:le.now()}),await D(),s(!0)}catch{a("결제 처리 중 오류가 발생했습니다.")}finally{r(!1)}},D=async()=>{console.log("이메일 알림 전송:",{to:d==null?void 0:d.email,subject:"토토방 결제 완료",body:`${f.date} 토토방 참가 신청이 완료되었습니다.`})};return i?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-900",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg text-center",children:[v.jsx("div",{className:"text-6xl mb-4",children:"✅"}),v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"결제가 완료되었습니다!"}),v.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:[f.date," 토토방 참가 신청이 완료되었습니다.",v.jsx("br",{}),"입금 확인 후 24시간 이내 안내 이메일이 발송됩니다."]}),v.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>l("/"),children:"확인"})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-900 py-12",children:v.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-md",children:[v.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"결제"}),v.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"결제 정보"}),v.jsxs("p",{className:"text-gray-300",children:["토토방 참가비: ",f.amount.toLocaleString(),"원"]}),v.jsxs("p",{className:"text-gray-300",children:["참가 날짜: ",f.date]})]}),v.jsxs("div",{className:"mb-6 p-4 bg-blue-900 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-300",children:"송금 안내"}),v.jsx("p",{className:"text-gray-300 mb-2",children:"아래 계좌로 송금해주세요:"}),v.jsxs("div",{className:"bg-dark-800 p-3 rounded",children:[v.jsx("p",{className:"text-white font-mono",children:" 국민 04850100056471"}),v.jsx("p",{className:"text-white font-mono",children:"예금주: (주)비잉"})]})]}),v.jsxs("form",{onSubmit:T,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),v.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:m,onChange:V=>w(V.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),v.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:E,onChange:V=>P(V.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),v.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:g,onChange:V=>_(V.target.value),required:!0})]}),o&&v.jsx("div",{className:"text-red-400 text-center",children:o}),v.jsx("button",{type:"submit",className:"btn-primary w-full py-3 text-lg",disabled:n,children:n?"결제 처리 중...":"송금 완료"})]})]})})},Z5=()=>{const t=wn();return A.useEffect(()=>{t("/")},[t]),null},Qo=A.createContext({user:null});function ez(){const[t,e]=A.useState(!1),[n,r]=A.useState(null);return A.useEffect(()=>{const i=QN(Un,s=>{r(s),console.log("Firebase 로그인 상태:",s)});return()=>i()},[]),v.jsx(Qo.Provider,{value:{user:n},children:v.jsx(s4,{children:v.jsxs("div",{className:"min-h-screen bg-dark-900",children:[v.jsx(m4,{isMenuOpen:t,setIsMenuOpen:e}),v.jsx("main",{children:v.jsxs(Oj,{children:[v.jsx(En,{path:"/",element:v.jsxs(v.Fragment,{children:[v.jsx(CU,{}),v.jsx(oB,{}),v.jsx(lB,{})]})}),v.jsx(En,{path:"/trial",element:v.jsx($5,{})}),v.jsx(En,{path:"/admin",element:v.jsx(H5,{})}),v.jsx(En,{path:"/admin/schedule",element:v.jsx(q5,{})}),v.jsx(En,{path:"/login",element:v.jsx(dB,{})}),v.jsx(En,{path:"/group-class",element:v.jsx(K5,{})}),v.jsx(En,{path:"/admin/group-class-schedule",element:v.jsx(Q5,{})}),v.jsx(En,{path:"/toto-room",element:v.jsx(X5,{})}),v.jsx(En,{path:"/payment",element:v.jsx(J5,{})}),v.jsx(En,{path:"/curriculum",element:v.jsx(Z5,{})})]})}),v.jsx(uB,{})]})})})}pp.createRoot(document.getElementById("root")).render(v.jsx(Pe.StrictMode,{children:v.jsx(ez,{})}));
