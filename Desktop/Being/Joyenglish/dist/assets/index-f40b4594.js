(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function XP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bE={exports:{}},Kd={},CE={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),JP=Symbol.for("react.portal"),ZP=Symbol.for("react.fragment"),eA=Symbol.for("react.strict_mode"),tA=Symbol.for("react.profiler"),nA=Symbol.for("react.provider"),rA=Symbol.for("react.context"),iA=Symbol.for("react.forward_ref"),sA=Symbol.for("react.suspense"),oA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),d0=Symbol.iterator;function lA(t){return t===null||typeof t!="object"?null:(t=d0&&t[d0]||t["@@iterator"],typeof t=="function"?t:null)}var PE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AE=Object.assign,kE={};function Vo(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||PE}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RE(){}RE.prototype=Vo.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||PE}var lg=ag.prototype=new RE;lg.constructor=ag;AE(lg,Vo.prototype);lg.isPureReactComponent=!0;var h0=Array.isArray,DE=Object.prototype.hasOwnProperty,ug={current:null},NE={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DE.call(e,r)&&!NE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ul,type:t,key:s,ref:o,props:i,_owner:ug.current}}function uA(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function cA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f0=/\/+/g;function rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cA(""+t.key):e.toString(36)}function mc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case JP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rf(o,0):r,h0(i)?(n="",t!=null&&(n=t.replace(f0,"$&/")+"/"),mc(i,e,n,"",function(u){return u})):i!=null&&(cg(i)&&(i=uA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",h0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rf(s,a);o+=mc(s,e,n,l,i)}else if(l=lA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rf(s,a++),o+=mc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vu(t,e,n){if(t==null)return t;var r=[],i=0;return mc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},gc={transition:null},hA={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:gc,ReactCurrentOwner:ug};function VE(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Vu,forEach:function(t,e,n){Vu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vu(t,function(){e++}),e},toArray:function(t){return Vu(t,function(e){return e})||[]},only:function(t){if(!cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Vo;ce.Fragment=ZP;ce.Profiler=tA;ce.PureComponent=ag;ce.StrictMode=eA;ce.Suspense=sA;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;ce.act=VE;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ug.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DE.call(e,l)&&!NE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ul,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:rA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nA,_context:t},t.Consumer=t};ce.createElement=OE;ce.createFactory=function(t){var e=OE.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:iA,render:t}};ce.isValidElement=cg;ce.lazy=function(t){return{$$typeof:aA,_payload:{_status:-1,_result:t},_init:dA}};ce.memo=function(t,e){return{$$typeof:oA,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=gc.transition;gc.transition={};try{t()}finally{gc.transition=e}};ce.unstable_act=VE;ce.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ce.useContext=function(t){return Vt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ce.useId=function(){return Vt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};ce.useRef=function(t){return Vt.current.useRef(t)};ce.useState=function(t){return Vt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Vt.current.useTransition()};ce.version="18.3.1";CE.exports=ce;var k=CE.exports;const Pe=XP(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=k,pA=Symbol.for("react.element"),mA=Symbol.for("react.fragment"),gA=Object.prototype.hasOwnProperty,yA=fA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vA={key:!0,ref:!0,__self:!0,__source:!0};function LE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gA.call(e,r)&&!vA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pA,type:t,key:s,ref:o,props:i,_owner:yA.current}}Kd.Fragment=mA;Kd.jsx=LE;Kd.jsxs=LE;bE.exports=Kd;var w=bE.exports,fp={},ME={exports:{}},nn={},jE={exports:{}},FE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var H=F.length;F.push(B);e:for(;0<H;){var K=H-1>>>1,ne=F[K];if(0<i(ne,B))F[K]=B,F[H]=ne,H=K;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],H=F.pop();if(H!==B){F[0]=H;e:for(var K=0,ne=F.length,oe=ne>>>1;K<oe;){var Ke=2*(K+1)-1,et=F[Ke],$e=Ke+1,Ye=F[$e];if(0>i(et,H))$e<ne&&0>i(Ye,et)?(F[K]=Ye,F[$e]=H,K=$e):(F[K]=et,F[Ke]=H,K=Ke);else if($e<ne&&0>i(Ye,H))F[K]=Ye,F[$e]=H,K=$e;else break e}}return B}function i(F,B){var H=F.sortIndex-B.sortIndex;return H!==0?H:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=F)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function D(F){if(T=!1,x(F),!y)if(n(l)!==null)y=!0,L(O);else{var B=n(u);B!==null&&W(D,B.startTime-F)}}function O(F,B){y=!1,T&&(T=!1,g(E),E=-1),m=!0;var H=f;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||F&&!A());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var ne=K(h.expirationTime<=B);B=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var oe=!0;else{var Ke=n(u);Ke!==null&&W(D,Ke.startTime-B),oe=!1}return oe}finally{h=null,f=H,m=!1}}var V=!1,I=null,E=-1,S=5,C=-1;function A(){return!(t.unstable_now()-C<S)}function N(){if(I!==null){var F=t.unstable_now();C=F;var B=!0;try{B=I(!0,F)}finally{B?R():(V=!1,I=null)}}else V=!1}var R;if(typeof _=="function")R=function(){_(N)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=N,R=function(){Z.postMessage(null)}}else R=function(){P(N,0)};function L(F){I=F,V||(V=!0,R())}function W(F,B){E=P(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,L(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return F()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=f;f=F;try{return B()}finally{f=H}},t.unstable_scheduleCallback=function(F,B,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,F={id:d++,callback:B,priorityLevel:F,startTime:H,expirationTime:ne,sortIndex:-1},H>K?(F.sortIndex=H,e(u,F),n(l)===null&&F===n(u)&&(T?(g(E),E=-1):T=!0,W(D,H-K))):(F.sortIndex=ne,e(l,F),y||m||(y=!0,L(O))),F},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(F){var B=f;return function(){var H=f;f=B;try{return F.apply(this,arguments)}finally{f=H}}}})(FE);jE.exports=FE;var wA=jE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A=k,en=wA;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UE=new Set,ll={};function ys(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(ll[t]=e,t=0;t<e.length;t++)UE.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=Object.prototype.hasOwnProperty,TA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p0={},m0={};function EA(t){return pp.call(m0,t)?!0:pp.call(p0,t)?!1:TA.test(t)?m0[t]=!0:(p0[t]=!0,!1)}function xA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SA(t,e,n,r){if(e===null||typeof e>"u"||xA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dg=/[\-:]([a-z])/g;function hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dg,hg);gt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dg,hg);gt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dg,hg);gt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SA(e,n,i,r)&&(n=null),r||i===null?EA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nr=_A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),zE=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),$E=Symbol.for("react.offscreen"),g0=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=g0&&t[g0]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,sf;function Na(t){if(sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sf=e&&e[1]||""}return`
`+sf+t}var of=!1;function af(t,e){if(!t||of)return"";of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{of=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function IA(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=af(t.type,!1),t;case 11:return t=af(t.type.render,!1),t;case 1:return t=af(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Bs:return"Portal";case mp:return"Profiler";case pg:return"StrictMode";case gp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gg:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function bA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CA(t){var e=WE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mu(t){t._valueTracker||(t._valueTracker=CA(t))}function HE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wp(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function y0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GE(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function _p(t,e){GE(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||$c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oa=Array.isArray;function so(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function w0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Oa(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function qE(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ju,YE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PA=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(t){PA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),za[e]=za[t]})});function QE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||za.hasOwnProperty(t)&&za[t]?(""+e).trim():e+"px"}function XE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AA=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(t,e){if(e){if(AA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bp=null;function yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cp=null,oo=null,ao=null;function T0(t){if(t=$l(t)){if(typeof Cp!="function")throw Error($(280));var e=t.stateNode;e&&(e=Zd(e),Cp(t.stateNode,t.type,e))}}function JE(t){oo?ao?ao.push(t):ao=[t]:oo=t}function ZE(){if(oo){var t=oo,e=ao;if(ao=oo=null,T0(t),e)for(t=0;t<e.length;t++)T0(e[t])}}function ex(t,e){return t(e)}function tx(){}var lf=!1;function nx(t,e,n){if(lf)return t(e,n);lf=!0;try{return ex(t,e,n)}finally{lf=!1,(oo!==null||ao!==null)&&(tx(),ZE())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Pp=!1;if(xr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Pp=!1}function kA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var $a=!1,Wc=null,Hc=!1,Ap=null,RA={onError:function(t){$a=!0,Wc=t}};function DA(t,e,n,r,i,s,o,a,l){$a=!1,Wc=null,kA.apply(RA,arguments)}function NA(t,e,n,r,i,s,o,a,l){if(DA.apply(this,arguments),$a){if($a){var u=Wc;$a=!1,Wc=null}else throw Error($(198));Hc||(Hc=!0,Ap=u)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E0(t){if(vs(t)!==t)throw Error($(188))}function OA(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return E0(i),t;if(s===r)return E0(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function ix(t){return t=OA(t),t!==null?sx(t):null}function sx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sx(t);if(e!==null)return e;t=t.sibling}return null}var ox=en.unstable_scheduleCallback,x0=en.unstable_cancelCallback,VA=en.unstable_shouldYield,LA=en.unstable_requestPaint,ze=en.unstable_now,MA=en.unstable_getCurrentPriorityLevel,vg=en.unstable_ImmediatePriority,ax=en.unstable_UserBlockingPriority,Gc=en.unstable_NormalPriority,jA=en.unstable_LowPriority,lx=en.unstable_IdlePriority,Yd=null,zn=null;function FA(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Yd,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:zA,UA=Math.log,BA=Math.LN2;function zA(t){return t>>>=0,t===0?32:31-(UA(t)/BA|0)|0}var Fu=64,Uu=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Va(a):(s&=o,s!==0&&(r=Va(s)))}else o=n&~i,o!==0?r=Va(o):s!==0&&(r=Va(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),i=1<<n,r|=t[n],e&=~i;return r}function $A(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=$A(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ux(){var t=Fu;return Fu<<=1,!(Fu&4194240)&&(Fu=64),t}function uf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function HA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function cx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dx,_g,hx,fx,px,Rp=!1,Bu=[],ii=null,si=null,oi=null,dl=new Map,hl=new Map,Yr=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S0(t,e){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(e.pointerId)}}function xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$l(e),e!==null&&_g(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qA(t,e,n,r,i){switch(e){case"focusin":return ii=xa(ii,t,e,n,r,i),!0;case"dragenter":return si=xa(si,t,e,n,r,i),!0;case"mouseover":return oi=xa(oi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,xa(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hl.set(s,xa(hl.get(s)||null,t,e,n,r,i)),!0}return!1}function mx(t){var e=Qi(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=rx(n),e!==null){t.blockedOn=e,px(t.priority,function(){hx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bp=r,n.target.dispatchEvent(r),bp=null}else return e=$l(n),e!==null&&_g(e),t.blockedOn=n,!1;e.shift()}return!0}function I0(t,e,n){yc(t)&&n.delete(e)}function KA(){Rp=!1,ii!==null&&yc(ii)&&(ii=null),si!==null&&yc(si)&&(si=null),oi!==null&&yc(oi)&&(oi=null),dl.forEach(I0),hl.forEach(I0)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,KA)))}function fl(t){function e(i){return Sa(i,t)}if(0<Bu.length){Sa(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ii!==null&&Sa(ii,t),si!==null&&Sa(si,t),oi!==null&&Sa(oi,t),dl.forEach(e),hl.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)mx(n),n.blockedOn===null&&Yr.shift()}var lo=Nr.ReactCurrentBatchConfig,Kc=!0;function YA(t,e,n,r){var i=ve,s=lo.transition;lo.transition=null;try{ve=1,Tg(t,e,n,r)}finally{ve=i,lo.transition=s}}function QA(t,e,n,r){var i=ve,s=lo.transition;lo.transition=null;try{ve=4,Tg(t,e,n,r)}finally{ve=i,lo.transition=s}}function Tg(t,e,n,r){if(Kc){var i=Dp(t,e,n,r);if(i===null)wf(t,e,r,Yc,n),S0(t,r);else if(qA(i,t,e,n,r))r.stopPropagation();else if(S0(t,r),e&4&&-1<GA.indexOf(t)){for(;i!==null;){var s=$l(i);if(s!==null&&dx(s),s=Dp(t,e,n,r),s===null&&wf(t,e,r,Yc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wf(t,e,r,null,n)}}var Yc=null;function Dp(t,e,n,r){if(Yc=null,t=yg(r),t=Qi(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function gx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MA()){case vg:return 1;case ax:return 4;case Gc:case jA:return 16;case lx:return 536870912;default:return 16}default:return 16}}var ei=null,Eg=null,vc=null;function yx(){if(vc)return vc;var t,e=Eg,n=e.length,r,i="value"in ei?ei.value:ei.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vc=i.slice(t,1<r?1-r:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zu(){return!0}function b0(){return!1}function rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zu:b0,this.isPropagationStopped=b0,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zu)},persist:function(){},isPersistent:zu}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xg=rn(Lo),zl=Le({},Lo,{view:0,detail:0}),XA=rn(zl),cf,df,Ia,Qd=Le({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ia&&(Ia&&t.type==="mousemove"?(cf=t.screenX-Ia.screenX,df=t.screenY-Ia.screenY):df=cf=0,Ia=t),cf)},movementY:function(t){return"movementY"in t?t.movementY:df}}),C0=rn(Qd),JA=Le({},Qd,{dataTransfer:0}),ZA=rn(JA),ek=Le({},zl,{relatedTarget:0}),hf=rn(ek),tk=Le({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),nk=rn(tk),rk=Le({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ik=rn(rk),sk=Le({},Lo,{data:0}),P0=rn(sk),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ak={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lk[t])?!!e[t]:!1}function Sg(){return uk}var ck=Le({},zl,{key:function(t){if(t.key){var e=ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ak[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sg,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dk=rn(ck),hk=Le({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A0=rn(hk),fk=Le({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sg}),pk=rn(fk),mk=Le({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),gk=rn(mk),yk=Le({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vk=rn(yk),wk=[9,13,27,32],Ig=xr&&"CompositionEvent"in window,Wa=null;xr&&"documentMode"in document&&(Wa=document.documentMode);var _k=xr&&"TextEvent"in window&&!Wa,vx=xr&&(!Ig||Wa&&8<Wa&&11>=Wa),k0=String.fromCharCode(32),R0=!1;function wx(t,e){switch(t){case"keyup":return wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function Tk(t,e){switch(t){case"compositionend":return _x(e);case"keypress":return e.which!==32?null:(R0=!0,k0);case"textInput":return t=e.data,t===k0&&R0?null:t;default:return null}}function Ek(t,e){if($s)return t==="compositionend"||!Ig&&wx(t,e)?(t=yx(),vc=Eg=ei=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vx&&e.locale!=="ko"?null:e.data;default:return null}}var xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xk[t.type]:e==="textarea"}function Tx(t,e,n,r){JE(r),e=Qc(e,"onChange"),0<e.length&&(n=new xg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ha=null,pl=null;function Sk(t){Dx(t,0)}function Xd(t){var e=Gs(t);if(HE(e))return t}function Ik(t,e){if(t==="change")return e}var Ex=!1;if(xr){var ff;if(xr){var pf="oninput"in document;if(!pf){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),pf=typeof N0.oninput=="function"}ff=pf}else ff=!1;Ex=ff&&(!document.documentMode||9<document.documentMode)}function O0(){Ha&&(Ha.detachEvent("onpropertychange",xx),pl=Ha=null)}function xx(t){if(t.propertyName==="value"&&Xd(pl)){var e=[];Tx(e,pl,t,yg(t)),nx(Sk,e)}}function bk(t,e,n){t==="focusin"?(O0(),Ha=e,pl=n,Ha.attachEvent("onpropertychange",xx)):t==="focusout"&&O0()}function Ck(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xd(pl)}function Pk(t,e){if(t==="click")return Xd(e)}function Ak(t,e){if(t==="input"||t==="change")return Xd(e)}function kk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:kk;function ml(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pp.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function V0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L0(t,e){var n=V0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function Sx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ix(){for(var t=window,e=$c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$c(t.document)}return e}function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Rk(t){var e=Ix(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sx(n.ownerDocument.documentElement,n)){if(r!==null&&bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=L0(n,s);var o=L0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dk=xr&&"documentMode"in document&&11>=document.documentMode,Ws=null,Np=null,Ga=null,Op=!1;function M0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Op||Ws==null||Ws!==$c(r)||(r=Ws,"selectionStart"in r&&bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&ml(Ga,r)||(Ga=r,r=Qc(Np,"onSelect"),0<r.length&&(e=new xg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ws)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},mf={},bx={};xr&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Jd(t){if(mf[t])return mf[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bx)return mf[t]=e[n];return t}var Cx=Jd("animationend"),Px=Jd("animationiteration"),Ax=Jd("animationstart"),kx=Jd("transitionend"),Rx=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){Rx.set(t,e),ys(e,[t])}for(var gf=0;gf<j0.length;gf++){var yf=j0[gf],Nk=yf.toLowerCase(),Ok=yf[0].toUpperCase()+yf.slice(1);Di(Nk,"on"+Ok)}Di(Cx,"onAnimationEnd");Di(Px,"onAnimationIteration");Di(Ax,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(kx,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function F0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NA(r,e,void 0,t),t.currentTarget=null}function Dx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;F0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;F0(i,a,u),s=l}}}if(Hc)throw t=Ap,Hc=!1,Ap=null,t}function Se(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(Nx(e,t,2,!1),n.add(r))}function vf(t,e,n){var r=0;e&&(r|=4),Nx(n,t,r,e)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[Wu]){t[Wu]=!0,UE.forEach(function(n){n!=="selectionchange"&&(Vk.has(n)||vf(n,!1,t),vf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wu]||(e[Wu]=!0,vf("selectionchange",!1,e))}}function Nx(t,e,n,r){switch(gx(e)){case 1:var i=YA;break;case 4:i=QA;break;default:i=Tg}n=i.bind(null,e,n,t),i=void 0,!Pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nx(function(){var u=s,d=yg(n),h=[];e:{var f=Rx.get(t);if(f!==void 0){var m=xg,y=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":m=dk;break;case"focusin":y="focus",m=hf;break;case"focusout":y="blur",m=hf;break;case"beforeblur":case"afterblur":m=hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ZA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pk;break;case Cx:case Px:case Ax:m=nk;break;case kx:m=gk;break;case"scroll":m=XA;break;case"wheel":m=vk;break;case"copy":case"cut":case"paste":m=ik;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=A0}var T=(e&4)!==0,P=!T&&t==="scroll",g=T?f!==null?f+"Capture":null:f;T=[];for(var _=u,x;_!==null;){x=_;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,g!==null&&(D=cl(_,g),D!=null&&T.push(yl(_,D,x)))),P)break;_=_.return}0<T.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==bp&&(y=n.relatedTarget||n.fromElement)&&(Qi(y)||y[Sr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Qi(y):null,y!==null&&(P=vs(y),y!==P||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(T=C0,D="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=A0,D="onPointerLeave",g="onPointerEnter",_="pointer"),P=m==null?f:Gs(m),x=y==null?f:Gs(y),f=new T(D,_+"leave",m,n,d),f.target=P,f.relatedTarget=x,D=null,Qi(d)===u&&(T=new T(g,_+"enter",y,n,d),T.target=x,T.relatedTarget=P,D=T),P=D,m&&y)t:{for(T=m,g=y,_=0,x=T;x;x=Ls(x))_++;for(x=0,D=g;D;D=Ls(D))x++;for(;0<_-x;)T=Ls(T),_--;for(;0<x-_;)g=Ls(g),x--;for(;_--;){if(T===g||g!==null&&T===g.alternate)break t;T=Ls(T),g=Ls(g)}T=null}else T=null;m!==null&&U0(h,f,m,T,!1),y!==null&&P!==null&&U0(h,P,y,T,!0)}}e:{if(f=u?Gs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=Ik;else if(D0(f))if(Ex)O=Ak;else{O=Ck;var V=bk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=Pk);if(O&&(O=O(t,u))){Tx(h,O,n,d);break e}V&&V(t,f,u),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&Tp(f,"number",f.value)}switch(V=u?Gs(u):window,t){case"focusin":(D0(V)||V.contentEditable==="true")&&(Ws=V,Np=u,Ga=null);break;case"focusout":Ga=Np=Ws=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,M0(h,n,d);break;case"selectionchange":if(Dk)break;case"keydown":case"keyup":M0(h,n,d)}var I;if(Ig)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $s?wx(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(vx&&n.locale!=="ko"&&($s||E!=="onCompositionStart"?E==="onCompositionEnd"&&$s&&(I=yx()):(ei=d,Eg="value"in ei?ei.value:ei.textContent,$s=!0)),V=Qc(u,E),0<V.length&&(E=new P0(E,t,null,n,d),h.push({event:E,listeners:V}),I?E.data=I:(I=_x(n),I!==null&&(E.data=I)))),(I=_k?Tk(t,n):Ek(t,n))&&(u=Qc(u,"onBeforeInput"),0<u.length&&(d=new P0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}Dx(h,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cl(t,n),s!=null&&r.unshift(yl(t,s,i)),s=cl(t,e),s!=null&&r.push(yl(t,s,i))),t=t.return}return r}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function U0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cl(n,s),l!=null&&o.unshift(yl(n,l,a))):i||(l=cl(n,s),l!=null&&o.push(yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Lk=/\r\n?/g,Mk=/\u0000|\uFFFD/g;function B0(t){return(typeof t=="string"?t:""+t).replace(Lk,`
`).replace(Mk,"")}function Hu(t,e,n){if(e=B0(e),B0(t)!==e&&n)throw Error($(425))}function Xc(){}var Vp=null,Lp=null;function Mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,jk=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(t){return z0.resolve(null).then(t).catch(Uk)}:jp;function Uk(t){setTimeout(function(){throw t})}function _f(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fl(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Un="__reactFiber$"+Mo,vl="__reactProps$"+Mo,Sr="__reactContainer$"+Mo,Fp="__reactEvents$"+Mo,Bk="__reactListeners$"+Mo,zk="__reactHandles$"+Mo;function Qi(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$0(t);t!==null;){if(n=t[Un])return n;t=$0(t)}return e}t=n,n=t.parentNode}return null}function $l(t){return t=t[Un]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Zd(t){return t[vl]||null}var Up=[],qs=-1;function Ni(t){return{current:t}}function be(t){0>qs||(t.current=Up[qs],Up[qs]=null,qs--)}function Ee(t,e){qs++,Up[qs]=t.current,t.current=e}var Ti={},Pt=Ni(Ti),Wt=Ni(!1),os=Ti;function _o(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Jc(){be(Wt),be(Pt)}function W0(t,e,n){if(Pt.current!==Ti)throw Error($(168));Ee(Pt,e),Ee(Wt,n)}function Ox(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,bA(t)||"Unknown",i));return Le({},n,r)}function Zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,os=Pt.current,Ee(Pt,t),Ee(Wt,Wt.current),!0}function H0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Ox(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,be(Wt),be(Pt),Ee(Pt,t)):be(Wt),Ee(Wt,n)}var hr=null,eh=!1,Tf=!1;function Vx(t){hr===null?hr=[t]:hr.push(t)}function $k(t){eh=!0,Vx(t)}function Oi(){if(!Tf&&hr!==null){Tf=!0;var t=0,e=ve;try{var n=hr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,eh=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),ox(vg,Oi),i}finally{ve=e,Tf=!1}}return null}var Ks=[],Ys=0,ed=null,td=0,ln=[],un=0,as=null,pr=1,mr="";function Hi(t,e){Ks[Ys++]=td,Ks[Ys++]=ed,ed=t,td=e}function Lx(t,e,n){ln[un++]=pr,ln[un++]=mr,ln[un++]=as,as=t;var r=pr;t=mr;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var s=32-kn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-kn(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function Cg(t){t.return!==null&&(Hi(t,1),Lx(t,1,0))}function Pg(t){for(;t===ed;)ed=Ks[--Ys],Ks[Ys]=null,td=Ks[--Ys],Ks[Ys]=null;for(;t===as;)as=ln[--un],ln[un]=null,mr=ln[--un],ln[un]=null,pr=ln[--un],ln[un]=null}var Zt=null,Jt=null,Ae=!1,bn=null;function Mx(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Jt=null,!0):!1;default:return!1}}function Bp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zp(t){if(Ae){var e=Jt;if(e){var n=e;if(!G0(t,e)){if(Bp(t))throw Error($(418));e=ai(n.nextSibling);var r=Zt;e&&G0(t,e)?Mx(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Zt=t)}}else{if(Bp(t))throw Error($(418));t.flags=t.flags&-4097|2,Ae=!1,Zt=t}}}function q0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Gu(t){if(t!==Zt)return!1;if(!Ae)return q0(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mp(t.type,t.memoizedProps)),e&&(e=Jt)){if(Bp(t))throw jx(),Error($(418));for(;e;)Mx(t,e),e=ai(e.nextSibling)}if(q0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Zt?ai(t.stateNode.nextSibling):null;return!0}function jx(){for(var t=Jt;t;)t=ai(t.nextSibling)}function To(){Jt=Zt=null,Ae=!1}function Ag(t){bn===null?bn=[t]:bn.push(t)}var Wk=Nr.ReactCurrentBatchConfig;function ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function qu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K0(t){var e=t._init;return e(t._payload)}function Fx(t){function e(g,_){if(t){var x=g.deletions;x===null?(g.deletions=[_],g.flags|=16):x.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=di(g,_),g.index=0,g.sibling=null,g}function s(g,_,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<_?(g.flags|=2,_):x):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,x,D){return _===null||_.tag!==6?(_=Pf(x,g.mode,D),_.return=g,_):(_=i(_,x),_.return=g,_)}function l(g,_,x,D){var O=x.type;return O===zs?d(g,_,x.props.children,D,x.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&K0(O)===_.type)?(D=i(_,x.props),D.ref=ba(g,_,x),D.return=g,D):(D=bc(x.type,x.key,x.props,null,g.mode,D),D.ref=ba(g,_,x),D.return=g,D)}function u(g,_,x,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Af(x,g.mode,D),_.return=g,_):(_=i(_,x.children||[]),_.return=g,_)}function d(g,_,x,D,O){return _===null||_.tag!==7?(_=rs(x,g.mode,D,O),_.return=g,_):(_=i(_,x),_.return=g,_)}function h(g,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Pf(""+_,g.mode,x),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lu:return x=bc(_.type,_.key,_.props,null,g.mode,x),x.ref=ba(g,null,_),x.return=g,x;case Bs:return _=Af(_,g.mode,x),_.return=g,_;case Gr:var D=_._init;return h(g,D(_._payload),x)}if(Oa(_)||Ta(_))return _=rs(_,g.mode,x,null),_.return=g,_;qu(g,_)}return null}function f(g,_,x,D){var O=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(g,_,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lu:return x.key===O?l(g,_,x,D):null;case Bs:return x.key===O?u(g,_,x,D):null;case Gr:return O=x._init,f(g,_,O(x._payload),D)}if(Oa(x)||Ta(x))return O!==null?null:d(g,_,x,D,null);qu(g,x)}return null}function m(g,_,x,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return g=g.get(x)||null,a(_,g,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Lu:return g=g.get(D.key===null?x:D.key)||null,l(_,g,D,O);case Bs:return g=g.get(D.key===null?x:D.key)||null,u(_,g,D,O);case Gr:var V=D._init;return m(g,_,x,V(D._payload),O)}if(Oa(D)||Ta(D))return g=g.get(x)||null,d(_,g,D,O,null);qu(_,D)}return null}function y(g,_,x,D){for(var O=null,V=null,I=_,E=_=0,S=null;I!==null&&E<x.length;E++){I.index>E?(S=I,I=null):S=I.sibling;var C=f(g,I,x[E],D);if(C===null){I===null&&(I=S);break}t&&I&&C.alternate===null&&e(g,I),_=s(C,_,E),V===null?O=C:V.sibling=C,V=C,I=S}if(E===x.length)return n(g,I),Ae&&Hi(g,E),O;if(I===null){for(;E<x.length;E++)I=h(g,x[E],D),I!==null&&(_=s(I,_,E),V===null?O=I:V.sibling=I,V=I);return Ae&&Hi(g,E),O}for(I=r(g,I);E<x.length;E++)S=m(I,g,E,x[E],D),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?E:S.key),_=s(S,_,E),V===null?O=S:V.sibling=S,V=S);return t&&I.forEach(function(A){return e(g,A)}),Ae&&Hi(g,E),O}function T(g,_,x,D){var O=Ta(x);if(typeof O!="function")throw Error($(150));if(x=O.call(x),x==null)throw Error($(151));for(var V=O=null,I=_,E=_=0,S=null,C=x.next();I!==null&&!C.done;E++,C=x.next()){I.index>E?(S=I,I=null):S=I.sibling;var A=f(g,I,C.value,D);if(A===null){I===null&&(I=S);break}t&&I&&A.alternate===null&&e(g,I),_=s(A,_,E),V===null?O=A:V.sibling=A,V=A,I=S}if(C.done)return n(g,I),Ae&&Hi(g,E),O;if(I===null){for(;!C.done;E++,C=x.next())C=h(g,C.value,D),C!==null&&(_=s(C,_,E),V===null?O=C:V.sibling=C,V=C);return Ae&&Hi(g,E),O}for(I=r(g,I);!C.done;E++,C=x.next())C=m(I,g,E,C.value,D),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?E:C.key),_=s(C,_,E),V===null?O=C:V.sibling=C,V=C);return t&&I.forEach(function(N){return e(g,N)}),Ae&&Hi(g,E),O}function P(g,_,x,D){if(typeof x=="object"&&x!==null&&x.type===zs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Lu:e:{for(var O=x.key,V=_;V!==null;){if(V.key===O){if(O=x.type,O===zs){if(V.tag===7){n(g,V.sibling),_=i(V,x.props.children),_.return=g,g=_;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Gr&&K0(O)===V.type){n(g,V.sibling),_=i(V,x.props),_.ref=ba(g,V,x),_.return=g,g=_;break e}n(g,V);break}else e(g,V);V=V.sibling}x.type===zs?(_=rs(x.props.children,g.mode,D,x.key),_.return=g,g=_):(D=bc(x.type,x.key,x.props,null,g.mode,D),D.ref=ba(g,_,x),D.return=g,g=D)}return o(g);case Bs:e:{for(V=x.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(g,_.sibling),_=i(_,x.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=Af(x,g.mode,D),_.return=g,g=_}return o(g);case Gr:return V=x._init,P(g,_,V(x._payload),D)}if(Oa(x))return y(g,_,x,D);if(Ta(x))return T(g,_,x,D);qu(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,x),_.return=g,g=_):(n(g,_),_=Pf(x,g.mode,D),_.return=g,g=_),o(g)):n(g,_)}return P}var Eo=Fx(!0),Ux=Fx(!1),nd=Ni(null),rd=null,Qs=null,kg=null;function Rg(){kg=Qs=rd=null}function Dg(t){var e=nd.current;be(nd),t._currentValue=e}function $p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){rd=t,kg=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(kg!==t)if(t={context:t,memoizedValue:e,next:null},Qs===null){if(rd===null)throw Error($(308));Qs=t,rd.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return e}var Xi=null;function Ng(t){Xi===null?Xi=[t]:Xi.push(t)}function Bx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ng(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function Og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Ng(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function _c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}function Y0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,T=a;switch(f=e,m=n,T.tag){case 1:if(y=T.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Le({},h,f);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=h}}function Q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Wl={},$n=Ni(Wl),wl=Ni(Wl),_l=Ni(Wl);function Ji(t){if(t===Wl)throw Error($(174));return t}function Vg(t,e){switch(Ee(_l,e),Ee(wl,t),Ee($n,Wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xp(e,t)}be($n),Ee($n,e)}function xo(){be($n),be(wl),be(_l)}function $x(t){Ji(_l.current);var e=Ji($n.current),n=xp(e,t.type);e!==n&&(Ee(wl,t),Ee($n,n))}function Lg(t){wl.current===t&&(be($n),be(wl))}var De=Ni(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ef=[];function Mg(){for(var t=0;t<Ef.length;t++)Ef[t]._workInProgressVersionPrimary=null;Ef.length=0}var Tc=Nr.ReactCurrentDispatcher,xf=Nr.ReactCurrentBatchConfig,ls=0,Oe=null,Qe=null,ot=null,od=!1,qa=!1,Tl=0,Hk=0;function Tt(){throw Error($(321))}function jg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function Fg(t,e,n,r,i,s){if(ls=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?Yk:Qk,t=n(r,i),qa){s=0;do{if(qa=!1,Tl=0,25<=s)throw Error($(301));s+=1,ot=Qe=null,e.updateQueue=null,Tc.current=Xk,t=n(r,i)}while(qa)}if(Tc.current=ad,e=Qe!==null&&Qe.next!==null,ls=0,ot=Qe=Oe=null,od=!1,e)throw Error($(300));return t}function Ug(){var t=Tl!==0;return Tl=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Oe.memoizedState=ot=t:ot=ot.next=t,ot}function yn(){if(Qe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=ot===null?Oe.memoizedState:ot.next;if(e!==null)ot=e,Qe=t;else{if(t===null)throw Error($(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},ot===null?Oe.memoizedState=ot=t:ot=ot.next=t}return ot}function El(t,e){return typeof e=="function"?e(t):e}function Sf(t){var e=yn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ls&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Oe.lanes|=d,us|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Nn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function If(t){var e=yn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Wx(){}function Hx(t,e){var n=Oe,r=yn(),i=e(),s=!Nn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,Bg(Kx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,xl(9,qx.bind(null,n,r,i,e),void 0,null),at===null)throw Error($(349));ls&30||Gx(n,e,i)}return i}function Gx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qx(t,e,n,r){e.value=n,e.getSnapshot=r,Yx(e)&&Qx(t)}function Kx(t,e,n){return n(function(){Yx(e)&&Qx(t)})}function Yx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function Qx(t){var e=Ir(t,1);e!==null&&Rn(e,t,1,-1)}function X0(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:t},e.queue=t,t=t.dispatch=Kk.bind(null,Oe,t),[e.memoizedState,t]}function xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xx(){return yn().memoizedState}function Ec(t,e,n,r){var i=jn();Oe.flags|=t,i.memoizedState=xl(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=yn();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&jg(r,o.deps)){i.memoizedState=xl(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=xl(1|e,n,s,r)}function J0(t,e){return Ec(8390656,8,t,e)}function Bg(t,e){return th(2048,8,t,e)}function Jx(t,e){return th(4,2,t,e)}function Zx(t,e){return th(4,4,t,e)}function eS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tS(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,eS.bind(null,e,t),n)}function zg(){}function nS(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rS(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iS(t,e,n){return ls&21?(Nn(n,e)||(n=ux(),Oe.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function Gk(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=xf.transition;xf.transition={};try{t(!1),e()}finally{ve=n,xf.transition=r}}function sS(){return yn().memoizedState}function qk(t,e,n){var r=ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oS(t))aS(e,n);else if(n=Bx(t,e,n,r),n!==null){var i=Ot();Rn(n,t,r,i),lS(n,e,r)}}function Kk(t,e,n){var r=ci(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oS(t))aS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ng(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Bx(t,e,i,r),n!==null&&(i=Ot(),Rn(n,t,r,i),lS(n,e,r))}}function oS(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function aS(t,e){qa=od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}var ad={readContext:gn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},Yk={readContext:gn,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:J0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4194308,4,eS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ec(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qk.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:X0,useDebugValue:zg,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=X0(!1),e=t[0];return t=Gk.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=jn();if(Ae){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),at===null)throw Error($(349));ls&30||Gx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,J0(Kx.bind(null,r,s,t),[t]),r.flags|=2048,xl(9,qx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=jn(),e=at.identifierPrefix;if(Ae){var n=mr,r=pr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Hk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qk={readContext:gn,useCallback:nS,useContext:gn,useEffect:Bg,useImperativeHandle:tS,useInsertionEffect:Jx,useLayoutEffect:Zx,useMemo:rS,useReducer:Sf,useRef:Xx,useState:function(){return Sf(El)},useDebugValue:zg,useDeferredValue:function(t){var e=yn();return iS(e,Qe.memoizedState,t)},useTransition:function(){var t=Sf(El)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:Hx,useId:sS,unstable_isNewReconciler:!1},Xk={readContext:gn,useCallback:nS,useContext:gn,useEffect:Bg,useImperativeHandle:tS,useInsertionEffect:Jx,useLayoutEffect:Zx,useMemo:rS,useReducer:If,useRef:Xx,useState:function(){return If(El)},useDebugValue:zg,useDeferredValue:function(t){var e=yn();return Qe===null?e.memoizedState=t:iS(e,Qe.memoizedState,t)},useTransition:function(){var t=If(El)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:Hx,useId:sS,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nh={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ci(t),s=wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(Rn(e,t,i,r),_c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ci(t),s=wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(Rn(e,t,i,r),_c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=ci(t),i=wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=li(t,i,r),e!==null&&(Rn(e,t,r,n),_c(e,t,r))}};function Z0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,s):!0}function uS(t,e,n){var r=!1,i=Ti,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Ht(e)?os:Pt.current,r=e.contextTypes,s=(r=r!=null)?_o(t,i):Ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function Hp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Og(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Ht(e)?os:Pt.current,i.context=_o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nh.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=IA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jk=typeof WeakMap=="function"?WeakMap:Map;function cS(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,nm=r),Gp(t,e)},n}function dS(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gp(t,e),typeof r!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hR.bind(null,t,e,n),e.then(t,t))}function nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,li(n,e,1))),n.lanes|=1),t)}var Zk=Nr.ReactCurrentOwner,$t=!1;function Nt(t,e,n,r){e.child=t===null?Ux(e,null,n,r):Eo(e,t.child,n,r)}function iw(t,e,n,r,i){n=n.render;var s=e.ref;return uo(e,i),r=Fg(t,e,n,r,s,i),n=Ug(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ae&&n&&Cg(e),e.flags|=1,Nt(t,e,r,i),e.child)}function sw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hS(t,e,s,r,i)):(t=bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(o,r)&&t.ref===e.ref)return br(t,e,i)}return e.flags|=1,t=di(s,r),t.ref=e.ref,t.return=e,e.child=t}function hS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ml(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,br(t,e,i)}return qp(t,e,n,r,i)}function fS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Js,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Js,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Js,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Js,Qt),Qt|=r;return Nt(t,e,i,n),e.child}function pS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,i){var s=Ht(n)?os:Pt.current;return s=_o(e,s),uo(e,i),n=Fg(t,e,n,r,s,i),r=Ug(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ae&&r&&Cg(e),e.flags|=1,Nt(t,e,n,i),e.child)}function ow(t,e,n,r,i){if(Ht(n)){var s=!0;Zc(e)}else s=!1;if(uo(e,i),e.stateNode===null)xc(t,e),uS(e,n,r),Hp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Ht(n)?os:Pt.current,u=_o(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ew(e,o,r,u),qr=!1;var f=e.memoizedState;o.state=f,id(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Wt.current||qr?(typeof d=="function"&&(Wp(e,n,d,r),l=e.memoizedState),(a=qr||Z0(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Sn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Ht(n)?os:Pt.current,l=_o(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ew(e,o,r,l),qr=!1,f=e.memoizedState,o.state=f,id(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||Wt.current||qr?(typeof m=="function"&&(Wp(e,n,m,r),y=e.memoizedState),(u=qr||Z0(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Kp(t,e,n,r,s,i)}function Kp(t,e,n,r,i,s){pS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H0(e,n,!1),br(t,e,s);r=e.stateNode,Zk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,s),e.child=Eo(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&H0(e,n,!0),e.child}function mS(t){var e=t.stateNode;e.pendingContext?W0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W0(t,e.context,!1),Vg(t,e.containerInfo)}function aw(t,e,n,r,i){return To(),Ag(i),e.flags|=256,Nt(t,e,n,r),e.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function gS(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(De,i&1),t===null)return zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sh(o,r,0,null),t=rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qp(n),e.memoizedState=Yp,t):$g(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=di(a,s):(s=rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yp,r}return s=t.child,t=s.sibling,r=di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $g(t,e){return e=sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ku(t,e,n,r){return r!==null&&Ag(r),Eo(e,t.child,null,n),t=$g(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bf(Error($(422))),Ku(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sh({mode:"visible",children:r.children},i,0,null),s=rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=Qp(o),e.memoizedState=Yp,s);if(!(e.mode&1))return Ku(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=bf(s,r,void 0),Ku(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Rn(r,t,i,-1))}return Yg(),r=bf(Error($(421))),Ku(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=ai(i.nextSibling),Zt=e,Ae=!0,bn=null,t!==null&&(ln[un++]=pr,ln[un++]=mr,ln[un++]=as,pr=t.id,mr=t.overflow,as=e),e=$g(e,r.children),e.flags|=4096,e)}function lw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$p(t.return,e,n)}function Cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lw(t,n,e);else if(t.tag===19)lw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cf(e,!0,n,null,s);break;case"together":Cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tR(t,e,n){switch(e.tag){case 3:mS(e),To();break;case 5:$x(e);break;case 1:Ht(e.type)&&Zc(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?gS(t,e,n):(Ee(De,De.current&1),t=br(t,e,n),t!==null?t.sibling:null);Ee(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,fS(t,e,n)}return br(t,e,n)}var vS,Xp,wS,_S;vS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};wS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ji($n.current);var s=null;switch(n){case"input":i=wp(t,i),r=wp(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Ep(t,i),r=Ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xc)}Sp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};_S=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ca(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nR(t,e,n){var r=e.pendingProps;switch(Pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Ht(e.type)&&Jc(),Et(e),null;case 3:return r=e.stateNode,xo(),be(Wt),be(Pt),Mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(sm(bn),bn=null))),Xp(t,e),Et(e),null;case 5:Lg(e);var i=Ji(_l.current);if(n=e.type,t!==null&&e.stateNode!=null)wS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Et(e),null}if(t=Ji($n.current),Gu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Un]=e,r[vl]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Se(La[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":y0(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":w0(r,s),Se("invalid",r)}Sp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Mu(r),v0(r,s,!0);break;case"textarea":Mu(r),_0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Un]=e,t[vl]=r,vS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ip(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Se(La[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":y0(t,r),i=wp(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Se("invalid",t);break;case"textarea":w0(t,r),i=Ep(t,r),Se("invalid",t);break;default:i=r}Sp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?XE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ll.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&fg(t,s,l,o))}switch(n){case"input":Mu(t),v0(t,r,!1);break;case"textarea":Mu(t),_0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?so(t,!!r.multiple,s,!1):r.defaultValue!=null&&so(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)_S(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ji(_l.current),Ji($n.current),Gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Hu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return Et(e),null;case 13:if(be(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Jt!==null&&e.mode&1&&!(e.flags&128))jx(),To(),e.flags|=98560,s=!1;else if(s=Gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Un]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else bn!==null&&(sm(bn),bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Je===0&&(Je=3):Yg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return xo(),Xp(t,e),t===null&&gl(e.stateNode.containerInfo),Et(e),null;case 10:return Dg(e.type._context),Et(e),null;case 17:return Ht(e.type)&&Jc(),Et(e),null;case 19:if(be(De),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ca(s,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sd(t),o!==null){for(e.flags|=128,Ca(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Io&&(e.flags|=128,r=!0,Ca(s,!1),e.lanes=4194304)}else{if(!r)if(t=sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return Et(e),null}else 2*ze()-s.renderingStartTime>Io&&n!==1073741824&&(e.flags|=128,r=!0,Ca(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=De.current,Ee(De,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Kg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function rR(t,e){switch(Pg(e),e.tag){case 1:return Ht(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),be(Wt),be(Pt),Mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lg(e),null;case 13:if(be(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(De),null;case 4:return xo(),null;case 10:return Dg(e.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var Yu=!1,bt=!1,iR=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Jp(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var uw=!1;function sR(t,e){if(Vp=Kc,t=Ix(),bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lp={focusedElem:t,selectionRange:n},Kc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var T=y.memoizedProps,P=y.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?T:Sn(e.type,T),P);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(D){Fe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=uw,uw=!1,y}function Ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jp(e,n,s)}i=i.next}while(i!==r)}}function rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TS(t){var e=t.alternate;e!==null&&(t.alternate=null,TS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[vl],delete e[Fp],delete e[Bk],delete e[zk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ES(t){return t.tag===5||t.tag===3||t.tag===4}function cw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ES(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xc));else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}var ct=null,In=!1;function $r(t,e,n){for(n=n.child;n!==null;)xS(t,e,n),n=n.sibling}function xS(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Yd,n)}catch{}switch(n.tag){case 5:bt||Xs(n,e);case 6:var r=ct,i=In;ct=null,$r(t,e,n),ct=r,In=i,ct!==null&&(In?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(In?(t=ct,n=n.stateNode,t.nodeType===8?_f(t.parentNode,n):t.nodeType===1&&_f(t,n),fl(t)):_f(ct,n.stateNode));break;case 4:r=ct,i=In,ct=n.stateNode.containerInfo,In=!0,$r(t,e,n),ct=r,In=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jp(n,e,o),i=i.next}while(i!==r)}$r(t,e,n);break;case 1:if(!bt&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}$r(t,e,n);break;case 21:$r(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,$r(t,e,n),bt=r):$r(t,e,n);break;default:$r(t,e,n)}}function dw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iR),e.forEach(function(r){var i=pR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,In=!1;break e;case 3:ct=a.stateNode.containerInfo,In=!0;break e;case 4:ct=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(ct===null)throw Error($(160));xS(s,o,i),ct=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SS(e,t),e=e.sibling}function SS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Ln(t),r&4){try{Ka(3,t,t.return),rh(3,t)}catch(T){Fe(t,t.return,T)}try{Ka(5,t,t.return)}catch(T){Fe(t,t.return,T)}}break;case 1:En(e,t),Ln(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(En(e,t),Ln(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(T){Fe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GE(i,s),Ip(a,o);var u=Ip(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?XE(i,h):d==="dangerouslySetInnerHTML"?YE(i,h):d==="children"?ul(i,h):fg(i,d,h,u)}switch(a){case"input":_p(i,s);break;case"textarea":qE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?so(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?so(i,!!s.multiple,s.defaultValue,!0):so(i,!!s.multiple,s.multiple?[]:"",!1))}i[vl]=s}catch(T){Fe(t,t.return,T)}}break;case 6:if(En(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Fe(t,t.return,T)}}break;case 3:if(En(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(T){Fe(t,t.return,T)}break;case 4:En(e,t),Ln(t);break;case 13:En(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gg=ze())),r&4&&dw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,En(e,t),bt=u):En(e,t),Ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ka(4,f,f.return);break;case 1:Xs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(T){Fe(r,n,T)}}break;case 5:Xs(f,f.return);break;case 22:if(f.memoizedState!==null){fw(h);continue}}m!==null?(m.return=f,Y=m):fw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QE("display",o))}catch(T){Fe(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){Fe(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:En(e,t),Ln(t),r&4&&dw(t);break;case 21:break;default:En(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ES(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var s=cw(t);tm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cw(t);em(t,a,o);break;default:throw Error($(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oR(t,e,n){Y=t,IS(t)}function IS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Yu;var u=bt;if(Yu=o,(bt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?pw(i):l!==null?(l.return=o,Y=l):pw(i);for(;s!==null;)Y=s,IS(s),s=s.sibling;Y=i,Yu=a,bt=u}hw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):hw(t)}}function hw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Q0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}bt||e.flags&512&&Zp(e)}catch(f){Fe(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function fw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function pw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rh(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{Zp(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{Zp(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var aR=Math.ceil,ld=Nr.ReactCurrentDispatcher,Wg=Nr.ReactCurrentOwner,pn=Nr.ReactCurrentBatchConfig,pe=0,at=null,Ge=null,mt=0,Qt=0,Js=Ni(0),Je=0,Sl=null,us=0,ih=0,Hg=0,Ya=null,zt=null,Gg=0,Io=1/0,dr=null,ud=!1,nm=null,ui=null,Qu=!1,ti=null,cd=0,Qa=0,rm=null,Sc=-1,Ic=0;function Ot(){return pe&6?ze():Sc!==-1?Sc:Sc=ze()}function ci(t){return t.mode&1?pe&2&&mt!==0?mt&-mt:Wk.transition!==null?(Ic===0&&(Ic=ux()),Ic):(t=ve,t!==0||(t=window.event,t=t===void 0?16:gx(t.type)),t):1}function Rn(t,e,n,r){if(50<Qa)throw Qa=0,rm=null,Error($(185));Bl(t,n,r),(!(pe&2)||t!==at)&&(t===at&&(!(pe&2)&&(ih|=n),Je===4&&Qr(t,mt)),Gt(t,r),n===1&&pe===0&&!(e.mode&1)&&(Io=ze()+500,eh&&Oi()))}function Gt(t,e){var n=t.callbackNode;WA(t,e);var r=qc(t,t===at?mt:0);if(r===0)n!==null&&x0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x0(n),e===1)t.tag===0?$k(mw.bind(null,t)):Vx(mw.bind(null,t)),Fk(function(){!(pe&6)&&Oi()}),n=null;else{switch(cx(r)){case 1:n=vg;break;case 4:n=ax;break;case 16:n=Gc;break;case 536870912:n=lx;break;default:n=Gc}n=NS(n,bS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bS(t,e){if(Sc=-1,Ic=0,pe&6)throw Error($(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=qc(t,t===at?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dd(t,r);else{e=r;var i=pe;pe|=2;var s=PS();(at!==t||mt!==e)&&(dr=null,Io=ze()+500,ns(t,e));do try{cR();break}catch(a){CS(t,a)}while(1);Rg(),ld.current=s,pe=i,Ge!==null?e=0:(at=null,mt=0,e=Je)}if(e!==0){if(e===2&&(i=kp(t),i!==0&&(r=i,e=im(t,i))),e===1)throw n=Sl,ns(t,0),Qr(t,r),Gt(t,ze()),n;if(e===6)Qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!lR(i)&&(e=dd(t,r),e===2&&(s=kp(t),s!==0&&(r=s,e=im(t,s))),e===1))throw n=Sl,ns(t,0),Qr(t,r),Gt(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Gi(t,zt,dr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=Gg+500-ze(),10<e)){if(qc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jp(Gi.bind(null,t,zt,dr),e);break}Gi(t,zt,dr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aR(r/1960))-r,10<r){t.timeoutHandle=jp(Gi.bind(null,t,zt,dr),r);break}Gi(t,zt,dr);break;case 5:Gi(t,zt,dr);break;default:throw Error($(329))}}}return Gt(t,ze()),t.callbackNode===n?bS.bind(null,t):null}function im(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=dd(t,e),t!==2&&(e=zt,zt=n,e!==null&&sm(e)),t}function sm(t){zt===null?zt=t:zt.push.apply(zt,t)}function lR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~Hg,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function mw(t){if(pe&6)throw Error($(327));co();var e=qc(t,0);if(!(e&1))return Gt(t,ze()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=kp(t);r!==0&&(e=r,n=im(t,r))}if(n===1)throw n=Sl,ns(t,0),Qr(t,e),Gt(t,ze()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,zt,dr),Gt(t,ze()),null}function qg(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(Io=ze()+500,eh&&Oi())}}function cs(t){ti!==null&&ti.tag===0&&!(pe&6)&&co();var e=pe;pe|=1;var n=pn.transition,r=ve;try{if(pn.transition=null,ve=1,t)return t()}finally{ve=r,pn.transition=n,pe=e,!(pe&6)&&Oi()}}function Kg(){Qt=Js.current,be(Js)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jk(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jc();break;case 3:xo(),be(Wt),be(Pt),Mg();break;case 5:Lg(r);break;case 4:xo();break;case 13:be(De);break;case 19:be(De);break;case 10:Dg(r.type._context);break;case 22:case 23:Kg()}n=n.return}if(at=t,Ge=t=di(t.current,null),mt=Qt=e,Je=0,Sl=null,Hg=ih=us=0,zt=Ya=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xi=null}return t}function CS(t,e){do{var n=Ge;try{if(Rg(),Tc.current=ad,od){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}od=!1}if(ls=0,ot=Qe=Oe=null,qa=!1,Tl=0,Wg.current=null,n===null||n.return===null){Je=1,Sl=e,Ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nw(o);if(m!==null){m.flags&=-257,rw(m,o,a,s,e),m.mode&1&&tw(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var T=new Set;T.add(l),e.updateQueue=T}else y.add(l);break e}else{if(!(e&1)){tw(s,u,e),Yg();break e}l=Error($(426))}}else if(Ae&&a.mode&1){var P=nw(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),rw(P,o,a,s,e),Ag(So(l,a));break e}}s=l=So(l,a),Je!==4&&(Je=2),Ya===null?Ya=[s]:Ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=cS(s,l,e);Y0(s,g);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ui===null||!ui.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=dS(s,a,e);Y0(s,D);break e}}s=s.return}while(s!==null)}kS(n)}catch(O){e=O,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(1)}function PS(){var t=ld.current;return ld.current=ad,t===null?ad:t}function Yg(){(Je===0||Je===3||Je===2)&&(Je=4),at===null||!(us&268435455)&&!(ih&268435455)||Qr(at,mt)}function dd(t,e){var n=pe;pe|=2;var r=PS();(at!==t||mt!==e)&&(dr=null,ns(t,e));do try{uR();break}catch(i){CS(t,i)}while(1);if(Rg(),pe=n,ld.current=r,Ge!==null)throw Error($(261));return at=null,mt=0,Je}function uR(){for(;Ge!==null;)AS(Ge)}function cR(){for(;Ge!==null&&!VA();)AS(Ge)}function AS(t){var e=DS(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?kS(t):Ge=e,Wg.current=null}function kS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rR(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ge=null;return}}else if(n=nR(n,e,Qt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Je===0&&(Je=5)}function Gi(t,e,n){var r=ve,i=pn.transition;try{pn.transition=null,ve=1,dR(t,e,n,r)}finally{pn.transition=i,ve=r}return null}function dR(t,e,n,r){do co();while(ti!==null);if(pe&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(HA(t,s),t===at&&(Ge=at=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qu||(Qu=!0,NS(Gc,function(){return co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=ve;ve=1;var a=pe;pe|=4,Wg.current=null,sR(t,n),SS(n,t),Rk(Lp),Kc=!!Vp,Lp=Vp=null,t.current=n,oR(n),LA(),pe=a,ve=o,pn.transition=s}else t.current=n;if(Qu&&(Qu=!1,ti=t,cd=i),s=t.pendingLanes,s===0&&(ui=null),FA(n.stateNode),Gt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=nm,nm=null,t;return cd&1&&t.tag!==0&&co(),s=t.pendingLanes,s&1?t===rm?Qa++:(Qa=0,rm=t):Qa=0,Oi(),null}function co(){if(ti!==null){var t=cx(cd),e=pn.transition,n=ve;try{if(pn.transition=null,ve=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,cd=0,pe&6)throw Error($(331));var i=pe;for(pe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ka(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(TS(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var y=s.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ka(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Y=g;break e}Y=s.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rh(9,a)}}catch(O){Fe(a,a.return,O)}if(a===o){Y=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Y=D;break e}Y=a.return}}if(pe=i,Oi(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Yd,t)}catch{}r=!0}return r}finally{ve=n,pn.transition=e}}return!1}function gw(t,e,n){e=So(n,e),e=cS(t,e,1),t=li(t,e,1),e=Ot(),t!==null&&(Bl(t,1,e),Gt(t,e))}function Fe(t,e,n){if(t.tag===3)gw(t,t,n);else for(;e!==null;){if(e.tag===3){gw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ui===null||!ui.has(r))){t=So(n,t),t=dS(e,t,1),e=li(e,t,1),t=Ot(),e!==null&&(Bl(e,1,t),Gt(e,t));break}}e=e.return}}function hR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(mt&n)===n&&(Je===4||Je===3&&(mt&130023424)===mt&&500>ze()-Gg?ns(t,0):Hg|=n),Gt(t,e)}function RS(t,e){e===0&&(t.mode&1?(e=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):e=1);var n=Ot();t=Ir(t,e),t!==null&&(Bl(t,e,n),Gt(t,n))}function fR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RS(t,n)}function pR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),RS(t,n)}var DS;DS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,tR(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Ae&&e.flags&1048576&&Lx(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xc(t,e),t=e.pendingProps;var i=_o(e,Pt.current);uo(e,n),i=Fg(null,e,r,t,i,n);var s=Ug();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Zc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Og(e),i.updater=nh,e.stateNode=i,i._reactInternals=e,Hp(e,r,t,n),e=Kp(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&Cg(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gR(r),t=Sn(r,t),i){case 0:e=qp(null,e,r,t,n);break e;case 1:e=ow(null,e,r,t,n);break e;case 11:e=iw(null,e,r,t,n);break e;case 14:e=sw(null,e,r,Sn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),qp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),ow(t,e,r,i,n);case 3:e:{if(mS(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zx(t,e),id(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=So(Error($(423)),e),e=aw(t,e,r,n,i);break e}else if(r!==i){i=So(Error($(424)),e),e=aw(t,e,r,n,i);break e}else for(Jt=ai(e.stateNode.containerInfo.firstChild),Zt=e,Ae=!0,bn=null,n=Ux(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){e=br(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return $x(e),t===null&&zp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mp(r,i)?o=null:s!==null&&Mp(r,s)&&(e.flags|=32),pS(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&zp(e),null;case 13:return gS(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),iw(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(nd,r._currentValue),r._currentValue=o,s!==null)if(Nn(s.value,o)){if(s.children===i.children&&!Wt.current){e=br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$p(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$p(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uo(e,n),i=gn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),sw(t,e,r,i,n);case 15:return hS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),xc(t,e),e.tag=1,Ht(r)?(t=!0,Zc(e)):t=!1,uo(e,n),uS(e,r,i),Hp(e,r,i,n),Kp(null,e,r,!0,t,n);case 19:return yS(t,e,n);case 22:return fS(t,e,n)}throw Error($(156,e.tag))};function NS(t,e){return ox(t,e)}function mR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new mR(t,e,n,r)}function Qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gR(t){if(typeof t=="function")return Qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mg)return 11;if(t===gg)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return rs(n.children,i,s,e);case pg:o=8,i|=8;break;case mp:return t=fn(12,n,e,i|2),t.elementType=mp,t.lanes=s,t;case gp:return t=fn(13,n,e,i),t.elementType=gp,t.lanes=s,t;case yp:return t=fn(19,n,e,i),t.elementType=yp,t.lanes=s,t;case $E:return sh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case zE:o=9;break e;case mg:o=11;break e;case gg:o=14;break e;case Gr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rs(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function sh(t,e,n,r){return t=fn(22,t,r,e),t.elementType=$E,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function Af(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uf(0),this.expirationTimes=uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xg(t,e,n,r,i,s,o,a,l){return t=new yR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Og(s),t}function vR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OS(t){if(!t)return Ti;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ht(n))return Ox(t,n,e)}return e}function VS(t,e,n,r,i,s,o,a,l){return t=Xg(n,r,!0,t,i,s,o,a,l),t.context=OS(null),n=t.current,r=Ot(),i=ci(n),s=wr(r,i),s.callback=e??null,li(n,s,i),t.current.lanes=i,Bl(t,i,r),Gt(t,r),t}function oh(t,e,n,r){var i=e.current,s=Ot(),o=ci(i);return n=OS(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=li(i,e,o),t!==null&&(Rn(t,i,o,s),_c(t,i,o)),o}function hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jg(t,e){yw(t,e),(t=t.alternate)&&yw(t,e)}function wR(){return null}var LS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zg(t){this._internalRoot=t}ah.prototype.render=Zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));oh(t,e,null,null)};ah.prototype.unmount=Zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){oh(null,t,null,null)}),e[Sr]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=fx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&mx(t)}};function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vw(){}function _R(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hd(o);s.call(u)}}var o=VS(e,r,t,0,null,!1,!1,"",vw);return t._reactRootContainer=o,t[Sr]=o.current,gl(t.nodeType===8?t.parentNode:t),cs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hd(l);a.call(u)}}var l=Xg(t,0,!1,null,null,!1,!1,"",vw);return t._reactRootContainer=l,t[Sr]=l.current,gl(t.nodeType===8?t.parentNode:t),cs(function(){oh(e,l,n,r)}),l}function uh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hd(o);a.call(l)}}oh(e,o,t,i)}else o=_R(n,e,t,i,r);return hd(o)}dx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(wg(e,n|1),Gt(e,ze()),!(pe&6)&&(Io=ze()+500,Oi()))}break;case 13:cs(function(){var r=Ir(t,1);if(r!==null){var i=Ot();Rn(r,t,1,i)}}),Jg(t,1)}};_g=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Ot();Rn(e,t,134217728,n)}Jg(t,134217728)}};hx=function(t){if(t.tag===13){var e=ci(t),n=Ir(t,e);if(n!==null){var r=Ot();Rn(n,t,e,r)}Jg(t,e)}};fx=function(){return ve};px=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Cp=function(t,e,n){switch(e){case"input":if(_p(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zd(r);if(!i)throw Error($(90));HE(r),_p(r,i)}}}break;case"textarea":qE(t,n);break;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}};ex=qg;tx=cs;var TR={usingClientEntryPoint:!1,Events:[$l,Gs,Zd,JE,ZE,qg]},Pa={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ER={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ix(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||wR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Yd=Xu.inject(ER),zn=Xu}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ey(e))throw Error($(200));return vR(t,e,null,n)};nn.createRoot=function(t,e){if(!ey(t))throw Error($(299));var n=!1,r="",i=LS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xg(t,1,!1,null,null,n,!1,r,i),t[Sr]=e.current,gl(t.nodeType===8?t.parentNode:t),new Zg(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=ix(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return cs(t)};nn.hydrate=function(t,e,n){if(!lh(e))throw Error($(200));return uh(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!ey(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VS(e,null,t,1,n??null,i,!1,s,o),t[Sr]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ah(e)};nn.render=function(t,e,n){if(!lh(e))throw Error($(200));return uh(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!lh(t))throw Error($(40));return t._reactRootContainer?(cs(function(){uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};nn.unstable_batchedUpdates=qg;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return uh(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function MS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MS)}catch(t){console.error(t)}}MS(),ME.exports=nn;var xR=ME.exports,ww=xR;fp.createRoot=ww.createRoot,fp.hydrateRoot=ww.hydrateRoot;const SR=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new bR;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(t){const e=jS(t);return FS.encodeByteArray(e,!0)},fd=function(t){return CR(t).replace(/\./g,"")},US=function(t){try{return FS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>PR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&US(t[1]);return e&&JSON.parse(e)},ch=()=>{try{return SR()||AR()||kR()||RR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>{var e,n;return(n=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DR=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zS=()=>{var t;return(t=ch())===null||t===void 0?void 0:t.config},$S=t=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fd(JSON.stringify(n)),fd(JSON.stringify(o)),a].join(".")}const Xa={};function VR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xa))Xa[e]?t.emulator.push(e):t.prod.push(e);return t}function LR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _w=!1;function HS(t,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||Xa[t]===e||Xa[t]||_w)return;Xa[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=VR().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{_w=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=LR(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),T=n("learnmore"),P=document.getElementById(T)||document.createElement("a"),g=n("preprendIcon"),_=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),d(P,T);const D=u();l(_,g),x.append(_,y,P,D),document.body.appendChild(x)}s?(y.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function jR(){var t;const e=(t=ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $R(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WR(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GR,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Or(i,a,r)}}function qR(t,e){return t.replace(KR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KR=/\{\$([^}]+)}/g;function YR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Tw(s)&&Tw(o)){if(!ds(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QR(t,e){const n=new XR(t,e);return n.subscribe.bind(n)}class XR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kf),i.error===void 0&&(i.error=kf),i.complete===void 0&&(i.complete=kf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tD(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eD(t){return t===qi?void 0:t}function tD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const rD={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},iD=de.INFO,sD={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},oD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=iD,this._logHandler=oD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const aD=(t,e)=>e.some(n=>t instanceof n);let Ew,xw;function lD(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uD(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,om=new WeakMap,qS=new WeakMap,Rf=new WeakMap,ny=new WeakMap;function cD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function dD(t){if(om.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});om.set(t,e)}let am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hD(t){am=t(am)}function fD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Df(this),e,...n);return qS.set(r,e.sort?e.sort():[e]),hi(r)}:uD().includes(t)?function(...e){return t.apply(Df(this),e),hi(GS.get(this))}:function(...e){return hi(t.apply(Df(this),e))}}function pD(t){return typeof t=="function"?fD(t):(t instanceof IDBTransaction&&dD(t),aD(t,lD())?new Proxy(t,am):t)}function hi(t){if(t instanceof IDBRequest)return cD(t);if(Rf.has(t))return Rf.get(t);const e=pD(t);return e!==t&&(Rf.set(t,e),ny.set(e,t)),e}const Df=t=>ny.get(t);function mD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hi(o.result),l.oldVersion,l.newVersion,hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const gD=["get","getKey","getAll","getAllKeys","count"],yD=["put","add","delete","clear"],Nf=new Map;function Sw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Nf.set(e,s),s}hD(t=>({...t,get:(e,n,r)=>Sw(e,n)||t.get(e,n,r),has:(e,n)=>!!Sw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lm="@firebase/app",Iw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new ty("@firebase/app"),_D="@firebase/app-compat",TD="@firebase/analytics-compat",ED="@firebase/analytics",xD="@firebase/app-check-compat",SD="@firebase/app-check",ID="@firebase/auth",bD="@firebase/auth-compat",CD="@firebase/database",PD="@firebase/data-connect",AD="@firebase/database-compat",kD="@firebase/functions",RD="@firebase/functions-compat",DD="@firebase/installations",ND="@firebase/installations-compat",OD="@firebase/messaging",VD="@firebase/messaging-compat",LD="@firebase/performance",MD="@firebase/performance-compat",jD="@firebase/remote-config",FD="@firebase/remote-config-compat",UD="@firebase/storage",BD="@firebase/storage-compat",zD="@firebase/firestore",$D="@firebase/ai",WD="@firebase/firestore-compat",HD="firebase",GD="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",qD={[lm]:"fire-core",[_D]:"fire-core-compat",[ED]:"fire-analytics",[TD]:"fire-analytics-compat",[SD]:"fire-app-check",[xD]:"fire-app-check-compat",[ID]:"fire-auth",[bD]:"fire-auth-compat",[CD]:"fire-rtdb",[PD]:"fire-data-connect",[AD]:"fire-rtdb-compat",[kD]:"fire-fn",[RD]:"fire-fn-compat",[DD]:"fire-iid",[ND]:"fire-iid-compat",[OD]:"fire-fcm",[VD]:"fire-fcm-compat",[LD]:"fire-perf",[MD]:"fire-perf-compat",[jD]:"fire-rc",[FD]:"fire-rc-compat",[UD]:"fire-gcs",[BD]:"fire-gcs-compat",[zD]:"fire-fst",[WD]:"fire-fst-compat",[$D]:"fire-vertex","fire-js":"fire-js",[HD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,KD=new Map,cm=new Map;function bw(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(cm.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(const n of pd.values())bw(n,t);for(const n of KD.values())bw(n,t);return!0}function ry(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Hl("app","Firebase",YD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=GD;function KS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:um,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=zS()),!n)throw fi.create("no-options");const s=pd.get(i);if(s){if(ds(n,s.options)&&ds(r,s.config))return s;throw fi.create("duplicate-app",{appName:i})}const o=new nD(i);for(const l of cm.values())o.addComponent(l);const a=new QD(n,r,o);return pd.set(i,a),a}function YS(t=um){const e=pd.get(t);if(!e&&t===um&&zS())return KS();if(!e)throw fi.create("no-app",{appName:t});return e}function pi(t,e,n){var r;let i=(r=qD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(a.join(" "));return}bo(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="firebase-heartbeat-database",JD=1,Il="firebase-heartbeat-store";let Of=null;function QS(){return Of||(Of=mD(XD,JD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),Of}async function ZD(t){try{const n=(await QS()).transaction(Il),r=await n.objectStore(Il).get(XS(t));return await n.done,r}catch(e){if(e instanceof Or)Cr.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(n.message)}}}async function Cw(t,e){try{const r=(await QS()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,XS(t)),await r.done}catch(n){if(n instanceof Or)Cr.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cr.warn(r.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=1024,tN=30;class nN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tN){const o=sN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pw(),{heartbeatsToSend:r,unsentEntries:i}=rN(this._heartbeatsCache.heartbeats),s=fd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cr.warn(n),""}}}function Pw(){return new Date().toISOString().substring(0,10)}function rN(t,e=eN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Aw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WR()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Aw(t){return fd(JSON.stringify({version:2,heartbeats:t})).length}function sN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){bo(new hs("platform-logger",e=>new vD(e),"PRIVATE")),bo(new hs("heartbeat",e=>new nN(e),"PRIVATE")),pi(lm,Iw,t),pi(lm,Iw,"esm2017"),pi("fire-js","")}oN("");function iy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aN=JS,ZS=new Hl("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new ty("@firebase/auth");function lN(t,...e){md.logLevel<=de.WARN&&md.warn(`Auth (${Fo}): ${t}`,...e)}function Cc(t,...e){md.logLevel<=de.ERROR&&md.error(`Auth (${Fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw oy(t,...e)}function Dn(t,...e){return oy(t,...e)}function sy(t,e,n){const r=Object.assign(Object.assign({},aN()),{[e]:n});return new Hl("auth","Firebase",r).create(e,{appName:t.name})}function is(t){return sy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),sy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZS.create(t,...e)}function re(t,e,...n){if(!t)throw oy(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cc(e),new Error(e)}function Pr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cN(){return kw()==="http:"||kw()==="https:"}function kw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cN()||UR()||"connection"in navigator)?navigator.onLine:!0}function hN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=MR()||BR()}get(){return dN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mN=new ql(3e4,6e4);function ly(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Uo(t,e,n,r,i={}){return t1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Gl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return FR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&jo(t.emulatorConfig.host)&&(u.credentials="include"),e1.fetch()(await n1(t,t.config.apiHost,n,a),u)})}async function t1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fN),e);try{const i=new yN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ju(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sy(t,d,u);Xn(t,d)}}catch(i){if(i instanceof Or)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function gN(t,e,n,r,i={}){const s=await Uo(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function n1(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?ay(t.config,i):`${t.config.apiScheme}://${i}`;return pN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class yN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),mN.get())})}}function Ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e){return Uo(t,"POST","/v1/accounts:delete",e)}async function gd(t,e){return Uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(t,e=!1){const n=vn(t),r=await n.getIdToken(e),i=uy(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ja(Vf(i.auth_time)),issuedAtTime:Ja(Vf(i.iat)),expirationTime:Ja(Vf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const i=US(n);return i?JSON.parse(i):(Cc("Failed to decode base64 JWT payload"),null)}catch(i){return Cc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rw(t){const e=uy(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&_N(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _N({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bl(t,gd(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?r1(s.providerUserInfo):[],a=xN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function EN(t){const e=vn(t);await yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r1(t){return t.map(e=>{var{providerId:n}=e,r=iy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e){const n=await t1(t,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await n1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&jo(t.emulatorConfig.host)&&(l.credentials="include"),e1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IN(t,e){return Uo(t,"POST","/v2/accounts:revokeToken",ly(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=Rw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await SN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ho;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wN(this,e)}reload(){return EN(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await bl(this,vN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:D,isAnonymous:O,providerData:V,stsTokenManager:I}=n;re(x&&I,e,"internal-error");const E=ho.fromJSON(this.name,I);re(typeof x=="string",e,"internal-error"),Wr(h,e.name),Wr(f,e.name),re(typeof D=="boolean",e,"internal-error"),re(typeof O=="boolean",e,"internal-error"),Wr(m,e.name),Wr(y,e.name),Wr(T,e.name),Wr(P,e.name),Wr(g,e.name),Wr(_,e.name);const S=new Pn({uid:x,auth:e,email:f,emailVerified:D,displayName:h,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:T,stsTokenManager:E,createdAt:g,lastLoginAt:_});return V&&Array.isArray(V)&&(S.providerData=V.map(C=>Object.assign({},C))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new ho;i.updateFromServerResponse(n);const s=new Pn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?r1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ho;a.updateFromIdToken(r);const l=new Pn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function yr(t){Pr(t instanceof Function,"Expected a class definition");let e=Dw.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i1.type="NONE";const Nw=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gd(this.auth,{idToken:e}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(yr(Nw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||yr(Nw);const o=Pc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await gd(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Pn._fromGetAccountInfoResponse(e,f,d)}else h=Pn._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c1(e))return"Blackberry";if(d1(e))return"Webos";if(o1(e))return"Safari";if((e.includes("chrome/")||a1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function s1(t=At()){return/firefox\//i.test(t)}function o1(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a1(t=At()){return/crios\//i.test(t)}function l1(t=At()){return/iemobile/i.test(t)}function u1(t=At()){return/android/i.test(t)}function c1(t=At()){return/blackberry/i.test(t)}function d1(t=At()){return/webos/i.test(t)}function cy(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bN(t=At()){var e;return cy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CN(){return zR()&&document.documentMode===10}function h1(t=At()){return cy(t)||u1(t)||d1(t)||c1(t)||/windows phone/i.test(t)||l1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e=[]){let n;switch(t){case"Browser":n=Ow(At());break;case"Worker":n=`${Ow(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e={}){return Uo(t,"GET","/v2/passwordPolicy",ly(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=6;class RN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vw(this),this.idTokenSubscription=new Vw(this),this.beforeStateQueue=new PN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gd(this,{idToken:e}),r=await Pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(is(this));const n=e?vn(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AN(this),n=new RN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await IN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dh(t){return vn(t)}class Vw{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NN(t){dy=t}function ON(t){return dy.loadJS(t)}function VN(){return dy.gapiScript}function LN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e){const n=ry(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ds(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function jN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FN(t,e,n){const r=dh(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=p1(e),{host:o,port:a}=UN(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(ds(u,r.config.emulator)&&ds(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,jo(o)?(WS(`${s}//${o}${l}`),HS("Auth",!0)):i||BN()}function p1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UN(t){const e=p1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Lw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Lw(o)}}}function Lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return gN(t,"POST","/v1/accounts:signInWithIdp",ly(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="http://localhost";class fs extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:zN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Kl{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Kl{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Kl{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pn._fromIdTokenResponse(e,r,i),o=Mw(r);return new Co({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Mw(r);return new Co({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vd(e,n,r,i)}}function g1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(t,s,e,r):s})}async function $N(t,e,n=!1){const r=await bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(is(r));const i="reauthenticate";try{const s=await bl(t,g1(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=uy(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Co._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e,n=!1){if(Cn(t.app))return Promise.reject(is(t));const r="signIn",i=await g1(t,r,e),s=await Co._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function GN(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function qN(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function KN(t,e,n,r){return vn(t).onAuthStateChanged(e,n,r)}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=1e3,QN=10;class v1 extends y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v1.type="LOCAL";const XN=v1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w1.type="SESSION";const _1=w1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await JN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=fy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function e2(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function t2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r2(){return T1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebaseLocalStorageDb",i2=1,_d="firebaseLocalStorage",x1="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function s2(){const t=indexedDB.deleteDatabase(E1);return new Yl(t).toPromise()}function fm(){const t=indexedDB.open(E1,i2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_d,{keyPath:x1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),await s2(),e(await fm()))})})}async function jw(t,e,n){const r=fh(t,!0).put({[x1]:e,value:n});return new Yl(r).toPromise()}async function o2(t,e){const n=fh(t,!1).get(e),r=await new Yl(n).toPromise();return r===void 0?null:r.value}function Fw(t,e){const n=fh(t,!0).delete(e);return new Yl(n).toPromise()}const a2=800,l2=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(r2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t2(),!this.activeServiceWorker)return;this.sender=new ZN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await jw(e,wd,"1"),await Fw(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fh(i,!1).getAll();return new Yl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const u2=S1;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t,e){return e?yr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c2(t){return HN(t.auth,new py(t),t.bypassAuthState)}function d2(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),WN(n,new py(t),t.bypassAuthState)}async function h2(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),$N(n,new py(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:Xn(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new ql(2e3,1e4);async function p2(t,e,n){if(Cn(t.app))return Promise.reject(Dn(t,"operation-not-supported-in-this-environment"));const r=dh(t);uN(t,e,hy);const i=I1(r,n);return new Zi(r,"signInViaPopup",e,i).executeNotNull()}class Zi extends b1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f2.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="pendingRedirect",Ac=new Map;class g2 extends b1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ac.get(this.auth._key());if(!e){try{const r=await y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ac.set(this.auth._key(),e)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y2(t,e){const n=_2(e),r=w2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v2(t,e){Ac.set(t._key(),e)}function w2(t){return yr(t._redirectPersistence)}function _2(t){return Pc(m2,t.config.apiKey,t.name)}async function T2(t,e,n=!1){if(Cn(t.app))return Promise.reject(is(t));const r=dh(t),i=I1(r,e),o=await new g2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=10*60*1e3;class x2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!C1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uw(e))}saveEventToCache(e){this.cachedEventUids.add(Uw(e)),this.lastProcessedEventTime=Date.now()}}function Uw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function C1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(t,e={}){return Uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C2=/^https?/;async function P2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I2(t);for(const n of e)try{if(A2(n))return}catch{}Xn(t,"unauthorized-domain")}function A2(t){const e=dm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!C2.test(n))return!1;if(b2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new ql(3e4,6e4);function Bw(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R2(t){return new Promise((e,n)=>{var r,i,s;function o(){Bw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bw(),n(Dn(t,"network-request-failed"))},timeout:k2.get()})}if(!((i=(r=Wn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wn().gapi)===null||s===void 0)&&s.load)o();else{const a=LN("iframefcb");return Wn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},ON(`${VN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kc=null,e})}let kc=null;function D2(t){return kc=kc||R2(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new ql(5e3,15e3),O2="__/auth/iframe",V2="emulator/auth/iframe",L2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ay(e,V2):`https://${t.config.authDomain}/${O2}`,r={apiKey:e.apiKey,appName:t.name,v:Fo},i=M2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gl(r).slice(1)}`}async function F2(t){const e=await D2(t),n=Wn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:j2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Wn().setTimeout(()=>{s(o)},N2.get());function l(){Wn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B2=500,z2=600,$2="_blank",W2="http://localhost";class zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H2(t,e,n,r=B2,i=z2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},U2),{width:r.toString(),height:i.toString(),top:s,left:o}),u=At().toLowerCase();n&&(a=a1(u)?$2:n),s1(u)&&(e=e||W2,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(bN(u)&&a!=="_self")return G2(e||"",a),new zw(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new zw(h)}function G2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__/auth/handler",K2="emulator/auth/handler",Y2=encodeURIComponent("fac");async function $w(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fo,eventId:i};if(e instanceof hy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Kl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Y2}=${encodeURIComponent(l)}`:"";return`${Q2(t)}?${Gl(a).slice(1)}${u}`}function Q2({config:t}){return t.emulator?ay(t,K2):`https://${t.authDomain}/${q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class X2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=T2,this._overrideRedirectResult=v2}async _openPopup(e,n,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await $w(e,n,r,dm(),i);return H2(e,o,fy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await $w(e,n,r,dm(),i);return e2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F2(e),r=new x2(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lf,{type:Lf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Lf];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h1()||o1()||cy()}}const J2=X2;var Ww="@firebase/auth",Hw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tO(t){bo(new hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f1(t)},u=new DN(r,i,s,l);return jN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new hs("auth-internal",e=>{const n=dh(e.getProvider("auth").getImmediate());return(r=>new Z2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(Ww,Hw,eO(t)),pi(Ww,Hw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=5*60,rO=$S("authIdTokenMaxAge")||nO;let Gw=null;const iO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rO)return;const i=n==null?void 0:n.token;Gw!==i&&(Gw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ws(t=YS()){const e=ry(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MN(t,{popupRedirectResolver:J2,persistence:[u2,XN,_1]}),r=$S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=iO(s.toString());qN(n,o,()=>o(n.currentUser)),GN(n,a=>o(a))}}const i=BS("auth");return i&&FN(n,`http://${i}`),n}function sO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tO("Browser");var oO="firebase",aO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(oO,aO,"app");const lO={apiKey:"AIzaSyCEW_L_4Sq-fCJjo66hTxREUIcEbcjXvgo",authDomain:"joyenglish-40a8e.firebaseapp.com",projectId:"joyenglish-40a8e",storageBucket:"joyenglish-40a8e.firebasestorage.app",messagingSenderId:"732483026981",appId:"1:732483026981:web:4c4ed03fa259d161937fcc",measurementId:"G-YP2PHN8KJK"},wn=KS(lO);var uO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_s=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},u)=>k.createElement("svg",{ref:u,...uO,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${cO(t)}`,...l},[...e.map(([d,h])=>k.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},Aa=_s("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),dO=_s("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),hO=_s("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),fO=_s("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),pO=_s("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),mO=_s("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),gO=_s("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yO="modulepreload",vO=function(t){return"/"+t},qw={},wO=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=vO(s),s in qw)return;qw[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":yO,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var my={};Object.defineProperty(my,"__esModule",{value:!0});my.parse=bO;my.serialize=CO;const _O=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,TO=/^[\u0021-\u003A\u003C-\u007E]*$/,EO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,xO=/^[\u0020-\u003A\u003D-\u007E]*$/,SO=Object.prototype.toString,IO=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function bO(t,e){const n=new IO,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||PO;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=Kw(t,s,o),d=Yw(t,o,u),h=t.slice(u,d);if(n[h]===void 0){let f=Kw(t,o+1,l),m=Yw(t,l,f);const y=i(t.slice(f,m));n[h]=y}s=l+1}while(s<r);return n}function Kw(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Yw(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function CO(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!_O.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!TO.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!EO.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!xO.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!AO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function PO(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function AO(t){return SO.call(t)==="[object Date]"}var Qw="popstate";function kO(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return pm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cl(i)}return DO(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RO(){return Math.random().toString(36).substring(2,10)}function Xw(t,e){return{usr:t.state,key:t.key,idx:e}}function pm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||r||RO()}}function Cl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let P=d(),g=P==null?null:P-u;u=P,l&&l({action:a,location:T.location,delta:g})}function f(P,g){a="PUSH";let _=pm(T.location,P,g);n&&n(_,P),u=d()+1;let x=Xw(_,u),D=T.createHref(_);try{o.pushState(x,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}s&&l&&l({action:a,location:T.location,delta:1})}function m(P,g){a="REPLACE";let _=pm(T.location,P,g);n&&n(_,P),u=d();let x=Xw(_,u),D=T.createHref(_);o.replaceState(x,"",D),s&&l&&l({action:a,location:T.location,delta:0})}function y(P){return NO(P)}let T={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qw,h),l=P,()=>{i.removeEventListener(Qw,h),l=null}},createHref(P){return e(i,P)},createURL:y,encodeLocation(P){let g=y(P);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(P){return o.go(P)}};return T}function NO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function P1(t,e,n="/"){return OO(t,e,n,!1)}function OO(t,e,n,r){let i=typeof e=="string"?Bo(e):e,s=Ar(i.pathname||"/",n);if(s==null)return null;let o=A1(t);VO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=GO(s);a=WO(o[l],u,r)}return a}function A1(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=_r([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ve(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),A1(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:zO(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of k1(s.path))i(s,o,l)}),e}function k1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=k1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function VO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$O(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LO=/^:[\w-]+$/,MO=3,jO=2,FO=1,UO=10,BO=-2,Jw=t=>t==="*";function zO(t,e){let n=t.split("/"),r=n.length;return n.some(Jw)&&(r+=BO),e&&(r+=jO),n.filter(i=>!Jw(i)).reduce((i,s)=>i+(LO.test(s)?MO:s===""?FO:UO),r)}function $O(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WO(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Td({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Td({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:_r([s,h.pathname]),pathnameBase:QO(_r([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=_r([s,h.pathnameBase]))}return o}function Td(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function HO(t,e=!1,n=!0){Jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ar(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bo(t):t;return{pathname:n?n.startsWith("/")?n:KO(n,e):e,search:XO(r),hash:JO(i)}}function KO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R1(t){let e=YO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function D1(t,e,n,r=!1){let i;typeof t=="string"?i=Bo(t):(i={...t},Ve(!i.pathname||!i.pathname.includes("?"),Mf("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),Mf("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),Mf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=qO(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var _r=t=>t.join("/").replace(/\/\/+/g,"/"),QO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var N1=["POST","PUT","PATCH","DELETE"];new Set(N1);var eV=["GET",...N1];new Set(eV);var zo=k.createContext(null);zo.displayName="DataRouter";var ph=k.createContext(null);ph.displayName="DataRouterState";var O1=k.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var tV=k.createContext(new Map);tV.displayName="Fetchers";var nV=k.createContext(null);nV.displayName="Await";var tr=k.createContext(null);tr.displayName="Navigation";var Ql=k.createContext(null);Ql.displayName="Location";var Vr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var gy=k.createContext(null);gy.displayName="RouteError";function rV(t,{relative:e}={}){Ve(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(tr),{hash:i,pathname:s,search:o}=Jl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:_r([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Xl(){return k.useContext(Ql)!=null}function Lr(){return Ve(Xl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ql).location}var V1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(t){k.useContext(tr).static||k.useLayoutEffect(t)}function _n(){let{isDataRoute:t}=k.useContext(Vr);return t?gV():iV()}function iV(){Ve(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(zo),{basename:e,navigator:n}=k.useContext(tr),{matches:r}=k.useContext(Vr),{pathname:i}=Lr(),s=JSON.stringify(R1(r)),o=k.useRef(!1);return L1(()=>{o.current=!0}),k.useCallback((l,u={})=>{if(Jn(o.current,V1),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=D1(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_r([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}k.createContext(null);function Jl(t,{relative:e}={}){let{matches:n}=k.useContext(Vr),{pathname:r}=Lr(),i=JSON.stringify(R1(n));return k.useMemo(()=>D1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function sV(t,e){return M1(t,e)}function M1(t,e,n,r){var g;Ve(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(tr),{matches:s}=k.useContext(Vr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let _=d&&d.path||"";j1(l,!d||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let h=Lr(),f;if(e){let _=typeof e=="string"?Bo(e):e;Ve(u==="/"||((g=_.pathname)==null?void 0:g.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),f=_}else f=h;let m=f.pathname||"/",y=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=P1(t,{pathname:y});Jn(d||T!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Jn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=cV(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:_r([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:_r([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&P?k.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},P):P}function oV(){let t=mV(),e=ZO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,o)}var aV=k.createElement(oV,null),lV=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Vr.Provider,{value:this.props.routeContext},k.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uV({routeContext:t,match:e,children:n}){let r=k.useContext(zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Vr.Provider,{value:t},n)}function cV(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ve(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,f=!1,m=null,y=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||aV,o&&(a<0&&d===0?(j1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):a===d&&(f=!0,y=u.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,d+1)),P=()=>{let g;return h?g=m:f?g=y:u.route.Component?g=k.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=l,k.createElement(uV,{match:u,routeContext:{outlet:l,matches:T,isDataRoute:n!=null},children:g})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?k.createElement(lV,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:P(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):P()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dV(t){let e=k.useContext(zo);return Ve(e,yy(t)),e}function hV(t){let e=k.useContext(ph);return Ve(e,yy(t)),e}function fV(t){let e=k.useContext(Vr);return Ve(e,yy(t)),e}function vy(t){let e=fV(t),n=e.matches[e.matches.length-1];return Ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pV(){return vy("useRouteId")}function mV(){var r;let t=k.useContext(gy),e=hV("useRouteError"),n=vy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function gV(){let{router:t}=dV("useNavigate"),e=vy("useNavigate"),n=k.useRef(!1);return L1(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{Jn(n.current,V1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Zw={};function j1(t,e,n){!e&&!Zw[t]&&(Zw[t]=!0,Jn(!1,n))}k.memo(yV);function yV({routes:t,future:e,state:n}){return M1(t,void 0,n,e)}function xn(t){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vV({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ve(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=k.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Bo(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=k.useMemo(()=>{let y=Ar(l,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return Jn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(tr.Provider,{value:a},k.createElement(Ql.Provider,{children:e,value:m}))}function wV({children:t,location:e}){return sV(mm(t),e)}function mm(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,mm(r.props.children,s));return}Ve(r.type===xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mm(r.props.children,s)),n.push(o)}),n}var Rc="get",Dc="application/x-www-form-urlencoded";function mh(t){return t!=null&&typeof t.tagName=="string"}function _V(t){return mh(t)&&t.tagName.toLowerCase()==="button"}function TV(t){return mh(t)&&t.tagName.toLowerCase()==="form"}function EV(t){return mh(t)&&t.tagName.toLowerCase()==="input"}function xV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SV(t,e){return t.button===0&&(!e||e==="_self")&&!xV(t)}var Zu=null;function IV(){if(Zu===null)try{new FormData(document.createElement("form"),0),Zu=!1}catch{Zu=!0}return Zu}var bV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(t){return t!=null&&!bV.has(t)?(Jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):t}function CV(t,e){let n,r,i,s,o;if(TV(t)){let a=t.getAttribute("action");r=a?Ar(a,e):null,n=t.getAttribute("method")||Rc,i=jf(t.getAttribute("enctype"))||Dc,s=new FormData(t)}else if(_V(t)||EV(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ar(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Rc,i=jf(t.getAttribute("formenctype"))||jf(a.getAttribute("enctype"))||Dc,s=new FormData(a,t),!IV()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(mh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rc,r=null,i=Dc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function wy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function PV(t,e){if(t.id in e)return e[t.id];try{let n=await wO(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AV(t){return t!=null&&typeof t.page=="string"}function kV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RV(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await PV(s,n);return o.links?o.links():[]}return[]}));return VV(r.flat(1).filter(kV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function e_(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function DV(t,e,{includeHydrateFallback:n}={}){return NV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function NV(t){return[...new Set(t)]}function OV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function VV(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!AV(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(OV(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LV=new Set([100,101,204,205]);function MV(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ar(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function F1(){let t=k.useContext(zo);return wy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jV(){let t=k.useContext(ph);return wy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _y=k.createContext(void 0);_y.displayName="FrameworkContext";function U1(){let t=k.useContext(_y);return wy(t,"You must render this element inside a <HydratedRouter> element"),t}function FV(t,e){let n=k.useContext(_y),[r,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=g=>{g.forEach(_=>{o(_.isIntersecting)})},P=new IntersectionObserver(T,{threshold:.5});return f.current&&P.observe(f.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:ka(a,m),onBlur:ka(l,y),onMouseEnter:ka(u,m),onMouseLeave:ka(d,y),onTouchStart:ka(h,m)}]:[!1,f,{}]}function ka(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UV({page:t,...e}){let{router:n}=F1(),r=k.useMemo(()=>P1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(zV,{page:t,matches:r,...e}):null}function BV(t){let{manifest:e,routeModules:n}=U1(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return RV(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function zV({page:t,matches:e,...n}){let r=Lr(),{manifest:i,routeModules:s}=U1(),{basename:o}=F1(),{loaderData:a,matches:l}=jV(),u=k.useMemo(()=>e_(t,e,l,i,r,"data"),[t,e,l,i,r]),d=k.useMemo(()=>e_(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,T=!1;if(e.forEach(g=>{var x;let _=i.routes[g.route.id];!_||!_.hasLoader||(!u.some(D=>D.route.id===g.route.id)&&g.route.id in a&&((x=s[g.route.id])!=null&&x.shouldRevalidate)||_.hasClientLoader?T=!0:y.add(g.route.id))}),y.size===0)return[];let P=MV(t,o);return T&&y.size>0&&P.searchParams.set("_routes",e.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[P.pathname+P.search]},[o,a,r,i,u,e,t,s]),f=k.useMemo(()=>DV(d,i),[d,i]),m=BV(d);return k.createElement(k.Fragment,null,h.map(y=>k.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>k.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:T})=>k.createElement("link",{key:y,...T})))}function $V(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B1&&(window.__reactRouterVersion="7.6.3")}catch{}function WV({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=kO({window:n,v5Compat:!0}));let i=r.current,[s,o]=k.useState({action:i.action,location:i.location}),a=k.useCallback(l=>{k.startTransition(()=>o(l))},[o]);return k.useLayoutEffect(()=>i.listen(a),[i,a]),k.createElement(vV,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ed=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=k.useContext(tr),T=typeof u=="string"&&z1.test(u),P,g=!1;if(typeof u=="string"&&T&&(P=u,B1))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),A=Ar(C.pathname,y);C.origin===S.origin&&A!=null?u=A+C.search+C.hash:g=!0}catch{Jn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=rV(u,{relative:i}),[x,D,O]=FV(r,f),V=KV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function I(S){e&&e(S),S.defaultPrevented||V(S)}let E=k.createElement("a",{...f,...O,href:P||_,onClick:g||s?e:I,ref:$V(m,D),target:l,"data-discover":!T&&n==="render"?"true":void 0});return x&&!T?k.createElement(k.Fragment,null,E,k.createElement(UV,{page:_})):E});Ed.displayName="Link";var HV=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=Jl(o,{relative:u.relative}),f=Lr(),m=k.useContext(ph),{navigator:y,basename:T}=k.useContext(tr),P=m!=null&&ZV(h)&&a===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,_=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&T&&(x=Ar(x,T)||x);const D=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let O=_===g||!i&&_.startsWith(g)&&_.charAt(D)==="/",V=x!=null&&(x===g||!i&&x.startsWith(g)&&x.charAt(g.length)==="/"),I={isActive:O,isPending:V,isTransitioning:P},E=O?e:void 0,S;typeof r=="function"?S=r(I):S=[r,O?"active":null,V?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(I):s;return k.createElement(Ed,{...u,"aria-current":E,className:S,ref:d,style:C,to:o,viewTransition:a},typeof l=="function"?l(I):l)});HV.displayName="NavLink";var GV=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Rc,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=XV(),T=JV(a,{relative:u}),P=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&z1.test(a),_=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let D=x.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||o;y(D||x.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return k.createElement("form",{ref:m,method:P,action:T,onSubmit:r?l:_,...f,"data-discover":!g&&t==="render"?"true":void 0})});GV.displayName="Form";function qV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(t){let e=k.useContext(zo);return Ve(e,qV(t)),e}function KV(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=_n(),l=Lr(),u=Jl(t,{relative:s});return k.useCallback(d=>{if(SV(d,e)){d.preventDefault();let h=n!==void 0?n:Cl(l)===Cl(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var YV=0,QV=()=>`__${String(++YV)}__`;function XV(){let{router:t}=$1("useSubmit"),{basename:e}=k.useContext(tr),n=pV();return k.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=CV(r,e);if(i.navigate===!1){let d=i.fetcherKey||QV();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function JV(t,{relative:e}={}){let{basename:n}=k.useContext(tr),r=k.useContext(Vr);Ve(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Jl(t||".",{relative:e})},o=Lr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:_r([n,s.pathname])),Cl(s)}function ZV(t,e={}){let n=k.useContext(O1);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$1("useViewTransitionState"),i=Jl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Td(i.pathname,o)!=null||Td(i.pathname,s)!=null}[...LV];const eL=({isMenuOpen:t,setIsMenuOpen:e})=>{const[n,r]=k.useState(!1),i=Lr(),s=_n();k.useEffect(()=>{const u=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const o=[{name:"홈",to:"/"},{name:"커리큘럼",external:!0,href:"https://joyjukebox.notion.site/Business-English-Syllabus-141bfd2c8aa880cc9173fdf4ad2251d0"},{name:"소개",scrollTo:"about"},{name:"무료 시범강의 신청",to:"/trial"},{name:"그룹 클래스 예약",to:"/group-class"},{name:"토토방",to:"/toto-room"},{name:"상담문의",scrollTo:"contact"},{name:"관리자 로그인",to:"/login"}],a=u=>{if(i.pathname!=="/")s("/"),setTimeout(()=>{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})},300);else{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})}},l=()=>{i.pathname!=="/"?s("/"):window.scrollTo({top:0,behavior:"smooth"}),e(!1)};return w.jsxs("nav",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${n?"bg-dark-900/95 backdrop-blur-sm shadow-lg":"bg-transparent"}`,children:[w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex justify-between items-center h-16",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("button",{onClick:l,className:"text-2xl font-bold gradient-text cursor-pointer hover:opacity-80 transition-opacity",children:"Joy English"})}),w.jsx("div",{className:"hidden md:block",children:w.jsx("div",{className:"ml-10 flex items-baseline space-x-8",children:o.map(u=>u.external?w.jsx("a",{href:u.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:u.name},u.name):u.scrollTo?w.jsx("button",{onClick:()=>a(u.scrollTo),className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):u.name==="홈"?w.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):w.jsx(Ed,{to:u.to,className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:u.name},u.name))})}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:()=>e(!t),className:"text-gray-300 hover:text-white p-2",children:t?w.jsx(gO,{size:24}):w.jsx(fO,{size:24})})})]})}),t&&w.jsx("div",{className:"md:hidden bg-dark-900/95 backdrop-blur-sm",children:w.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:o.map(u=>u.external?w.jsx("a",{href:u.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",onClick:()=>e(!1),children:u.name},u.name):u.scrollTo?w.jsx("button",{onClick:()=>{e(!1),a(u.scrollTo)},className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):u.name==="홈"?w.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 bg-transparent border-none outline-none cursor-pointer",children:u.name},u.name):w.jsx(Ed,{to:u.to,className:"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",onClick:()=>e(!1),children:u.name},u.name))})})]})},W1=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),gh=k.createContext({}),Ty=k.createContext(null),yh=typeof document<"u",tL=yh?k.useLayoutEffect:k.useEffect,H1=k.createContext({strict:!1}),Ey=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nL="framerAppearId",G1="data-"+Ey(nL);function rL(t,e,n,r){const{visualElement:i}=k.useContext(gh),s=k.useContext(H1),o=k.useContext(Ty),a=k.useContext(W1).reducedMotion,l=k.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;k.useInsertionEffect(()=>{u&&u.update(n,o)});const d=k.useRef(!!(n[G1]&&!window.HandoffComplete));return tL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Zs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iL(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zs(n)&&(n.current=r))},[e])}function Pl(t){return typeof t=="string"||Array.isArray(t)}function vh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sy=["initial",...xy];function wh(t){return vh(t.animate)||Sy.some(e=>Pl(t[e]))}function q1(t){return!!(wh(t)||t.variants)}function sL(t,e){if(wh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pl(n)?n:void 0,animate:Pl(r)?r:void 0}}return t.inherit!==!1?e:{}}function oL(t){const{initial:e,animate:n}=sL(t,k.useContext(gh));return k.useMemo(()=>({initial:e,animate:n}),[t_(e),t_(n)])}function t_(t){return Array.isArray(t)?t.join(" "):t}const n_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Al={};for(const t in n_)Al[t]={isEnabled:e=>n_[t].some(n=>!!e[n])};function aL(t){for(const e in t)Al[e]={...Al[e],...t[e]}}const K1=k.createContext({}),Y1=k.createContext({}),lL=Symbol.for("motionComponentSymbol");function uL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&aL(t);function s(a,l){let u;const d={...k.useContext(W1),...a,layoutId:cL(a)},{isStatic:h}=d,f=oL(a),m=r(a,h);if(!h&&yh){f.visualElement=rL(i,m,d,e);const y=k.useContext(Y1),T=k.useContext(H1).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,T,t,y))}return k.createElement(gh.Provider,{value:f},u&&f.visualElement?k.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,a,iL(m,f.visualElement,l),m,h,f.visualElement))}const o=k.forwardRef(s);return o[lL]=i,o}function cL({layoutId:t}){const e=k.useContext(K1).id;return e&&t!==void 0?e+"-"+t:t}function dL(t){function e(r,i={}){return uL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const hL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iy(t){return typeof t!="string"||t.includes("-")?!1:!!(hL.indexOf(t)>-1||/[A-Z]/.test(t))}const xd={};function fL(t){Object.assign(xd,t)}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ts=new Set(Zl);function Q1(t,{layout:e,layoutId:n}){return Ts.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xd[t]||t==="opacity")}const qt=t=>!!(t&&t.getVelocity),pL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mL=Zl.length;function gL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<mL;o++){const a=Zl[o];if(t[a]!==void 0){const l=pL[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const X1=t=>e=>typeof e=="string"&&e.startsWith(t),J1=X1("--"),gm=X1("var(--"),yL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ei=(t,e,n)=>Math.min(Math.max(n,t),e),Es={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Za={...Es,transform:t=>Ei(0,1,t)},ec={...Es,default:1},el=t=>Math.round(t*1e5)/1e5,_h=/(-)?([\d]*\.?[\d])+/g,Z1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function eu(t){return typeof t=="string"}const tu=t=>({test:e=>eu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hr=tu("deg"),Hn=tu("%"),ee=tu("px"),_L=tu("vh"),TL=tu("vw"),r_={...Hn,parse:t=>Hn.parse(t)/100,transform:t=>Hn.transform(t*100)},i_={...Es,transform:Math.round},eI={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,size:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:Hr,skewX:Hr,skewY:Hr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Za,originX:r_,originY:r_,originZ:ee,zIndex:i_,fillOpacity:Za,strokeOpacity:Za,numOctaves:i_};function by(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(J1(h)){s[h]=f;continue}const m=eI[h],y=vL(f,m);if(Ts.has(h)){if(l=!0,o[h]=y,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):i[h]=y}if(e.transform||(l||r?i.transform=gL(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const Cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tI(t,e,n){for(const r in e)!qt(e[r])&&!Q1(r,n)&&(t[r]=e[r])}function EL({transformTemplate:t},e,n){return k.useMemo(()=>{const r=Cy();return by(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function xL(t,e,n){const r=t.style||{},i={};return tI(i,r,t),Object.assign(i,EL(t,e,n)),t.transformValues?t.transformValues(i):i}function SL(t,e,n){const r={},i=xL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const IL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IL.has(t)}let nI=t=>!Sd(t);function bL(t){t&&(nI=e=>e.startsWith("on")?!Sd(e):t(e))}try{bL(require("@emotion/is-prop-valid").default)}catch{}function CL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(nI(i)||n===!0&&Sd(i)||!e&&!Sd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function s_(t,e,n){return typeof t=="string"?t:ee.transform(e+n*t)}function PL(t,e,n){const r=s_(e,t.x,t.width),i=s_(n,t.y,t.height);return`${r} ${i}`}const AL={offset:"stroke-dashoffset",array:"stroke-dasharray"},kL={offset:"strokeDashoffset",array:"strokeDasharray"};function RL(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?AL:kL;t[s.offset]=ee.transform(-r);const o=ee.transform(e),a=ee.transform(n);t[s.array]=`${o} ${a}`}function Py(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(by(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:T}=t;m.transform&&(T&&(y.transform=m.transform),delete m.transform),T&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=PL(T,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&RL(m,o,a,l,!1)}const rI=()=>({...Cy(),attrs:{}}),Ay=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DL(t,e,n,r){const i=k.useMemo(()=>{const s=rI();return Py(s,e,{enableHardwareAcceleration:!1},Ay(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};tI(s,t.style,t),i.style={...s,...i.style}}return i}function NL(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Iy(n)?DL:SL)(r,s,o,n),d={...CL(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=k.useMemo(()=>qt(h)?h.get():h,[h]);return k.createElement(n,{...d,children:f})}}function iI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const sI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oI(t,e,n,r){iI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sI.has(i)?i:Ey(i),e.attrs[i])}function ky(t,e){const{style:n}=t,r={};for(const i in n)(qt(n[i])||e.style&&qt(e.style[i])||Q1(i,t))&&(r[i]=n[i]);return r}function aI(t,e){const n=ky(t,e);for(const r in t)if(qt(t[r])||qt(e[r])){const i=Zl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Ry(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function OL(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Id=t=>Array.isArray(t),VL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),LL=t=>Id(t)?t[t.length-1]||0:t;function Nc(t){const e=qt(t)?t.get():t;return VL(e)?e.toValue():e}function ML({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:jL(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const lI=t=>(e,n)=>{const r=k.useContext(gh),i=k.useContext(Ty),s=()=>ML(t,e,r,i);return n?s():OL(s)};function jL(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Nc(s[f]);let{initial:o,animate:a}=t;const l=wh(t),u=q1(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!vh(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=Ry(t,m);if(!y)return;const{transitionEnd:T,transition:P,...g}=y;for(const _ in g){let x=g[_];if(Array.isArray(x)){const D=d?x.length-1:0;x=x[D]}x!==null&&(i[_]=x)}for(const _ in T)i[_]=T[_]}),i}const Ue=t=>t;class o_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function FL(t){let e=new o_,n=new o_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const tc=["prepare","read","update","preRender","render","postRender"],UL=40;function BL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=tc.reduce((h,f)=>(h[f]=FL(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,UL),1),i.timestamp=h,i.isProcessing=!0,tc.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:tc.reduce((h,f)=>{const m=s[f];return h[f]=(y,T=!1,P=!1)=>(n||l(),m.schedule(y,T,P)),h},{}),cancel:h=>tc.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Ce,cancel:kr,state:St,steps:Ff}=BL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ue,!0),zL={useVisualState:lI({scrapeMotionValuesFromProps:aI,createRenderState:rI,onMount:(t,e,{renderState:n,latestValues:r})=>{Ce.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ce.render(()=>{Py(n,r,{enableHardwareAcceleration:!1},Ay(e.tagName),t.transformTemplate),oI(e,n)})}})},$L={useVisualState:lI({scrapeMotionValuesFromProps:ky,createRenderState:Cy})};function WL(t,{forwardMotionProps:e=!1},n,r){return{...Iy(t)?zL:$L,preloadedFeatures:n,useRender:NL(e),createVisualElement:r,Component:t}}function vr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const uI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Th(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const HL=t=>e=>uI(e)&&t(e,Th(e));function Tr(t,e,n,r){return vr(t,e,HL(n),r)}const GL=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(GL);function cI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const a_=cI("dragHorizontal"),l_=cI("dragVertical");function dI(t){let e=!1;if(t==="y")e=l_();else if(t==="x")e=a_();else{const n=a_(),r=l_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function hI(){const t=dI(!0);return t?(t(),!1):!0}class Vi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||hI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Ce.update(()=>a[r](s,o))};return Tr(t.current,n,i,{passive:!t.getProps()[r]})}class qL extends Vi{mount(){this.unmount=mi(u_(this.node,!0),u_(this.node,!1))}unmount(){}}class KL extends Vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(vr(this.node.current,"focus",()=>this.onFocus()),vr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fI=(t,e)=>e?t===e?!0:fI(t,e.parentElement):!1;function Uf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Th(n))}class YL extends Vi{constructor(){super(...arguments),this.removeStartListeners=Ue,this.removeEndListeners=Ue,this.removeAccessibleListeners=Ue,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Tr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Ce.update(()=>{!h&&!fI(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Tr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Uf("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ce.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=vr(this.node.current,"keyup",o),Uf("down",(a,l)=>{this.startPress(a,l)})},n=vr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Uf("cancel",(s,o)=>this.cancelPress(s,o))},i=vr(this.node.current,"blur",r);this.removeAccessibleListeners=mi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ce.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ce.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Tr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=vr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ym=new WeakMap,Bf=new WeakMap,QL=t=>{const e=ym.get(t.target);e&&e(t)},XL=t=>{t.forEach(QL)};function JL({root:t,...e}){const n=t||document;Bf.has(n)||Bf.set(n,{});const r=Bf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(XL,{root:t,...e})),r[i]}function ZL(t,e,n){const r=JL(e);return ym.set(t,n),r.observe(t),()=>{ym.delete(t),r.unobserve(t)}}const eM={some:0,all:1};class tM extends Vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:eM[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return ZL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nM(e,n))&&this.startObserver()}unmount(){}}function nM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rM={inView:{Feature:tM},tap:{Feature:YL},focus:{Feature:KL},hover:{Feature:qL}};function pI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function iM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function sM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Eh(t,e,n){const r=t.getProps();return Ry(r,e,n!==void 0?n:r.custom,iM(t),sM(t))}let oM=Ue,Dy=Ue;const gi=t=>t*1e3,Er=t=>t/1e3,aM={current:!1},mI=t=>Array.isArray(t)&&typeof t[0]=="number";function gI(t){return!!(!t||typeof t=="string"&&yI[t]||mI(t)||Array.isArray(t)&&t.every(gI))}const Ma=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ma([0,.65,.55,1]),circOut:Ma([.55,0,1,.45]),backIn:Ma([.31,.01,.66,-.59]),backOut:Ma([.33,1.53,.69,.99])};function vI(t){if(t)return mI(t)?Ma(t):Array.isArray(t)?t.map(vI):yI[t]}function lM(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=vI(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function uM(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const wI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cM=1e-7,dM=12;function hM(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=wI(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>cM&&++a<dM);return o}function nu(t,e,n,r){if(t===e&&n===r)return Ue;const i=s=>hM(s,0,1,t,n);return s=>s===0||s===1?s:wI(i(s),e,r)}const fM=nu(.42,0,1,1),pM=nu(0,0,.58,1),_I=nu(.42,0,.58,1),mM=t=>Array.isArray(t)&&typeof t[0]!="number",TI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,EI=t=>e=>1-t(1-e),Ny=t=>1-Math.sin(Math.acos(t)),xI=EI(Ny),gM=TI(Ny),SI=nu(.33,1.53,.69,.99),Oy=EI(SI),yM=TI(Oy),vM=t=>(t*=2)<1?.5*Oy(t):.5*(2-Math.pow(2,-10*(t-1))),wM={linear:Ue,easeIn:fM,easeInOut:_I,easeOut:pM,circIn:Ny,circInOut:gM,circOut:xI,backIn:Oy,backInOut:yM,backOut:SI,anticipate:vM},c_=t=>{if(Array.isArray(t)){Dy(t.length===4);const[e,n,r,i]=t;return nu(e,n,r,i)}else if(typeof t=="string")return wM[t];return t},Vy=(t,e)=>n=>!!(eu(n)&&wL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),II=(t,e,n)=>r=>{if(!eu(r))return r;const[i,s,o,a]=r.match(_h);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_M=t=>Ei(0,255,t),zf={...Es,transform:t=>Math.round(_M(t))},es={test:Vy("rgb","red"),parse:II("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zf.transform(t)+", "+zf.transform(e)+", "+zf.transform(n)+", "+el(Za.transform(r))+")"};function TM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vm={test:Vy("#"),parse:TM,transform:es.transform},eo={test:Vy("hsl","hue"),parse:II("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hn.transform(el(e))+", "+Hn.transform(el(n))+", "+el(Za.transform(r))+")"},Dt={test:t=>es.test(t)||vm.test(t)||eo.test(t),parse:t=>es.test(t)?es.parse(t):eo.test(t)?eo.parse(t):vm.parse(t),transform:t=>eu(t)?t:t.hasOwnProperty("red")?es.transform(t):eo.transform(t)},Ne=(t,e,n)=>-n*t+n*e+t;function $f(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=$f(l,a,t+1/3),s=$f(l,a,t),o=$f(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Wf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},xM=[vm,es,eo],SM=t=>xM.find(e=>e.test(t));function d_(t){const e=SM(t);let n=e.parse(t);return e===eo&&(n=EM(n)),n}const bI=(t,e)=>{const n=d_(t),r=d_(e),i={...n};return s=>(i.red=Wf(n.red,r.red,s),i.green=Wf(n.green,r.green,s),i.blue=Wf(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),es.transform(i))};function IM(t){var e,n;return isNaN(t)&&eu(t)&&(((e=t.match(_h))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Z1))===null||n===void 0?void 0:n.length)||0)>0}const CI={regex:yL,countKey:"Vars",token:"${v}",parse:Ue},PI={regex:Z1,countKey:"Colors",token:"${c}",parse:Dt.parse},AI={regex:_h,countKey:"Numbers",token:"${n}",parse:Es.parse};function Hf(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function bd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Hf(n,CI),Hf(n,PI),Hf(n,AI),n}function kI(t){return bd(t).values}function RI(t){const{values:e,numColors:n,numVars:r,tokenised:i}=bd(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(CI.token,o[l]):l<r+n?a=a.replace(PI.token,Dt.transform(o[l])):a=a.replace(AI.token,el(o[l]));return a}}const bM=t=>typeof t=="number"?0:t;function CM(t){const e=kI(t);return RI(t)(e.map(bM))}const xi={test:IM,parse:kI,createTransformer:RI,getAnimatableNone:CM},DI=(t,e)=>n=>`${n>0?e:t}`;function NI(t,e){return typeof t=="number"?n=>Ne(t,e,n):Dt.test(t)?bI(t,e):t.startsWith("var(")?DI(t,e):VI(t,e)}const OI=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>NI(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},PM=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=NI(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},VI=(t,e)=>{const n=xi.createTransformer(e),r=bd(t),i=bd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mi(OI(r.values,i.values),n):DI(t,e)},kl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},h_=(t,e)=>n=>Ne(t,e,n);function AM(t){return typeof t=="number"?h_:typeof t=="string"?Dt.test(t)?bI:VI:Array.isArray(t)?OI:typeof t=="object"?PM:h_}function kM(t,e,n){const r=[],i=n||AM(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ue:e;a=mi(l,a)}r.push(a)}return r}function LI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Dy(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=kM(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=kl(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Ei(t[0],t[s-1],u)):l}function RM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=kl(0,e,r);t.push(Ne(n,1,i))}}function DM(t){const e=[0];return RM(e,t.length-1),e}function NM(t,e){return t.map(n=>n*e)}function OM(t,e){return t.map(()=>e||_I).splice(0,t.length-1)}function Cd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=mM(r)?r.map(c_):c_(r),s={done:!1,value:e[0]},o=NM(n&&n.length===e.length?n:DM(e),t),a=LI(o,e,{ease:Array.isArray(i)?i:OM(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function MI(t,e){return e?t*(1e3/e):0}const VM=5;function jI(t,e,n){const r=Math.max(e-VM,0);return MI(n-t(r),e-r)}const Gf=.001,LM=.01,f_=10,MM=.05,jM=1;function FM({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;oM(t<=gi(f_));let o=1-e;o=Ei(MM,jM,o),t=Ei(LM,f_,Er(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=wm(u,o),y=Math.exp(-h);return Gf-f/m*y},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),T=wm(Math.pow(u,2),o);return(-i(u)+Gf>0?-1:1)*((f-m)*y)/T}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Gf+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=BM(i,s,a);if(t=gi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const UM=12;function BM(t,e,n){let r=n;for(let i=1;i<UM;i++)r=r-t(r)/e(r);return r}function wm(t,e){return t*Math.sqrt(1-e*e)}const zM=["duration","bounce"],$M=["stiffness","damping","mass"];function p_(t,e){return e.some(n=>t[n]!==void 0)}function WM(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!p_(t,$M)&&p_(t,zM)){const n=FM(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function FI({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=WM({...r,velocity:-Er(r.velocity||0)}),m=h||0,y=l/(2*Math.sqrt(a*u)),T=s-i,P=Er(Math.sqrt(a/u)),g=Math.abs(T)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let _;if(y<1){const x=wm(P,y);_=D=>{const O=Math.exp(-y*P*D);return s-O*((m+y*P*T)/x*Math.sin(x*D)+T*Math.cos(x*D))}}else if(y===1)_=x=>s-Math.exp(-P*x)*(T+(m+P*T)*x);else{const x=P*Math.sqrt(y*y-1);_=D=>{const O=Math.exp(-y*P*D),V=Math.min(x*D,300);return s-O*((m+y*P*T)*Math.sinh(V)+x*T*Math.cosh(V))/x}}return{calculatedDuration:f&&d||null,next:x=>{const D=_(x);if(f)o.done=x>=d;else{let O=m;x!==0&&(y<1?O=jI(_,x,D):O=0);const V=Math.abs(O)<=n,I=Math.abs(s-D)<=e;o.done=V&&I}return o.value=o.done?s:D,o}}}function m_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,y=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let T=n*e;const P=h+T,g=o===void 0?P:o(P);g!==P&&(T=g-h);const _=E=>-T*Math.exp(-E/r),x=E=>g+_(E),D=E=>{const S=_(E),C=x(E);f.done=Math.abs(S)<=u,f.value=f.done?g:C};let O,V;const I=E=>{m(f.value)&&(O=E,V=FI({keyframes:[f.value,y(f.value)],velocity:jI(x,E,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:E=>{let S=!1;return!V&&O===void 0&&(S=!0,D(E),I(E)),O!==void 0&&E>O?V.next(E-O):(!S&&D(E),f)}}}const HM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ce.update(e,!0),stop:()=>kr(e),now:()=>St.isProcessing?St.timestamp:performance.now()}},g_=2e4;function y_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<g_;)e+=n,r=t.next(e);return e>=g_?1/0:e}const GM={decay:m_,inertia:m_,tween:Cd,keyframes:Cd,spring:FI};function Pd({autoplay:t=!0,delay:e=0,driver:n=HM,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,y=!1,T,P;const g=()=>{P=new Promise(K=>{T=K})};g();let _;const x=GM[i]||Cd;let D;x!==Cd&&typeof r[0]!="number"&&(D=LI([0,100],r,{clamp:!1}),r=[0,100]);const O=x({...f,keyframes:r});let V;a==="mirror"&&(V=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let I="idle",E=null,S=null,C=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=y_(O));const{calculatedDuration:A}=O;let N=1/0,R=1/0;A!==null&&(N=A+o,R=N*(s+1)-o);let Q=0;const Z=K=>{if(S===null)return;m>0&&(S=Math.min(S,K)),m<0&&(S=Math.min(K-R/m,S)),E!==null?Q=E:Q=Math.round(K-S)*m;const ne=Q-e*(m>=0?1:-1),oe=m>=0?ne<0:ne>R;Q=Math.max(ne,0),I==="finished"&&E===null&&(Q=R);let Ke=Q,et=O;if(s){const jt=Math.min(Q,R)/N;let Kt=Math.floor(jt),vt=jt%1;!vt&&jt>=1&&(vt=1),vt===1&&Kt--,Kt=Math.min(Kt,s+1),!!(Kt%2)&&(a==="reverse"?(vt=1-vt,o&&(vt-=o/N)):a==="mirror"&&(et=V)),Ke=Ei(0,1,vt)*N}const $e=oe?{done:!1,value:r[0]}:et.next(Ke);D&&($e.value=D($e.value));let{done:Ye}=$e;!oe&&A!==null&&(Ye=m>=0?Q>=R:Q<=0);const nr=E===null&&(I==="finished"||I==="running"&&Ye);return h&&h($e.value),nr&&F(),$e},L=()=>{_&&_.stop(),_=void 0},W=()=>{I="idle",L(),T(),g(),S=C=null},F=()=>{I="finished",d&&d(),L(),T()},B=()=>{if(y)return;_||(_=n(Z));const K=_.now();l&&l(),E!==null?S=K-E:(!S||I==="finished")&&(S=K),I==="finished"&&g(),C=S,E=null,I="running",_.start()};t&&B();const H={then(K,ne){return P.then(K,ne)},get time(){return Er(Q)},set time(K){K=gi(K),Q=K,E!==null||!_||m===0?E=K:S=_.now()-K/m},get duration(){const K=O.calculatedDuration===null?y_(O):O.calculatedDuration;return Er(K)},get speed(){return m},set speed(K){K===m||!_||(m=K,H.time=Er(Q))},get state(){return I},play:B,pause:()=>{I="paused",E=Q},stop:()=>{y=!0,I!=="idle"&&(I="idle",u&&u(),W())},cancel:()=>{C!==null&&Z(C),W()},complete:()=>{I="finished"},sample:K=>(S=0,Z(K))};return H}function qM(t){let e;return()=>(e===void 0&&(e=t()),e)}const KM=qM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),YM=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),nc=10,QM=2e4,XM=(t,e)=>e.type==="spring"||t==="backgroundColor"||!gI(e.ease);function JM(t,e,{onUpdate:n,onComplete:r,...i}){if(!(KM()&&YM.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(x=>{a=x})};d();let{keyframes:h,duration:f=300,ease:m,times:y}=i;if(XM(e,i)){const x=Pd({...i,repeat:0,delay:0});let D={done:!1,value:h[0]};const O=[];let V=0;for(;!D.done&&V<QM;)D=x.sample(V),O.push(D.value),V+=nc;y=void 0,h=O,f=V-nc,m="linear"}const T=lM(t.owner.current,e,h,{...i,duration:f,ease:m,times:y}),P=()=>{u=!1,T.cancel()},g=()=>{u=!0,Ce.update(P),a(),d()};return T.onfinish=()=>{u||(t.set(uM(h,i)),r&&r(),g())},{then(x,D){return l.then(x,D)},attachTimeline(x){return T.timeline=x,T.onfinish=null,Ue},get time(){return Er(T.currentTime||0)},set time(x){T.currentTime=gi(x)},get speed(){return T.playbackRate},set speed(x){T.playbackRate=x},get duration(){return Er(f)},play:()=>{o||(T.play(),kr(P))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:x}=T;if(x){const D=Pd({...i,autoplay:!1});t.setWithVelocity(D.sample(x-nc).value,D.sample(x).value,nc)}g()},complete:()=>{u||T.finish()},cancel:g}}function ZM({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ue,pause:Ue,stop:Ue,then:s=>(s(),Promise.resolve()),cancel:Ue,complete:Ue});return e?Pd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const ej={type:"spring",stiffness:500,damping:25,restSpeed:10},tj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nj={type:"keyframes",duration:.8},rj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ij=(t,{keyframes:e})=>e.length>2?nj:Ts.has(t)?t.startsWith("scale")?tj(e[1]):ej:rj,_m=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xi.test(e)||e==="0")&&!e.startsWith("url(")),sj=new Set(["brightness","contrast","saturate","opacity"]);function oj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_h)||[];if(!r)return t;const i=n.replace(r,"");let s=sj.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const aj=/([a-z-]*)\(.*?\)/g,Tm={...xi,getAnimatableNone:t=>{const e=t.match(aj);return e?e.map(oj).join(" "):t}},lj={...eI,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Tm,WebkitFilter:Tm},Ly=t=>lj[t];function UI(t,e){let n=Ly(t);return n!==Tm&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BI=t=>/^0[^.\s]+$/.test(t);function uj(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||BI(t)}function cj(t,e,n,r){const i=_m(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),uj(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=UI(e,a)}return s}function dj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function My(t,e){return t[e]||t.default||t}const hj={skipAnimations:!1},jy=(t,e,n,r={})=>i=>{const s=My(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-gi(o);const l=cj(e,t,n,s),u=l[0],d=l[l.length-1],h=_m(t,u),f=_m(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(dj(s)||(m={...m,...ij(t,m)}),m.duration&&(m.duration=gi(m.duration)),m.repeatDelay&&(m.repeatDelay=gi(m.repeatDelay)),!h||!f||aM.current||s.type===!1||hj.skipAnimations)return ZM(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=JM(e,t,m);if(y)return y}return Pd(m)};function Ad(t){return!!(qt(t)&&t.add)}const zI=t=>/^\-?\d*\.?\d+$/.test(t);function Fy(t,e){t.indexOf(e)===-1&&t.push(e)}function Uy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class By{constructor(){this.subscriptions=[]}add(e){return Fy(this.subscriptions,e),()=>Uy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fj=t=>!isNaN(parseFloat(t));class pj{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=St;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ce.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ce.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=fj(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new By);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?MI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Po(t,e){return new pj(t,e)}const $I=t=>e=>e.test(t),mj={test:t=>t==="auto",parse:t=>t},WI=[Es,ee,Hn,Hr,TL,_L,mj],Ra=t=>WI.find($I(t)),gj=[...WI,Dt,xi],yj=t=>gj.find($I(t));function vj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Po(n))}function wj(t,e){const n=Eh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=LL(s[o]);vj(t,o,a)}}function _j(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(zI(d)||BI(d))?d=parseFloat(d):!yj(d)&&xi.test(u)&&(d=UI(l,u)),t.addValue(l,Po(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function Tj(t,e){return e?(e[t]||e.default||e).from:void 0}function Ej(t,e,n){const r={};for(const i in t){const s=Tj(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function xj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Sj(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function HI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||d&&xj(d,h))continue;const y={delay:n,elapsed:0,...My(s||{},h)};if(window.HandoffAppearAnimations){const g=t.getProps()[G1];if(g){const _=window.HandoffAppearAnimations(g,h,f,Ce);_!==null&&(y.elapsed=_,y.isHandoff=!0)}}let T=!y.isHandoff&&!Sj(f,m);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(T=!1),f.animation&&(T=!1),T)continue;f.start(jy(h,f,m,t.shouldReduceMotion&&Ts.has(h)?{type:!1}:y));const P=f.animation;Ad(l)&&(l.add(h),P.then(()=>l.remove(h))),u.push(P)}return o&&Promise.all(u).then(()=>{o&&wj(t,o)}),u}function Em(t,e,n={}){const r=Eh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(HI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return Ij(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Ij(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(bj).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Em(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function bj(t,e){return t.sortNodePosition(e)}function Cj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Em(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Em(t,e,n);else{const i=typeof e=="function"?Eh(t,e,n.custom):e;r=Promise.all(HI(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Pj=[...xy].reverse(),Aj=xy.length;function kj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Cj(t,n,r)))}function Rj(t){let e=kj(t);const n=Nj();let r=!0;const i=(l,u)=>{const d=Eh(t,u);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let y={},T=1/0;for(let g=0;g<Aj;g++){const _=Pj[g],x=n[_],D=d[_]!==void 0?d[_]:h[_],O=Pl(D),V=_===u?x.isActive:null;V===!1&&(T=g);let I=D===h[_]&&D!==d[_]&&O;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),x.protectedKeys={...y},!x.isActive&&V===null||!D&&!x.prevProp||vh(D)||typeof D=="boolean")continue;let S=Dj(x.prevProp,D)||_===u&&x.isActive&&!I&&O||g>T&&O,C=!1;const A=Array.isArray(D)?D:[D];let N=A.reduce(i,{});V===!1&&(N={});const{prevResolvedValues:R={}}=x,Q={...R,...N},Z=L=>{S=!0,m.has(L)&&(C=!0,m.delete(L)),x.needsAnimating[L]=!0};for(const L in Q){const W=N[L],F=R[L];if(y.hasOwnProperty(L))continue;let B=!1;Id(W)&&Id(F)?B=!pI(W,F):B=W!==F,B?W!==void 0?Z(L):m.add(L):W!==void 0&&m.has(L)?Z(L):x.protectedKeys[L]=!0}x.prevProp=D,x.prevResolvedValues=N,x.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(S=!1),S&&(!I||C)&&f.push(...A.map(L=>({animation:L,options:{type:_,...l}})))}if(m.size){const g={};m.forEach(_=>{const x=t.getBaseTarget(_);x!==void 0&&(g[_]=x)}),f.push({animation:g})}let P=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(f):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const f=o(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Dj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pI(e,t):!1}function Wi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nj(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class Oj extends Vi{constructor(e){super(e),e.animationState||(e.animationState=Rj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),vh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Vj=0;class Lj extends Vi{constructor(){super(...arguments),this.id=Vj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Mj={animation:{Feature:Oj},exit:{Feature:Lj}},v_=(t,e)=>Math.abs(t-e);function jj(t,e){const n=v_(t.x,e.x),r=v_(t.y,e.y);return Math.sqrt(n**2+r**2)}class GI{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Kf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=jj(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:T}=St;this.history.push({...y,timestamp:T});const{onStart:P,onMove:g}=this.handlers;f||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=qf(f,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Kf(h.type==="pointercancel"?this.lastMoveEventInfo:qf(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,P),y&&y(h,P)},!uI(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Th(e),a=qf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=St;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Kf(a,this.history)),this.removeListeners=mi(Tr(this.contextWindow,"pointermove",this.handlePointerMove),Tr(this.contextWindow,"pointerup",this.handlePointerUp),Tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function qf(t,e){return e?{point:e(t.point)}:t}function w_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kf({point:t},e){return{point:t,delta:w_(t,qI(e)),offset:w_(t,Fj(e)),velocity:Uj(e,.1)}}function Fj(t){return t[0]}function qI(t){return t[t.length-1]}function Uj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=qI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const s=Er(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tn(t){return t.max-t.min}function xm(t,e=0,n=.01){return Math.abs(t-e)<=n}function __(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),(xm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(xm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tl(t,e,n,r){__(t.x,e.x,n.x,r?r.originX:void 0),__(t.y,e.y,n.y,r?r.originY:void 0)}function T_(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function Bj(t,e,n){T_(t.x,e.x,n.x),T_(t.y,e.y,n.y)}function E_(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function nl(t,e,n){E_(t.x,e.x,n.x),E_(t.y,e.y,n.y)}function zj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function x_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $j(t,{top:e,left:n,bottom:r,right:i}){return{x:x_(t.x,n,i),y:x_(t.y,e,r)}}function S_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Wj(t,e){return{x:S_(t.x,e.x),y:S_(t.y,e.y)}}function Hj(t,e){let n=.5;const r=tn(t),i=tn(e);return i>r?n=kl(e.min,e.max-r,t.min):r>i&&(n=kl(t.min,t.max-i,e.min)),Ei(0,1,n)}function Gj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sm=.35;function qj(t=Sm){return t===!1?t=0:t===!0&&(t=Sm),{x:I_(t,"left","right"),y:I_(t,"top","bottom")}}function I_(t,e,n){return{min:b_(t,e),max:b_(t,n)}}function b_(t,e){return typeof t=="number"?t:t[e]||0}const C_=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:C_(),y:C_()}),P_=()=>({min:0,max:0}),He=()=>({x:P_(),y:P_()});function an(t){return[t("x"),t("y")]}function KI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Kj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yf(t){return t===void 0||t===1}function Im({scale:t,scaleX:e,scaleY:n}){return!Yf(t)||!Yf(e)||!Yf(n)}function Ki(t){return Im(t)||YI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function YI(t){return A_(t.x)||A_(t.y)}function A_(t){return t&&t!=="0%"}function kd(t,e,n){const r=t-n,i=e*r;return n+i}function k_(t,e,n,r,i){return i!==void 0&&(t=kd(t,i,r)),kd(t,n,r)+e}function bm(t,e=0,n=1,r,i){t.min=k_(t.min,e,n,r,i),t.max=k_(t.max,e,n,r,i)}function QI(t,{x:e,y:n}){bm(t.x,e.translate,e.scale,e.originPoint),bm(t.y,n.translate,n.scale,n.originPoint)}function Qj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&no(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,QI(t,o)),r&&Ki(s.latestValues)&&no(t,s.latestValues))}e.x=R_(e.x),e.y=R_(e.y)}function R_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Kr(t,e){t.min=t.min+e,t.max=t.max+e}function D_(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ne(t.min,t.max,s);bm(t,e[n],e[r],o,e.scale)}const Xj=["x","scaleX","originX"],Jj=["y","scaleY","originY"];function no(t,e){D_(t.x,e,Xj),D_(t.y,e,Jj)}function XI(t,e){return KI(Yj(t.getBoundingClientRect(),e))}function Zj(t,e,n){const r=XI(t,n),{scroll:i}=e;return i&&(Kr(r.x,i.offset.x),Kr(r.y,i.offset.y)),r}const JI=({current:t})=>t?t.ownerDocument.defaultView:null,e4=new WeakMap;class t4{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Th(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dI(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(P=>{let g=this.getAxisMotionValue(P).get()||0;if(Hn.test(g)){const{projection:_}=this.visualElement;if(_&&_.layout){const x=_.layout.layoutBox[P];x&&(g=tn(x)*(parseFloat(g)/100))}}this.originPoint[P]=g}),y&&Ce.update(()=>y(d,h),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:T}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:P}=h;if(m&&this.currentDirection===null){this.currentDirection=n4(P),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),T&&T(d,h)},a=(d,h)=>this.stop(d,h),l=()=>an(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new GI(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:JI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ce.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!rc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=zj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=$j(i.layoutBox,n):this.constraints=!1,this.elastic=qj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&an(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Gj(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Zj(r,i.root,this.visualElement.getTransformPagePoint());let o=Wj(i.layout.layoutBox,s);if(n){const a=n(Kj(o));this.hasMutatedConstraints=!!a,a&&(o=KI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=an(d=>{if(!rc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(jy(e,r,0,n))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){an(n=>{const{drag:r}=this.getProps();if(!rc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};an(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Hj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),an(o=>{if(!rc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ne(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;e4.set(this.visualElement,this);const e=this.visualElement.current,n=Tr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=vr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(an(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function rc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function n4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class r4 extends Vi{constructor(e){super(e),this.removeGroupControls=Ue,this.removeListeners=Ue,this.controls=new t4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const N_=t=>(e,n)=>{t&&Ce.update(()=>t(e,n))};class i4 extends Vi{constructor(){super(...arguments),this.removePointerDownListener=Ue}onPointerDown(e){this.session=new GI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:N_(e),onStart:N_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ce.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function s4(){const t=k.useContext(Ty);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=k.useId();return k.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Oc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Da={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=O_(t,e.target.x),r=O_(t,e.target.y);return`${n}% ${r}%`}},o4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=xi.parse(t);if(i.length>5)return r;const s=xi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class a4 extends Pe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;fL(l4),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Oc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZI(t){const[e,n]=s4(),r=k.useContext(K1);return Pe.createElement(a4,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(Y1),isPresent:e,safeToRemove:n})}const l4={borderRadius:{...Da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Da,borderTopRightRadius:Da,borderBottomLeftRadius:Da,borderBottomRightRadius:Da,boxShadow:o4},eb=["TopLeft","TopRight","BottomLeft","BottomRight"],u4=eb.length,V_=t=>typeof t=="string"?parseFloat(t):t,L_=t=>typeof t=="number"||ee.test(t);function c4(t,e,n,r,i,s){i?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,d4(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,h4(r))):s&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<u4;o++){const a=`border${eb[o]}Radius`;let l=M_(e,a),u=M_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||L_(l)===L_(u)?(t[a]=Math.max(Ne(V_(l),V_(u),r),0),(Hn.test(u)||Hn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function M_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const d4=tb(0,.5,xI),h4=tb(.5,.95,Ue);function tb(t,e,n){return r=>r<t?0:r>e?1:n(kl(t,e,r))}function j_(t,e){t.min=e.min,t.max=e.max}function on(t,e){j_(t.x,e.x),j_(t.y,e.y)}function F_(t,e,n,r,i){return t-=e,t=kd(t,1/n,r),i!==void 0&&(t=kd(t,1/i,r)),t}function f4(t,e=0,n=1,r=.5,i,s=t,o=t){if(Hn.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(s.min,s.max,r);t===s&&(a-=e),t.min=F_(t.min,e,n,a,i),t.max=F_(t.max,e,n,a,i)}function U_(t,e,[n,r,i],s,o){f4(t,e[n],e[r],e[i],e.scale,s,o)}const p4=["x","scaleX","originX"],m4=["y","scaleY","originY"];function B_(t,e,n,r){U_(t.x,e,p4,n?n.x:void 0,r?r.x:void 0),U_(t.y,e,m4,n?n.y:void 0,r?r.y:void 0)}function z_(t){return t.translate===0&&t.scale===1}function nb(t){return z_(t.x)&&z_(t.y)}function g4(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function rb(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function $_(t){return tn(t.x)/tn(t.y)}class y4{constructor(){this.members=[]}add(e){Fy(this.members,e),e.scheduleRender()}remove(e){if(Uy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W_(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const v4=(t,e)=>t.depth-e.depth;class w4{constructor(){this.children=[],this.isDirty=!1}add(e){Fy(this.children,e),this.isDirty=!0}remove(e){Uy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(v4),this.isDirty=!1,this.children.forEach(e)}}function _4(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(kr(r),t(s-e))};return Ce.read(r,!0),()=>kr(r)}function T4(t){window.MotionDebug&&window.MotionDebug.record(t)}function E4(t){return t instanceof SVGElement&&t.tagName!=="svg"}function x4(t,e,n){const r=qt(t)?t:Po(t);return r.start(jy("",r,e,n)),r.animation}const H_=["","X","Y","Z"],S4={visibility:"hidden"},G_=1e3;let I4=0;const Yi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ib({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=I4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yi.totalNodes=Yi.resolvedTargetDeltas=Yi.recalculatedProjection=0,this.nodes.forEach(P4),this.nodes.forEach(N4),this.nodes.forEach(O4),this.nodes.forEach(A4),T4(Yi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new w4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new By),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E4(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_4(f,250),Oc.hasAnimatedSinceResize&&(Oc.hasAnimatedSinceResize=!1,this.nodes.forEach(K_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||F4,{onLayoutAnimationStart:P,onLayoutAnimationComplete:g}=d.getProps(),_=!this.targetLayout||!rb(this.targetLayout,y)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const D={...My(T,"layout"),onPlay:P,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else f||K_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(V4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q_);return}this.isUpdating||this.nodes.forEach(R4),this.isUpdating=!1,this.nodes.forEach(D4),this.nodes.forEach(b4),this.nodes.forEach(C4),this.clearAllSnapshots();const a=performance.now();St.delta=Ei(0,1e3/60,a-St.timestamp),St.timestamp=a,St.isProcessing=!0,Ff.update.process(St),Ff.preRender.process(St),Ff.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(k4),this.sharedNodes.forEach(L4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!nb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Ki(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),U4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Kr(a.x,l.offset.x),Kr(a.y,l.offset.y)),a}removeElementScroll(o){const a=He();on(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){on(a,o);const{scroll:f}=this.root;f&&(Kr(a.x,-f.offset.x),Kr(a.y,-f.offset.y))}Kr(a.x,d.offset.x),Kr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=He();on(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&no(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ki(d.latestValues)&&no(l,d.latestValues)}return Ki(this.latestValues)&&no(l,this.latestValues),l}removeTransform(o){const a=He();on(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ki(u.latestValues))continue;Im(u.latestValues)&&u.updateSnapshot();const d=He(),h=u.measurePageBox();on(d,h),B_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ki(this.latestValues)&&B_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),nl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),QI(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),nl(this.relativeTargetOrigin,this.target,m.target),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Im(this.parent.latestValues)||YI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===St.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;on(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Qj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=to(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=to(),this.projectionDeltaWithTransform=to());const T=this.projectionTransform;tl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=W_(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Yi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=He(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,T=m!==y,P=this.getStack(),g=!P||P.members.length<=1,_=!!(T&&!g&&this.options.crossfade===!0&&!this.path.some(j4));this.animationProgress=0;let x;this.mixTargetDelta=D=>{const O=D/1e3;Y_(h.x,o.x,O),Y_(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M4(this.relativeTarget,this.relativeTargetOrigin,f,O),x&&g4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=He()),on(x,this.relativeTarget)),T&&(this.animationValues=d,c4(d,u,this.latestValues,O,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Oc.hasAnimatedSinceResize=!0,this.currentAnimation=x4(0,G_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&sb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||He();const h=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}on(a,l),no(a,d),tl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new y4),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<H_.length;d++){const h="rotate"+H_[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return S4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Nc(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Nc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(T.transform=d?d({},""):"none",this.hasProjected=!1),T}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=W_(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in xd){if(f[T]===void 0)continue;const{correct:P,applyTo:g}=xd[T],_=u.transform==="none"?f[T]:P(f[T],h);if(g){const x=g.length;for(let D=0;D<x;D++)u[g[D]]=_}else u[T]=_}return this.options.layoutId&&(u.pointerEvents=h===this?Nc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(q_),this.root.sharedNodes.clear()}}}function b4(t){t.updateLayout()}function C4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?an(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(f);f.min=r[h].min,f.max=f.min+m}):sb(s,n.layoutBox,r)&&an(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=to();tl(a,r,n.layoutBox);const l=to();o?tl(l,t.applyTransform(i,!0),n.measuredBox):tl(l,r,n.layoutBox);const u=!nb(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=He();nl(y,n.layoutBox,f.layoutBox);const T=He();nl(T,r,m.layoutBox),rb(y,T)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function P4(t){Yi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function A4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function k4(t){t.clearSnapshot()}function q_(t){t.clearMeasurements()}function R4(t){t.isLayoutDirty=!1}function D4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function K_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function N4(t){t.resolveTargetDelta()}function O4(t){t.calcProjection()}function V4(t){t.resetRotation()}function L4(t){t.removeLeadSnapshot()}function Y_(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Q_(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function M4(t,e,n,r){Q_(t.x,e.x,n.x,r),Q_(t.y,e.y,n.y,r)}function j4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const F4={duration:.45,ease:[.4,0,.1,1]},X_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),J_=X_("applewebkit/")&&!X_("chrome/")?Math.round:Ue;function Z_(t){t.min=J_(t.min),t.max=J_(t.max)}function U4(t){Z_(t.x),Z_(t.y)}function sb(t,e,n){return t==="position"||t==="preserve-aspect"&&!xm($_(e),$_(n),.2)}const B4=ib({attachResizeListener:(t,e)=>vr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qf={current:void 0},ob=ib({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qf.current){const t=new B4({});t.mount(window),t.setOptions({layoutScroll:!0}),Qf.current=t}return Qf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),z4={pan:{Feature:i4},drag:{Feature:r4,ProjectionNode:ob,MeasureLayout:ZI}},$4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function W4(t){const e=$4.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Cm(t,e,n=1){const[r,i]=W4(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return zI(o)?parseFloat(o):o}else return gm(i)?Cm(i,e,n+1):i}function H4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!gm(s))return;const o=Cm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!gm(s))continue;const o=Cm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const G4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ab=t=>G4.has(t),q4=t=>Object.keys(t).some(ab),eT=t=>t===Es||t===ee,tT=(t,e)=>parseFloat(t.split(", ")[e]),nT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return tT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?tT(s[1],t):0}},K4=new Set(["x","y","z"]),Y4=Zl.filter(t=>!K4.has(t));function Q4(t){const e=[];return Y4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nT(4,13),y:nT(5,14)};Ao.translateX=Ao.x;Ao.translateY=Ao.y;const X4=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Ao[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=Ao[u](l,s)}),t},J4=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(ab);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Ra(d);const f=e[l];let m;if(Id(f)){const y=f.length,T=f[0]===null?1:0;d=f[T],h=Ra(d);for(let P=T;P<y&&f[P]!==null;P++)m?Dy(Ra(f[P])===m):m=Ra(f[P])}else m=Ra(f);if(h!==m)if(eT(h)&&eT(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===ee&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(f):(o||(s=Q4(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=X4(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),yh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Z4(t,e,n,r){return q4(e)?J4(t,e,n,r):{target:e,transitionEnd:r}}const eF=(t,e,n,r)=>{const i=H4(t,e,r);return e=i.target,r=i.transitionEnd,Z4(t,e,n,r)},Pm={current:null},lb={current:!1};function tF(){if(lb.current=!0,!!yh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pm.current=t.matches;t.addListener(e),e()}else Pm.current=!1}function nF(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(qt(s))t.addValue(i,s),Ad(r)&&r.add(i);else if(qt(o))t.addValue(i,Po(s,{owner:t})),Ad(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Po(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const rT=new WeakMap,ub=Object.keys(Al),rF=ub.length,iT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iF=Sy.length;class sF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ce.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=wh(n),this.isVariantNode=q1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&qt(f)&&(f.set(a[h],!1),Ad(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,rT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lb.current||tF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rT.delete(this.current),this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ts.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ce.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<rF;l++){const u=ub[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Al[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&Zs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iT.length;r++){const i=iT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=nF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<iF;r++){const i=Sy[r],s=this.props[i];(Pl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Po(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Ry(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new By),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cb extends sF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Ej(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){_j(this,r,o);const a=eF(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function oF(t){return window.getComputedStyle(t)}class aF extends cb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ts.has(n)){const r=Ly(n);return r&&r.default||0}else{const r=oF(e),i=(J1(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XI(e,n)}build(e,n,r,i){by(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ky(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){iI(e,n,r,i)}}class lF extends cb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ts.has(n)){const r=Ly(n);return r&&r.default||0}return n=sI.has(n)?n:Ey(n),e.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return aI(e,n)}build(e,n,r,i){Py(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){oI(e,n,r,i)}mount(e){this.isSVGTag=Ay(e.tagName),super.mount(e)}}const uF=(t,e)=>Iy(t)?new lF(e,{enableHardwareAcceleration:!1}):new aF(e,{enableHardwareAcceleration:!0}),cF={layout:{ProjectionNode:ob,MeasureLayout:ZI}},dF={...Mj,...rM,...z4,...cF},cn=dL((t,e)=>WL(t,e,dF,uF)),hF=()=>{const t=_n(),e=()=>{const n=document.getElementById("contact");n&&n.scrollIntoView({behavior:"smooth"})};return w.jsxs("section",{id:"home",className:"relative min-h-[70vh] flex items-center justify-center overflow-hidden -mt-20",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900"}),w.jsxs("div",{className:"absolute inset-0",children:[w.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),w.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary-600/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),w.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:w.jsxs(cn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8 pt-20",children:[w.jsxs("div",{className:"space-y-4 pt-10",children:[w.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:[w.jsx("span",{className:"gradient-text",children:"Joy English"}),w.jsx("br",{})]}),w.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:['"Learn with Joy,',w.jsx("br",{className:"hidden md:block"}),'Grow with English."']})]}),w.jsxs(cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-col gap-4 justify-center items-center",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[w.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>window.open("https://bit.ly/joy_english","_blank"),children:["커리큘럼 보기",w.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),w.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:e,children:["상담요청",w.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),w.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/trial"),children:["무료 시범 강의 신청",w.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[w.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/group-class"),children:["그룹 클래스 예약",w.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),w.jsxs("button",{className:"btn-primary flex items-center gap-2 group",onClick:()=>t("/toto-room"),children:["토토방(토요토론방)",w.jsx(Aa,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),w.jsx(cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"grid grid-cols-1 md:grid-cols-3 gap-8"})]})}),w.jsx(cn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:w.jsx("div",{className:"w-6 h-10 border-2 border-gray-400 rounded-full flex justify-center",children:w.jsx(cn.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0},className:"w-1 h-3 bg-gray-400 rounded-full mt-2"})})})]})},fF="/assets/joy_instructor-94b923f1.jpg";function sT(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function zy(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:sT(e[r])&&sT(t[r])&&Object.keys(e[r]).length>0&&zy(t[r],e[r])})}const db={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xs(){const t=typeof document<"u"?document:{};return zy(t,db),t}const pF={document:db,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Mt(){const t=typeof window<"u"?window:{};return zy(t,pF),t}function mF(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function gF(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function hb(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Rd(){return Date.now()}function yF(t){const e=Mt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function vF(t,e){e===void 0&&(e="x");const n=Mt();let r,i,s;const o=yF(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function ic(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function wF(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!wF(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(ic(t[a])&&ic(r[a])?r[a].__swiper__?t[a]=r[a]:Xt(t[a],r[a]):!ic(t[a])&&ic(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Xt(t[a],r[a])):t[a]=r[a])}}}return t}function sc(t,e,n){t.style.setProperty(e,n)}function fb(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Mt(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",d=(f,m)=>u==="next"&&f>=m||u==="prev"&&f<=m,h=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(f*Math.PI)/2;let y=s+m*(n-s);if(d(y,n)&&(y=n),e.wrapperEl.scrollTo({[r]:y}),d(y,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:y})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function Bn(t,e){e===void 0&&(e="");const n=Mt(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function _F(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function TF(t,e){const n=Mt();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=_F(t,e))),r}function Dd(t){try{console.warn(t);return}catch{}}function Nd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:mF(e)),n}function EF(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function xF(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ni(t,e){return Mt().getComputedStyle(t,null).getPropertyValue(e)}function oT(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function SF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function aT(t,e,n){const r=Mt();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function ur(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function lT(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Xf;function IF(){const t=Mt(),e=xs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function pb(){return Xf||(Xf=IF()),Xf}let Jf;function bF(t){let{userAgent:e}=t===void 0?{}:t;const n=pb(),r=Mt(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32";let y=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&n.touch&&T.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),u&&!m&&(o.os="android",o.android=!0),(d||f||h)&&(o.os="ios",o.ios=!0),o}function mb(t){return t===void 0&&(t={}),Jf||(Jf=bF(t)),Jf}let Zf;function CF(){const t=Mt(),e=mb();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,u]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function gb(){return Zf||(Zf=CF()),Zf}function PF(t){let{swiper:e,on:n,emit:r}=t;const i=Mt();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:f,height:m}=e;let y=f,T=m;h.forEach(P=>{let{contentBoxSize:g,contentRect:_,target:x}=P;x&&x!==e.el||(y=_?_.width:(g[0]||g).inlineSize,T=_?_.height:(g[0]||g).blockSize)}),(y!==f||T!==m)&&a()})}),s.observe(e.el))},u=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function AF(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Mt(),a=function(d,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,m=new f(y=>{if(e.__preventObserver__)return;if(y.length===1){i("observerUpdate",y[0]);return}const T=function(){i("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(T):o.setTimeout(T,0)});m.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=SF(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",u)}var kF={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(r,n)})}),t}};function RF(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ni(r,"padding-left")||0,10)-parseInt(ni(r,"padding-right")||0,10),n=n-parseInt(ni(r,"padding-top")||0,10)-parseInt(ni(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function DF(){const t=this;function e(C,A){return parseFloat(C.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=Bn(i,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let f=[];const m=[],y=[];let T=n.slidesOffsetBefore;typeof T=="function"&&(T=n.slidesOffsetBefore.call(t));let P=n.slidesOffsetAfter;typeof P=="function"&&(P=n.slidesOffsetAfter.call(t));const g=t.snapGrid.length,_=t.slidesGrid.length;let x=n.spaceBetween,D=-T,O=0,V=0;if(typeof s>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*s:typeof x=="string"&&(x=parseFloat(x)),t.virtualSize=-x,d.forEach(C=>{o?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(sc(r,"--swiper-centered-offset-before",""),sc(r,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let E;const S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(C=>typeof n.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<h;C+=1){E=0;let A;if(d[C]&&(A=d[C]),I&&t.grid.updateSlide(C,A,d),!(d[C]&&ni(A,"display")==="none")){if(n.slidesPerView==="auto"){S&&(d[C].style[t.getDirectionLabel("width")]="");const N=getComputedStyle(A),R=A.style.transform,Q=A.style.webkitTransform;if(R&&(A.style.transform="none"),Q&&(A.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?aT(A,"width",!0):aT(A,"height",!0);else{const Z=e(N,"width"),L=e(N,"padding-left"),W=e(N,"padding-right"),F=e(N,"margin-left"),B=e(N,"margin-right"),H=N.getPropertyValue("box-sizing");if(H&&H==="border-box")E=Z+F+B;else{const{clientWidth:K,offsetWidth:ne}=A;E=Z+L+W+F+B+(ne-K)}}R&&(A.style.transform=R),Q&&(A.style.webkitTransform=Q),n.roundLengths&&(E=Math.floor(E))}else E=(s-(n.slidesPerView-1)*x)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),d[C]&&(d[C].style[t.getDirectionLabel("width")]=`${E}px`);d[C]&&(d[C].swiperSlideSize=E),y.push(E),n.centeredSlides?(D=D+E/2+O/2+x,O===0&&C!==0&&(D=D-s/2-x),C===0&&(D=D-s/2-x),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),V%n.slidesPerGroup===0&&f.push(D),m.push(D)):(n.roundLengths&&(D=Math.floor(D)),(V-Math.min(t.params.slidesPerGroupSkip,V))%t.params.slidesPerGroup===0&&f.push(D),m.push(D),D=D+E+x),t.virtualSize+=E+x,O=E,V+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+P,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+x}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+x}px`),I&&t.grid.updateWrapperSize(E,f),!n.centeredSlides){const C=[];for(let A=0;A<f.length;A+=1){let N=f[A];n.roundLengths&&(N=Math.floor(N)),f[A]<=t.virtualSize-s&&C.push(N)}f=C,Math.floor(t.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-s)}if(l&&n.loop){const C=y[0]+x;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),N=C*n.slidesPerGroup;for(let R=0;R<A;R+=1)f.push(f[f.length-1]+N)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+C),m.push(m[m.length-1]+C),t.virtualSize+=C}if(f.length===0&&(f=[0]),x!==0){const C=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((A,N)=>!n.cssMode||n.loop?!0:N!==d.length-1).forEach(A=>{A.style[C]=`${x}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let C=0;y.forEach(N=>{C+=N+(x||0)}),C-=x;const A=C>s?C-s:0;f=f.map(N=>N<=0?-T:N>A?A+P:N)}if(n.centerInsufficientSlides){let C=0;y.forEach(N=>{C+=N+(x||0)}),C-=x;const A=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(C+A<s){const N=(s-C-A)/2;f.forEach((R,Q)=>{f[Q]=R-N}),m.forEach((R,Q)=>{m[Q]=R+N})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:m,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){sc(r,"--swiper-centered-offset-before",`${-f[0]}px`),sc(r,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const C=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(N=>N+C),t.slidesGrid=t.slidesGrid.map(N=>N+A)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==_&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const C=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(C);h<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(C):A&&t.el.classList.remove(C)}}function NF(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function OF(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const uT=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function VF(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const u=r[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),f=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),m=-(o-d),y=m+e.slidesSizesGrid[l],T=m>=0&&m<=e.size-e.slidesSizesGrid[l],P=m>=0&&m<e.size-1||y>1&&y<=e.size||m<=0&&y>=e.size;P&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),uT(u,P,n.slideVisibleClass),uT(u,T,n.slideFullyVisibleClass),u.progress=i?-h:h,u.originalProgress=i?-f:f}}function LF(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,u=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||i<=0,o=h||i>=1,d&&(i=0),h&&(i=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],m=e.slidesGrid[h],y=e.slidesGrid[e.slidesGrid.length-1],T=Math.abs(t);T>=f?a=(T-f)/y:a=(T+y-m)/y,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const ep=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function MF(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>Bn(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,u,d;if(s)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(h=>h.column===i),d=e.find(h=>h.column===i+1),u=e.find(h=>h.column===i-1)):l=e[i];l&&(o||(d=xF(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=EF(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{ep(h,h===l,n.slideActiveClass),ep(h,h===d,n.slideNextClass),ep(h,h===u,n.slidePrevClass)}),t.emitSlidesClasses()}const Vc=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},tp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Am=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+r+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&tp(t,u)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&tp(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&tp(t,o)};function jF(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function FF(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,u;const d=m=>{let y=m-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof l>"u"&&(l=jF(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const m=Math.min(i.slidesPerGroupSkip,l);u=m+Math.floor((l-m)/i.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===s&&!e.params.loop){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=d(l);else if(h){const m=e.slides.find(T=>T.column===l);let y=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(m),0)),f=Math.floor(y/i.grid.rows)}else if(e.slides[l]){const m=e.slides[l].getAttribute("data-swiper-slide-index");m?f=parseInt(m,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:f,previousIndex:s,activeIndex:l}),e.initialized&&Am(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function UF(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var BF={updateSize:RF,updateSlides:DF,updateAutoHeight:NF,updateSlidesOffset:OF,updateSlidesProgress:VF,updateProgress:LF,updateSlidesClasses:MF,updateActiveIndex:FF,updateClickedSlide:UF};function zF(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=vF(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function $F(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function WF(){return-this.snapGrid[0]}function HF(){return-this.snapGrid[this.snapGrid.length-1]}function GF(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let d;if(r&&t>l?d=l:r&&t<u?d=u:d=t,s.updateProgress(d),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return fb({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var qF={getTranslate:zF,setTranslate:$F,minTranslate:WF,maxTranslate:HF,translateTo:GF};function KF(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function yb(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&a==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function YF(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),yb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function QF(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),yb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var XF={setTransition:KF,transitionStart:YF,transitionEnd:QF};function JF(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:m,enabled:y}=s;if(!y&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const T=Math.min(s.params.slidesPerGroupSkip,o);let P=T+Math.floor((o-T)/s.params.slidesPerGroup);P>=l.length&&(P=l.length-1);const g=-l[P];if(a.normalizeSlideIndex)for(let I=0;I<u.length;I+=1){const E=-Math.floor(g*100),S=Math.floor(u[I]*100),C=Math.floor(u[I+1]*100);typeof u[I+1]<"u"?E>=S&&E<C-(C-S)/2?o=I:E>=S&&E<C&&(o=I+1):E>=S&&(o=I)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(f?g>s.translate&&g>s.minTranslate():g<s.translate&&g<s.minTranslate())||!s.allowSlidePrev&&g>s.translate&&g>s.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(g);let _;o>h?_="next":o<h?_="prev":_="reset";const x=s.virtual&&s.params.virtual.enabled;if(!(x&&i)&&(f&&-g===s.translate||!f&&g===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(g),_!=="reset"&&(s.transitionStart(n,_),s.transitionEnd(n,_)),!1;if(a.cssMode){const I=s.isHorizontal(),E=f?g:-g;if(e===0)x&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),x&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[I?"scrollLeft":"scrollTop"]=E})):m[I?"scrollLeft":"scrollTop"]=E,x&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return fb({swiper:s,targetPosition:E,side:I?"left":"top"}),!0;m.scrollTo({[I?"left":"top"]:E,behavior:"smooth"})}return!0}const V=gb().isSafari;return x&&!i&&V&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(g),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,_),e===0?s.transitionEnd(n,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(E){!s||s.destroyed||E.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function ZF(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const f=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=l-a<d;if(u&&(h=h||a<Math.ceil(d/2)),r&&u&&i.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const f=u?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(s){const f=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===f).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function e3(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,u=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function t3(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=a?r.translate:-r.translate;function f(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}const m=f(h),y=s.map(_=>f(_)),T=i.freeMode&&i.freeMode.enabled;let P=s[y.indexOf(m)-1];if(typeof P>"u"&&(i.cssMode||T)){let _;s.forEach((x,D)=>{m>=x&&(_=D)}),typeof _<"u"&&(P=T?s[_]:s[_>0?_-1:_])}let g=0;if(typeof P<"u"&&(g=o.indexOf(P),g<0&&(g=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning){const _=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(_,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(g,t,e,n)}),!0;return r.slideTo(g,t,e,n)}function n3(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function r3(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const u=i.snapGrid[a],d=i.snapGrid[a+1];l-u>(d-u)*r&&(s+=i.params.slidesPerGroup)}else{const u=i.snapGrid[a-1],d=i.snapGrid[a];l-u<=(d-u)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function i3(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(Bn(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),hb(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var s3={slideTo:JF,slideToLoop:ZF,slideNext:e3,slidePrev:t3,slideReset:n3,slideToClosest:r3,slideToClickedSlide:i3};function o3(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Bn(i,`.${r.slideClass}, swiper-slide`).forEach((m,y)=>{m.setAttribute("data-swiper-slide-index",y)})},o=()=>{const f=Bn(i,`.${r.slideBlankClass}`);f.forEach(m=>{m.remove()}),f.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&o();const l=r.slidesPerGroup*(a?r.grid.rows:1),u=n.slides.length%l!==0,d=a&&n.slides.length%r.grid.rows!==0,h=f=>{for(let m=0;m<f;m+=1){const y=n.isElement?Nd("swiper-slide",[r.slideBlankClass]):Nd("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(y)}};if(u){if(r.loopAddBlankSlides){const f=l-n.slides.length%l;h(f),n.recalcSlides(),n.updateSlides()}else Dd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(d){if(r.loopAddBlankSlides){const f=r.grid.rows-n.slides.length%r.grid.rows;h(f),n.recalcSlides(),n.updateSlides()}else Dd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function a3(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:f,slidesEl:m,params:y}=u,{centeredSlides:T,initialSlide:P}=y;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&y.virtual.enabled){n&&(!y.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):y.centeredSlides&&u.snapIndex<y.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=h,u.allowSlideNext=f,u.emit("loopFix");return}let g=y.slidesPerView;g==="auto"?g=u.slidesPerViewDynamic():(g=Math.ceil(parseFloat(y.slidesPerView,10)),T&&g%2===0&&(g=g+1));const _=y.slidesPerGroupAuto?g:y.slidesPerGroup;let x=T?Math.max(_,Math.ceil(g/2)):_;x%_!==0&&(x+=_-x%_),x+=y.loopAdditionalSlides,u.loopedSlides=x;const D=u.grid&&y.grid&&y.grid.rows>1;d.length<g+x||u.params.effect==="cards"&&d.length<g+x*2?Dd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):D&&y.grid.fill==="row"&&Dd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const O=[],V=[],I=D?Math.ceil(d.length/y.grid.rows):d.length,E=o&&I-P<g&&!T;let S=E?P:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.find(L=>L.classList.contains(y.slideActiveClass))):S=s;const C=r==="next"||!r,A=r==="prev"||!r;let N=0,R=0;const Z=(D?d[s].column:s)+(T&&typeof i>"u"?-g/2+.5:0);if(Z<x){N=Math.max(x-Z,_);for(let L=0;L<x-Z;L+=1){const W=L-Math.floor(L/I)*I;if(D){const F=I-W-1;for(let B=d.length-1;B>=0;B-=1)d[B].column===F&&O.push(B)}else O.push(I-W-1)}}else if(Z+g>I-x){R=Math.max(Z-(I-x*2),_),E&&(R=Math.max(R,g-I+P+1));for(let L=0;L<R;L+=1){const W=L-Math.floor(L/I)*I;D?d.forEach((F,B)=>{F.column===W&&V.push(B)}):V.push(W)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<g+x*2&&(V.includes(s)&&V.splice(V.indexOf(s),1),O.includes(s)&&O.splice(O.indexOf(s),1)),A&&O.forEach(L=>{d[L].swiperLoopMoveDOM=!0,m.prepend(d[L]),d[L].swiperLoopMoveDOM=!1}),C&&V.forEach(L=>{d[L].swiperLoopMoveDOM=!0,m.append(d[L]),d[L].swiperLoopMoveDOM=!1}),u.recalcSlides(),y.slidesPerView==="auto"?u.updateSlides():D&&(O.length>0&&A||V.length>0&&C)&&u.slides.forEach((L,W)=>{u.grid.updateSlide(W,L,u.slides)}),y.watchSlidesProgress&&u.updateSlidesOffset(),n){if(O.length>0&&A){if(typeof e>"u"){const L=u.slidesGrid[S],F=u.slidesGrid[S+N]-L;l?u.setTranslate(u.translate-F):(u.slideTo(S+Math.ceil(N),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-F,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-F))}else if(i){const L=D?O.length/y.grid.rows:O.length;u.slideTo(u.activeIndex+L,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(V.length>0&&C)if(typeof e>"u"){const L=u.slidesGrid[S],F=u.slidesGrid[S-R]-L;l?u.setTranslate(u.translate-F):(u.slideTo(S-R,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-F,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-F))}else{const L=D?V.length/y.grid.rows:V.length;u.slideTo(u.activeIndex-L,0,!1,!0)}}if(u.allowSlidePrev=h,u.allowSlideNext=f,u.controller&&u.controller.control&&!a){const L={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...L,slideTo:W.params.slidesPerView===y.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...L,slideTo:u.controller.control.params.slidesPerView===y.slidesPerView?n:!1})}u.emit("loopFix")}function l3(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var u3={loopCreate:o3,loopFix:a3,loopDestroy:l3};function c3(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function d3(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var h3={setGrabCursor:c3,unsetGrabCursor:d3};function f3(t,e){e===void 0&&(e=this);function n(r){if(!r||r===xs()||r===Mt())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function cT(t,e,n){const r=Mt(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function p3(t){const e=this,n=xs();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){cT(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!TF(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(f?f3(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,y=o.currentY;if(!cT(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=y,i.touchStartTime=Rd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let T=!0;l.matches(i.focusableElements)&&(T=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const P=T&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||P)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function m3(t){const e=xs(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(V=>V.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=Rd());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;const f=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(f**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let V;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:f*f+m*m>=25&&(V=Math.atan2(Math.abs(m),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?V>i.touchAngle:90-V>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let y=n.isHorizontal()?f:m,T=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),T=Math.abs(T)*(o?1:-1)),s.diff=y,y*=i.touchRatio,o&&(y=-y,T=-T);const P=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=T>0?"prev":"next";const g=n.params.loop&&!i.cssMode,_=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(g&&_&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const V=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(V)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let x;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&P!==n.touchesDirection&&g&&_&&Math.abs(y)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let D=!0,O=i.resistanceRatio;if(i.touchReleaseOnEdges&&(O=0),y>0?(g&&_&&!x&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**O))):y<0&&(g&&_&&!x&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**O))),D&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function g3(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(O=>O.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=Rd(),f=h-n.touchStartTime;if(e.allowClick){const O=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(O&&O[0]||r.target,O),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Rd(),hb(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}const y=m>=-e.maxTranslate()&&!e.params.loop;let T=0,P=e.slidesSizesGrid[0];for(let O=0;O<u.length;O+=O<o.slidesPerGroupSkip?1:o.slidesPerGroup){const V=O<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[O+V]<"u"?(y||m>=u[O]&&m<u[O+V])&&(T=O,P=u[O+V]-u[O]):(y||m>=u[O])&&(T=O,P=u[u.length-1]-u[u.length-2])}let g=null,_=null;o.rewind&&(e.isBeginning?_=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(g=0));const x=(m-u[T])/P,D=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(x>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?g:T+D):e.slideTo(T)),e.swipeDirection==="prev"&&(x>1-o.longSwipesRatio?e.slideTo(T+D):_!==null&&x<0&&Math.abs(x)>o.longSwipesRatio?e.slideTo(_):e.slideTo(T))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(T+D):e.slideTo(T):(e.swipeDirection==="next"&&e.slideTo(g!==null?g:T+D),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:T))}}function dT(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function y3(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function v3(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function w3(t){const e=this;Vc(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function _3(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const vb=(t,e)=>{const n=xs(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",dT,!0):t[u]("observerUpdate",dT,!0),i[l]("load",t.onLoad,{capture:!0}))};function T3(){const t=this,{params:e}=t;t.onTouchStart=p3.bind(t),t.onTouchMove=m3.bind(t),t.onTouchEnd=g3.bind(t),t.onDocumentTouchStart=_3.bind(t),e.cssMode&&(t.onScroll=v3.bind(t)),t.onClick=y3.bind(t),t.onLoad=w3.bind(t),vb(t,"on")}function E3(){vb(this,"off")}var x3={attachEvents:T3,detachEvents:E3};const hT=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function S3(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=xs(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),u=t.getBreakpoint(s,a,l);if(!u||t.currentBreakpoint===u)return;const h=(u in s?s[u]:void 0)||t.originalParams,f=hT(t,r),m=hT(t,h),y=t.params.grabCursor,T=h.grabCursor,P=r.enabled;f&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!T?t.unsetGrabCursor():!y&&T&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(V=>{if(typeof h[V]>"u")return;const I=r[V]&&r[V].enabled,E=h[V]&&h[V].enabled;I&&!E&&t[V].disable(),!I&&E&&t[V].enable()});const g=h.direction&&h.direction!==r.direction,_=r.loop&&(h.slidesPerView!==r.slidesPerView||g),x=r.loop;g&&n&&t.changeDirection(),Xt(t.params,h);const D=t.params.enabled,O=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),P&&!D?t.disable():!P&&D&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",h),n&&(_?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!x&&O?(t.loopCreate(e),t.updateSlides()):x&&!O&&t.loopDestroy()),t.emit("breakpoint",h)}function I3(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Mt(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}var b3={setBreakpoint:S3,getBreakpoint:I3};function C3(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function P3(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=C3(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function A3(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var k3={addClasses:P3,removeClasses:A3};function R3(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var D3={checkOverflow:R3},km={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function N3(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Xt(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Xt(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Xt(e,r)}}const np={eventsEmitter:kF,update:BF,translate:qF,transition:XF,slide:s3,loop:u3,grabCursor:h3,events:x3,breakpoints:b3,checkOverflow:D3,classes:k3},rp={};let $y=class cr{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Xt({},n),e&&!n.el&&(n.el=e);const o=xs();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Xt({},n,{el:h});d.push(new cr(f))}),d}const a=this;a.__swiper__=!0,a.support=pb(),a.device=mb({userAgent:n.userAgent}),a.browser=gb(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:N3(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=Xt({},km,l);return a.params=Xt({},u,rp,n),a.originalParams=Xt({},a.params),a.passedParams=Xt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Bn(n,`.${r.slideClass}, swiper-slide`),s=oT(i[0]);return oT(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Bn(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=r;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=s[u]?Math.ceil(s[u].swiperSlideSize):0,f;for(let m=u+1;m<s.length;m+=1)s[m]&&!f&&(h+=Math.ceil(s[m].swiperSlideSize),d+=1,h>l&&(f=!0));for(let m=u-1;m>=0;m-=1)s[m]&&!f&&(h+=s[m].swiperSlideSize,d+=1,h>l&&(f=!0))}else if(e==="current")for(let h=u+1;h<s.length;h+=1)(n?o[h]+a[h]-o[u]<l:o[h]-o[u]<l)&&(d+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Vc(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Bn(r,i())[0])();return!o&&n.params.createElements&&(o=Nd("div",n.params.wrapperClass),r.append(o),Bn(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ni(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ni(r,"direction")==="rtl"),wrongRTL:ni(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Vc(n,s):s.addEventListener("load",o=>{Vc(n,o.target)})}),Am(n),n.initialized=!0,Am(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),gF(r)),r.destroyed=!0),null}static extendDefaults(e){Xt(rp,e)}static get extendedDefaults(){return rp}static get defaults(){return km}static installModule(e){cr.prototype.__modules__||(cr.prototype.__modules__=[]);const n=cr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>cr.installModule(n)),cr):(cr.installModule(e),cr)}};Object.keys(np).forEach(t=>{Object.keys(np[t]).forEach(e=>{$y.prototype[e]=np[t][e]})});$y.use([PF,AF]);const wb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ps(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function mo(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ps(e[r])&&ps(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:mo(t[r],e[r]):t[r]=e[r]})}function _b(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Tb(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Eb(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function xb(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function O3(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function V3(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=i.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:m,virtual:y,thumbs:T}=e;let P,g,_,x,D,O,V,I;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(P=!0),i.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(g=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(_=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(x=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(D=!0);const E=S=>{e[S]&&(e[S].destroy(),S==="navigation"?(e.isElement&&(e[S].prevEl.remove(),e[S].nextEl.remove()),d[S].prevEl=void 0,d[S].nextEl=void 0,e[S].prevEl=void 0,e[S].nextEl=void 0):(e.isElement&&e[S].el.remove(),d[S].el=void 0,e[S].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!r.loop?O=!0:!d.loop&&r.loop?V=!0:I=!0),u.forEach(S=>{if(ps(d[S])&&ps(r[S]))Object.assign(d[S],r[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in r[S]&&!r[S].enabled&&E(S);else{const C=r[S];(C===!0||C===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?C===!1&&E(S):d[S]=r[S]}}),u.includes("controller")&&!g&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&n&&y&&d.virtual.enabled?(y.slides=n,y.update(!0)):i.includes("virtual")&&y&&d.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),i.includes("children")&&n&&d.loop&&(I=!0),P&&T.init()&&T.update(!0),g&&(e.controller.control=d.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),x&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),D&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),lT(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),lT(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(O||I)&&e.loopDestroy(),(V||I)&&e.loopCreate(),e.update()}function L3(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};mo(n,km),n._emitClasses=!0,n.init=!1;const s={},o=wb.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ps(t[l])?(n[l]={},i[l]={},mo(n[l],t[l]),mo(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function M3(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;_b(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),Tb(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),Eb(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function j3(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),u=n.map(i);l.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return wb.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ps(t[l])&&ps(e[l])){const u=Object.keys(t[l]),d=Object.keys(e[l]);u.length!==d.length?o(l):(u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const F3=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(this,arguments)}function Sb(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function Ib(t){const e=[];return Pe.Children.toArray(t).forEach(n=>{Sb(n)?e.push(n):n.props&&n.props.children&&Ib(n.props.children).forEach(r=>e.push(r))}),e}function U3(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pe.Children.toArray(t).forEach(r=>{if(Sb(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=Ib(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function B3(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let d=a;d<l;d+=1)d>=s&&d<=o&&u.push(e[r(d)]);return u.map((d,h)=>Pe.cloneElement(d,{swiper:t,style:i,key:d.props.virtualIndex||d.key||`slide-${h}`}))}function rl(t,e){return typeof window>"u"?k.useEffect(t,e):k.useLayoutEffect(t,e)}const fT=k.createContext(null),z3=k.createContext(null),bb=k.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[u,d]=k.useState("swiper"),[h,f]=k.useState(null),[m,y]=k.useState(!1),T=k.useRef(!1),P=k.useRef(null),g=k.useRef(null),_=k.useRef(null),x=k.useRef(null),D=k.useRef(null),O=k.useRef(null),V=k.useRef(null),I=k.useRef(null),{params:E,passedParams:S,rest:C,events:A}=L3(a),{slides:N,slots:R}=U3(s),Q=()=>{y(!m)};Object.assign(E.on,{_containerClasses(B,H){d(H)}});const Z=()=>{Object.assign(E.on,A),l=!0;const B={...E};if(delete B.wrapperClass,g.current=new $y(B),g.current.virtual&&g.current.params.virtual.enabled){g.current.virtual.slides=N;const H={cache:!1,slides:N,renderExternal:f,renderExternalUpdate:!1};mo(g.current.params.virtual,H),mo(g.current.originalParams.virtual,H)}};P.current||Z(),g.current&&g.current.on("_beforeBreakpoint",Q);const L=()=>{l||!A||!g.current||Object.keys(A).forEach(B=>{g.current.on(B,A[B])})},W=()=>{!A||!g.current||Object.keys(A).forEach(B=>{g.current.off(B,A[B])})};k.useEffect(()=>()=>{g.current&&g.current.off("_beforeBreakpoint",Q)}),k.useEffect(()=>{!T.current&&g.current&&(g.current.emitSlidesClasses(),T.current=!0)}),rl(()=>{if(e&&(e.current=P.current),!!P.current)return g.current.destroyed&&Z(),M3({el:P.current,nextEl:D.current,prevEl:O.current,paginationEl:V.current,scrollbarEl:I.current,swiper:g.current},E),o&&!g.current.destroyed&&o(g.current),()=>{g.current&&!g.current.destroyed&&g.current.destroy(!0,!1)}},[]),rl(()=>{L();const B=j3(S,_.current,N,x.current,H=>H.key);return _.current=S,x.current=N,B.length&&g.current&&!g.current.destroyed&&V3({swiper:g.current,slides:N,passedParams:S,changedParams:B,nextEl:D.current,prevEl:O.current,scrollbarEl:I.current,paginationEl:V.current}),()=>{W()}}),rl(()=>{F3(g.current)},[h]);function F(){return E.virtual?B3(g.current,N,h):N.map((B,H)=>Pe.cloneElement(B,{swiper:g.current,swiperSlideIndex:H}))}return Pe.createElement(r,Od({ref:P,className:xb(`${u}${n?` ${n}`:""}`)},C),Pe.createElement(z3.Provider,{value:g.current},R["container-start"],Pe.createElement(i,{className:O3(E.wrapperClass)},R["wrapper-start"],F(),R["wrapper-end"]),_b(E)&&Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{ref:O,className:"swiper-button-prev"}),Pe.createElement("div",{ref:D,className:"swiper-button-next"})),Eb(E)&&Pe.createElement("div",{ref:I,className:"swiper-scrollbar"}),Tb(E)&&Pe.createElement("div",{ref:V,className:"swiper-pagination"}),R["container-end"]))});bb.displayName="Swiper";const Cb=k.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=k.useRef(null),[f,m]=k.useState("swiper-slide"),[y,T]=k.useState(!1);function P(D,O,V){O===h.current&&m(V)}rl(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){f!=="swiper-slide"&&m("swiper-slide");return}return s.on("_slideClass",P),()=>{s&&s.off("_slideClass",P)}}}),rl(()=>{s&&h.current&&!s.destroyed&&m(s.getSlideClasses(h.current))},[s]);const g={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},_=()=>typeof r=="function"?r(g):r,x=()=>{T(!0)};return Pe.createElement(n,Od({ref:h,className:xb(`${f}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:x},d),o&&Pe.createElement(fT.Provider,{value:g},Pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},_(),a&&!y&&Pe.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Pe.createElement(fT.Provider,{value:g},_(),a&&!y&&Pe.createElement("div",{className:"swiper-lazy-preloader"})))});Cb.displayName="SwiperSlide";function $3(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Bn(t.el,`.${r[i]}`)[0];s||(s=Nd("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function W3(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(y){let T;return y&&typeof y=="string"&&e.isElement&&(T=e.el.querySelector(y)||e.hostEl.querySelector(y),T)?T:(y&&(typeof y=="string"&&(T=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&T&&T.length>1&&e.el.querySelectorAll(y).length===1?T=e.el.querySelector(y):T&&T.length===1&&(T=T[0])),y&&!T?y:T)}function o(y,T){const P=e.params.navigation;y=ur(y),y.forEach(g=>{g&&(g.classList[T?"add":"remove"](...P.disabledClass.split(" ")),g.tagName==="BUTTON"&&(g.disabled=T),e.params.watchOverflow&&e.enabled&&g.classList[e.isLocked?"add":"remove"](P.lockClass))})}function a(){const{nextEl:y,prevEl:T}=e.navigation;if(e.params.loop){o(T,!1),o(y,!1);return}o(T,e.isBeginning&&!e.params.rewind),o(y,e.isEnd&&!e.params.rewind)}function l(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const y=e.params.navigation;if(e.params.navigation=$3(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let T=s(y.nextEl),P=s(y.prevEl);Object.assign(e.navigation,{nextEl:T,prevEl:P}),T=ur(T),P=ur(P);const g=(_,x)=>{_&&_.addEventListener("click",x==="next"?u:l),!e.enabled&&_&&_.classList.add(...y.lockClass.split(" "))};T.forEach(_=>g(_,"next")),P.forEach(_=>g(_,"prev"))}function h(){let{nextEl:y,prevEl:T}=e.navigation;y=ur(y),T=ur(T);const P=(g,_)=>{g.removeEventListener("click",_==="next"?u:l),g.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(g=>P(g,"next")),T.forEach(g=>P(g,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(d(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:y,prevEl:T}=e.navigation;if(y=ur(y),T=ur(T),e.enabled){a();return}[...y,...T].filter(P=>!!P).forEach(P=>P.classList.add(e.params.navigation.lockClass))}),r("click",(y,T)=>{let{nextEl:P,prevEl:g}=e.navigation;P=ur(P),g=ur(g);const _=T.target;let x=g.includes(_)||P.includes(_);if(e.isElement&&!x){const D=T.path||T.composedPath&&T.composedPath();D&&(x=D.find(O=>P.includes(O)||g.includes(O)))}if(e.params.navigation.hideOnClick&&!x){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let D;P.length?D=P[0].classList.contains(e.params.navigation.hiddenClass):g.length&&(D=g[0].classList.contains(e.params.navigation.hiddenClass)),i(D===!0?"navigationShow":"navigationHide"),[...P,...g].filter(O=>!!O).forEach(O=>O.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:m,update:a,init:d,destroy:h})}const H3=()=>{const[t,e]=k.useState([{name:"양**",role:"외국계 제약회사 Sales rep",content:"제 눈높이에 맞춰서 차근차근 잘 알려주세요. 수업을 진행하면서 제가 필요한 부분을 물어보고 계속 반영해주시는 것이 너무 좋고, 딱딱하지 않고 유쾌하고 즐거운 분위기까지 좋습니다~",rating:5},{name:"김**",role:"무역회사 대표",content:"쉽게 기초부터 알려주십니다. 덕분에 실력이 느는것 같습니다. 감사합니다.",rating:5},{name:"최**",role:"쥬얼리회사 대표",content:"비즈니스 커리큘럼을 기반으로 수업을 진행하시는데, 거기에 저의 상황까지 고려하여 폭넓게 수업을 진행해주십니다. 제가 질문에 단순한 문장으로 대답할 때마다, 쉬운 단어를 조합해서 더욱 풍성하게 문장을 만드는 연습을 할 수 있도록 도와주시는 점이 가장 이 수업에서 마음에 드는 부분입니다. 저는 선생님 성격도 너무 중요한데.. 유쾌하시고 꼼꼼하셔서, 수업 시간이 즐겁고 매우 유익합니다. 이벤트를 언제까지 하실지 모르겠지만 첫달은 아주 합리적인 수업료로 제공하시더라구요. 고민하시는 분들이 있으시다면 부담없이 들어보고 결정하시는 것도 좋을 것 같습니다.",rating:5},{name:"최**",role:"외국계 반도체 회사 임원",content:"부족한 점에 대해서 정확히 파악 후 지속적으로 수정 및 개선될 수 있도록 가르쳐 주셔서 굉장히 많은 도움이 됩니다. 항상 진심으로 감사합니다 .",rating:5},{name:"유**",role:"쿠* 매니저",content:"매우 체계적으로 수업이 진행됩니다.",rating:5},{name:"크**",role:"금융계 실무자",content:"합리적인 비용으로 친절하게 수업해주십니다, 중간중간 수업방향에 대해 함께 짚고 넘어가면서 더 만족스러운 수업이 됐던 것 같습니다. 국내 대학원 영어 면접과 관련되어 수업을 했는데, 발음이나 문법뿐만 아니라 내용이나 면접에서 영어로 말하는 방식도 짚어 주십니다. 실력자 분이시니 망설이지말고 수업 들어보시길 권해드립니다~",rating:5},{name:"박**",role:"현* 모터스 임원",content:"우선 개인별 영어 실력의 수준 파악을 위한 사전 테스트와 결과체크를 꼼꼼히 해주셨어요 제가 보완하고자 하는 부분에 대해 상세히 상담하고, 사전 테스트 결과를 고려해서 수준에 맞고 적합한 레벨을 선정하여 진행해주셨습니다. 제 개인 사정으로 긴 시간동안 진행하지는 못했지만 열정적으로 학습자의 목적에 맞게 수업 진행해주셔서 정말 감사했습니다:)",rating:5}]);return k.useState({name:"",role:"",content:"",rating:5}),k.useState(""),w.jsx("section",{id:"about",className:"py-10 bg-dark-900 mt-0",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[w.jsx(cn.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"space-y-8",children:w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:w.jsx("span",{className:"gradient-text",children:"✓ Instructor Experiences/Job Roles"})}),w.jsxs("ul",{className:"text-xl text-gray-300 leading-relaxed mb-8 list-disc list-inside space-y-2",children:[w.jsx("li",{children:"Digital Media Contents Project Lead/Project Manager"}),w.jsx("li",{children:"IT Computer Academy Instructor (Web & Computer Graphics)"}),w.jsx("li",{children:"E-commerce Business Co-founder/Operations/Digital Marketing"}),w.jsx("li",{children:"Music Industry Digital Marketing/Data Analysis"})]})]})}),w.jsxs(cn.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[w.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[w.jsx("img",{src:fF,alt:"Instructor",className:"w-full h-96 object-cover"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900/80 via-transparent to-transparent"})]}),w.jsx(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"absolute -bottom-8 -left-8 bg-dark-800 rounded-xl p-6 shadow-2xl",children:w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-2xl font-bold gradient-text",children:"300+"}),w.jsx("div",{className:"text-gray-400 text-sm",children:"수강생"})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-2xl font-bold gradient-text",children:"5년+"}),w.jsx("div",{className:"text-gray-400 text-sm",children:"운영 경력"})]})]})})]})]}),w.jsxs(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"mt-20",children:[w.jsx("h3",{className:"text-3xl font-bold text-center mb-12",children:w.jsx("span",{className:"gradient-text",children:"수강생 후기"})}),w.jsx(bb,{modules:[W3],navigation:!0,spaceBetween:24,slidesPerView:3,className:"testimonial-swiper",style:{paddingBottom:32},breakpoints:{0:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},children:t.map((n,r)=>w.jsx(Cb,{children:w.jsx(G3,{testimonial:n})},r))})]})]})})},G3=({testimonial:t})=>{const[e,n]=k.useState(!1),r="h-64 md:h-64",i="text-2l",s=Pe.useRef(null),[o,a]=k.useState(!1);return Pe.useEffect(()=>{s.current&&a(s.current.scrollHeight>s.current.clientHeight)},[t.content,e]),w.jsxs(cn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:`card flex flex-col justify-between ${r}`,children:[w.jsx("div",{className:"flex items-center mb-2",children:[...Array(t.rating)].map((l,u)=>w.jsx(pO,{size:16,className:"text-yellow-400 fill-current"},u))}),w.jsx("div",{className:"flex-1 flex flex-col justify-between min-h-0",children:w.jsxs("div",{className:"relative flex-1 min-h-0",children:[w.jsxs("div",{ref:s,className:`text-gray-300 leading-relaxed ${i} ${e?"overflow-y-auto pr-2":"overflow-hidden line-clamp-2"} transition-all duration-200`,style:{wordBreak:"break-word",maxHeight:e?"8.5rem":void 0,minHeight:"3.5rem"},children:['"',t.content,'"']}),!e&&o&&w.jsx("div",{className:"absolute right-0 bottom-0 w-full flex justify-end bg-gradient-to-t from-dark-800 via-transparent to-transparent pt-2",children:w.jsx("button",{className:"text-primary-400 underline text-base",onClick:()=>n(!0),children:"더보기"})}),e&&w.jsx("div",{className:"flex justify-end mt-2",children:w.jsx("button",{className:"text-primary-400 underline text-base",onClick:()=>n(!1),children:"닫기"})})]})}),w.jsxs("div",{className:"pt-2 border-t border-gray-700 mt-2",children:[w.jsx("div",{className:"font-semibold text-white text-sm",children:t.name}),w.jsx("div",{className:"text-gray-400 text-xs",children:t.role})]})]})};var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,Pb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function S(){}S.prototype=E.prototype,I.D=E.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(C,A,N){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return E.prototype[A].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,S){S||(S=0);var C=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)C[A]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(A=0;16>A;++A)C[A]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=I.g[0],S=I.g[1],A=I.g[2];var N=I.g[3],R=E+(N^S&(A^N))+C[0]+3614090360&4294967295;E=S+(R<<7&4294967295|R>>>25),R=N+(A^E&(S^A))+C[1]+3905402710&4294967295,N=E+(R<<12&4294967295|R>>>20),R=A+(S^N&(E^S))+C[2]+606105819&4294967295,A=N+(R<<17&4294967295|R>>>15),R=S+(E^A&(N^E))+C[3]+3250441966&4294967295,S=A+(R<<22&4294967295|R>>>10),R=E+(N^S&(A^N))+C[4]+4118548399&4294967295,E=S+(R<<7&4294967295|R>>>25),R=N+(A^E&(S^A))+C[5]+1200080426&4294967295,N=E+(R<<12&4294967295|R>>>20),R=A+(S^N&(E^S))+C[6]+2821735955&4294967295,A=N+(R<<17&4294967295|R>>>15),R=S+(E^A&(N^E))+C[7]+4249261313&4294967295,S=A+(R<<22&4294967295|R>>>10),R=E+(N^S&(A^N))+C[8]+1770035416&4294967295,E=S+(R<<7&4294967295|R>>>25),R=N+(A^E&(S^A))+C[9]+2336552879&4294967295,N=E+(R<<12&4294967295|R>>>20),R=A+(S^N&(E^S))+C[10]+4294925233&4294967295,A=N+(R<<17&4294967295|R>>>15),R=S+(E^A&(N^E))+C[11]+2304563134&4294967295,S=A+(R<<22&4294967295|R>>>10),R=E+(N^S&(A^N))+C[12]+1804603682&4294967295,E=S+(R<<7&4294967295|R>>>25),R=N+(A^E&(S^A))+C[13]+4254626195&4294967295,N=E+(R<<12&4294967295|R>>>20),R=A+(S^N&(E^S))+C[14]+2792965006&4294967295,A=N+(R<<17&4294967295|R>>>15),R=S+(E^A&(N^E))+C[15]+1236535329&4294967295,S=A+(R<<22&4294967295|R>>>10),R=E+(A^N&(S^A))+C[1]+4129170786&4294967295,E=S+(R<<5&4294967295|R>>>27),R=N+(S^A&(E^S))+C[6]+3225465664&4294967295,N=E+(R<<9&4294967295|R>>>23),R=A+(E^S&(N^E))+C[11]+643717713&4294967295,A=N+(R<<14&4294967295|R>>>18),R=S+(N^E&(A^N))+C[0]+3921069994&4294967295,S=A+(R<<20&4294967295|R>>>12),R=E+(A^N&(S^A))+C[5]+3593408605&4294967295,E=S+(R<<5&4294967295|R>>>27),R=N+(S^A&(E^S))+C[10]+38016083&4294967295,N=E+(R<<9&4294967295|R>>>23),R=A+(E^S&(N^E))+C[15]+3634488961&4294967295,A=N+(R<<14&4294967295|R>>>18),R=S+(N^E&(A^N))+C[4]+3889429448&4294967295,S=A+(R<<20&4294967295|R>>>12),R=E+(A^N&(S^A))+C[9]+568446438&4294967295,E=S+(R<<5&4294967295|R>>>27),R=N+(S^A&(E^S))+C[14]+3275163606&4294967295,N=E+(R<<9&4294967295|R>>>23),R=A+(E^S&(N^E))+C[3]+4107603335&4294967295,A=N+(R<<14&4294967295|R>>>18),R=S+(N^E&(A^N))+C[8]+1163531501&4294967295,S=A+(R<<20&4294967295|R>>>12),R=E+(A^N&(S^A))+C[13]+2850285829&4294967295,E=S+(R<<5&4294967295|R>>>27),R=N+(S^A&(E^S))+C[2]+4243563512&4294967295,N=E+(R<<9&4294967295|R>>>23),R=A+(E^S&(N^E))+C[7]+1735328473&4294967295,A=N+(R<<14&4294967295|R>>>18),R=S+(N^E&(A^N))+C[12]+2368359562&4294967295,S=A+(R<<20&4294967295|R>>>12),R=E+(S^A^N)+C[5]+4294588738&4294967295,E=S+(R<<4&4294967295|R>>>28),R=N+(E^S^A)+C[8]+2272392833&4294967295,N=E+(R<<11&4294967295|R>>>21),R=A+(N^E^S)+C[11]+1839030562&4294967295,A=N+(R<<16&4294967295|R>>>16),R=S+(A^N^E)+C[14]+4259657740&4294967295,S=A+(R<<23&4294967295|R>>>9),R=E+(S^A^N)+C[1]+2763975236&4294967295,E=S+(R<<4&4294967295|R>>>28),R=N+(E^S^A)+C[4]+1272893353&4294967295,N=E+(R<<11&4294967295|R>>>21),R=A+(N^E^S)+C[7]+4139469664&4294967295,A=N+(R<<16&4294967295|R>>>16),R=S+(A^N^E)+C[10]+3200236656&4294967295,S=A+(R<<23&4294967295|R>>>9),R=E+(S^A^N)+C[13]+681279174&4294967295,E=S+(R<<4&4294967295|R>>>28),R=N+(E^S^A)+C[0]+3936430074&4294967295,N=E+(R<<11&4294967295|R>>>21),R=A+(N^E^S)+C[3]+3572445317&4294967295,A=N+(R<<16&4294967295|R>>>16),R=S+(A^N^E)+C[6]+76029189&4294967295,S=A+(R<<23&4294967295|R>>>9),R=E+(S^A^N)+C[9]+3654602809&4294967295,E=S+(R<<4&4294967295|R>>>28),R=N+(E^S^A)+C[12]+3873151461&4294967295,N=E+(R<<11&4294967295|R>>>21),R=A+(N^E^S)+C[15]+530742520&4294967295,A=N+(R<<16&4294967295|R>>>16),R=S+(A^N^E)+C[2]+3299628645&4294967295,S=A+(R<<23&4294967295|R>>>9),R=E+(A^(S|~N))+C[0]+4096336452&4294967295,E=S+(R<<6&4294967295|R>>>26),R=N+(S^(E|~A))+C[7]+1126891415&4294967295,N=E+(R<<10&4294967295|R>>>22),R=A+(E^(N|~S))+C[14]+2878612391&4294967295,A=N+(R<<15&4294967295|R>>>17),R=S+(N^(A|~E))+C[5]+4237533241&4294967295,S=A+(R<<21&4294967295|R>>>11),R=E+(A^(S|~N))+C[12]+1700485571&4294967295,E=S+(R<<6&4294967295|R>>>26),R=N+(S^(E|~A))+C[3]+2399980690&4294967295,N=E+(R<<10&4294967295|R>>>22),R=A+(E^(N|~S))+C[10]+4293915773&4294967295,A=N+(R<<15&4294967295|R>>>17),R=S+(N^(A|~E))+C[1]+2240044497&4294967295,S=A+(R<<21&4294967295|R>>>11),R=E+(A^(S|~N))+C[8]+1873313359&4294967295,E=S+(R<<6&4294967295|R>>>26),R=N+(S^(E|~A))+C[15]+4264355552&4294967295,N=E+(R<<10&4294967295|R>>>22),R=A+(E^(N|~S))+C[6]+2734768916&4294967295,A=N+(R<<15&4294967295|R>>>17),R=S+(N^(A|~E))+C[13]+1309151649&4294967295,S=A+(R<<21&4294967295|R>>>11),R=E+(A^(S|~N))+C[4]+4149444226&4294967295,E=S+(R<<6&4294967295|R>>>26),R=N+(S^(E|~A))+C[11]+3174756917&4294967295,N=E+(R<<10&4294967295|R>>>22),R=A+(E^(N|~S))+C[2]+718787259&4294967295,A=N+(R<<15&4294967295|R>>>17),R=S+(N^(A|~E))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var S=E-this.blockSize,C=this.B,A=this.h,N=0;N<E;){if(A==0)for(;N<=S;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<E;)if(C[A++]=I.charCodeAt(N++),A==this.blockSize){i(this,C),A=0;break}}else for(;N<E;)if(C[A++]=I[N++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var S=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=S&255,S/=256;for(this.u(I),I=Array(16),E=S=0;4>E;++E)for(var C=0;32>C;C+=8)I[S++]=this.g[E]>>>C&255;return I};function s(I,E){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=E(I)}function o(I,E){this.h=E;for(var S=[],C=!0,A=I.length-1;0<=A;A--){var N=I[A]|0;C&&N==E||(S[A]=N,C=!1)}this.g=S}var a={};function l(I){return-128<=I&&128>I?s(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return P(u(-I));for(var E=[],S=1,C=0;I>=S;C++)E[C]=I/S|0,S*=4294967296;return new o(E,0)}function d(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return P(d(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(E,8)),C=h,A=0;A<I.length;A+=8){var N=Math.min(8,I.length-A),R=parseInt(I.substring(A,A+N),E);8>N?(N=u(Math.pow(E,N)),C=C.j(N).add(u(R))):(C=C.j(S),C=C.add(u(R)))}return C}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();for(var I=0,E=1,S=0;S<this.g.length;S++){var C=this.i(S);I+=(0<=C?C:4294967296+C)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(T(this))return"-"+P(this).toString(I);for(var E=u(Math.pow(I,6)),S=this,C="";;){var A=D(S,E).g;S=g(S,A.j(E));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=A,y(S))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=g(this,I),T(I)?-1:y(I)?0:1};function P(I){for(var E=I.g.length,S=[],C=0;C<E;C++)S[C]=~I.g[C];return new o(S,~I.h).add(f)}t.abs=function(){return T(this)?P(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),S=[],C=0,A=0;A<=E;A++){var N=C+(this.i(A)&65535)+(I.i(A)&65535),R=(N>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);C=R>>>16,N&=65535,R&=65535,S[A]=R<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function g(I,E){return I.add(P(E))}t.j=function(I){if(y(this)||y(I))return h;if(T(this))return T(I)?P(this).j(P(I)):P(P(this).j(I));if(T(I))return P(this.j(P(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,S=[],C=0;C<2*E;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<I.g.length;A++){var N=this.i(C)>>>16,R=this.i(C)&65535,Q=I.i(A)>>>16,Z=I.i(A)&65535;S[2*C+2*A]+=R*Z,_(S,2*C+2*A),S[2*C+2*A+1]+=N*Z,_(S,2*C+2*A+1),S[2*C+2*A+1]+=R*Q,_(S,2*C+2*A+1),S[2*C+2*A+2]+=N*Q,_(S,2*C+2*A+2)}for(C=0;C<E;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=E;C<2*E;C++)S[C]=0;return new o(S,0)};function _(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function x(I,E){this.g=I,this.h=E}function D(I,E){if(y(E))throw Error("division by zero");if(y(I))return new x(h,h);if(T(I))return E=D(P(I),E),new x(P(E.g),P(E.h));if(T(E))return E=D(I,P(E)),new x(P(E.g),E.h);if(30<I.g.length){if(T(I)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var S=f,C=E;0>=C.l(I);)S=O(S),C=O(C);var A=V(S,1),N=V(C,1);for(C=V(C,2),S=V(S,2);!y(C);){var R=N.add(C);0>=R.l(I)&&(A=A.add(S),N=R),C=V(C,1),S=V(S,1)}return E=g(I,A.j(E)),new x(A,E)}for(A=h;0<=I.l(E);){for(S=Math.max(1,Math.floor(I.m()/E.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(S),R=N.j(E);T(R)||0<R.l(I);)S-=C,N=u(S),R=N.j(E);y(N)&&(N=f),A=A.add(N),I=g(I,R)}return new x(A,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)&I.i(C);return new o(S,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)|I.i(C);return new o(S,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)^I.i(C);return new o(S,this.h^I.h)};function O(I){for(var E=I.g.length+1,S=[],C=0;C<E;C++)S[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(S,I.h)}function V(I,E){var S=E>>5;E%=32;for(var C=I.g.length-S,A=[],N=0;N<C;N++)A[N]=0<E?I.i(N+S)>>>E|I.i(N+S+1)<<32-E:I.i(N+S);return new o(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,yi=o}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ab,ja,kb,Lc,Rm,Rb,Db,Nb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var M=c[b];if(!(M in v))break e;v=v[M]}c=c[c.length-1],b=v[c],p=p(b),p!=b&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,b=!1,M={next:function(){if(!b&&v<c.length){var j=v++;return{value:p(j,c[j]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function h(c,p,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function y(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,M,j){for(var G=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)G[_e-2]=arguments[_e];return p.prototype[M].apply(b,G)}}function T(c){const p=c.length;if(0<p){const v=Array(p);for(let b=0;b<p;b++)v[b]=c[b];return v}return[]}function P(c,p){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(l(b)){const M=c.length||0,j=b.length||0;c.length=M+j;for(let G=0;G<j;G++)c[M+G]=b[G]}else c.push(b)}}class g{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function V(c,p,v){for(const b in c)p.call(v,c[b],b,c)}function I(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function E(c){const p={};for(const v in c)p[v]=c[v];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let v,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(v in b)c[v]=b[v];for(let j=0;j<S.length;j++)v=S[j],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function A(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function N(c){a.setTimeout(()=>{throw c},0)}function R(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Q{constructor(){this.h=this.g=null}add(p,v){const b=Z.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new g(()=>new L,c=>c.reset());class L{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let W,F=!1,B=new Q,H=()=>{const c=a.Promise.resolve(void 0);W=()=>{c.then(K)}};var K=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){N(v)}var p=Z;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function et(c,p){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{D(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&et.aa.h.call(this)}}y(et,oe);var $e={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),nr=0;function jt(c,p,v,b,M){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=M,this.key=++nr,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vt(c){this.src=c,this.g={},this.h=0}vt.prototype.add=function(c,p,v,b,M){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var G=ji(c,p,b,M);return-1<G?(p=c[G],v||(p.fa=!1)):(p=new jt(p,this.src,j,!!b,M),p.fa=v,c.push(p)),p};function rr(c,p){var v=p.type;if(v in c.g){var b=c.g[v],M=Array.prototype.indexOf.call(b,p,void 0),j;(j=0<=M)&&Array.prototype.splice.call(b,M,1),j&&(Kt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ji(c,p,v,b){for(var M=0;M<c.length;++M){var j=c[M];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==b)return M}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),ir={};function kt(c,p,v,b,M){if(b&&b.once)return Xo(c,p,v,b,M);if(Array.isArray(p)){for(var j=0;j<p.length;j++)kt(c,p[j],v,b,M);return null}return v=ta(v),c&&c[Ye]?c.K(p,v,u(b)?!!b.capture:!!b,M):Fi(c,p,v,!1,b,M)}function Fi(c,p,v,b,M,j){if(!p)throw Error("Invalid event type");var G=u(M)?!!M.capture:!!M,_e=Zo(c);if(_e||(c[Re]=_e=new vt(c)),v=_e.add(p,v,b,G,j),v.proxy)return v;if(b=hu(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)Ke||(M=G),M===void 0&&(M=!1),c.addEventListener(p.toString(),b,M);else if(c.attachEvent)c.attachEvent(pu(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function hu(){function c(v){return p.call(c.src,c.listener,v)}const p=mu;return c}function Xo(c,p,v,b,M){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Xo(c,p[j],v,b,M);return null}return v=ta(v),c&&c[Ye]?c.L(p,v,u(b)?!!b.capture:!!b,M):Fi(c,p,v,!0,b,M)}function fu(c,p,v,b,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)fu(c,p[j],v,b,M);else b=u(b)?!!b.capture:!!b,v=ta(v),c&&c[Ye]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],v=ji(j,v,b,M),-1<v&&(Kt(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=Zo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ji(p,v,b,M)),(v=-1<c?p[c]:null)&&Jo(v))}function Jo(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ye])rr(p.i,c);else{var v=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(v,b,c.capture):p.detachEvent?p.detachEvent(pu(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=Zo(p))?(rr(v,c),v.h==0&&(v.src=null,p[Re]=null)):Kt(c)}}}function pu(c){return c in ir?ir[c]:ir[c]="on"+c}function mu(c,p){if(c.da)c=!0;else{p=new et(p,this);var v=c.listener,b=c.ha||c.src;c.fa&&Jo(c),c=v.call(b,p)}return c}function Zo(c){return c=c[Re],c instanceof vt?c:null}var ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(c){return typeof c=="function"?c:(c[ea]||(c[ea]=function(p){return c.handleEvent(p)}),c[ea])}function tt(){ne.call(this),this.i=new vt(this),this.M=this,this.F=null}y(tt,ne),tt.prototype[Ye]=!0,tt.prototype.removeEventListener=function(c,p,v,b){fu(this,c,p,v,b)};function lt(c,p){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new oe(p,c);else if(p instanceof oe)p.target=p.target||c;else{var M=p;p=new oe(b,c),C(p,M)}if(M=!0,v)for(var j=v.length-1;0<=j;j--){var G=p.g=v[j];M=jr(G,b,!0,p)&&M}if(G=p.g=c,M=jr(G,b,!0,p)&&M,M=jr(G,b,!1,p)&&M,v)for(j=0;j<v.length;j++)G=p.g=v[j],M=jr(G,b,!1,p)&&M}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],b=0;b<v.length;b++)Kt(v[b]);delete c.g[p],c.h--}}this.F=null},tt.prototype.K=function(c,p,v,b){return this.i.add(String(c),p,!1,v,b)},tt.prototype.L=function(c,p,v,b){return this.i.add(String(c),p,!0,v,b)};function jr(c,p,v,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,j=0;j<p.length;++j){var G=p[j];if(G&&!G.da&&G.capture==v){var _e=G.listener,ut=G.ha||G.src;G.fa&&rr(c.i,G),M=_e.call(ut,b)!==!1&&M}}return M&&!b.defaultPrevented}function na(c,p,v){if(typeof c=="function")v&&(c=f(c,v));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function ra(c){c.g=na(()=>{c.g=null,c.i&&(c.i=!1,ra(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class qh extends ne{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(c){ne.call(this),this.h=c,this.g={}}y(On,ne);var ia=[];function gu(c){V(c.g,function(p,v){this.g.hasOwnProperty(v)&&Jo(p)},c),c.g={}}On.prototype.N=function(){On.aa.N.call(this),gu(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=a.JSON.stringify,yu=a.JSON.parse,sa=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function oa(){}oa.prototype.h=null;function aa(c){return c.h||(c.h=c.i())}function vu(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nt(){oe.call(this,"d")}y(nt,oe);function rt(){oe.call(this,"c")}y(rt,oe);var sn={},Te=null;function Rt(){return Te=Te||new tt}sn.La="serverreachability";function wu(c){oe.call(this,sn.La,c)}y(wu,oe);function sr(c){const p=Rt();lt(p,new wu(p))}sn.STAT_EVENT="statevent";function la(c,p){oe.call(this,sn.STAT_EVENT,c),this.stat=p}y(la,oe);function it(c){const p=Rt();lt(p,new la(p,c))}sn.Ma="timingevent";function Rs(c,p){oe.call(this,sn.Ma,c),this.size=p}y(Rs,oe);function Vn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function or(){this.g=!0}or.prototype.xa=function(){this.g=!1};function ua(c,p,v,b,M,j){c.info(function(){if(c.g)if(j)for(var G="",_e=j.split("&"),ut=0;ut<_e.length;ut++){var me=_e[ut].split("=");if(1<me.length){var wt=me[0];me=me[1];var _t=wt.split("_");G=2<=_t.length&&_t[1]=="type"?G+(wt+"="+me+"&"):G+(wt+"=redacted&")}}else G=null;else G=j;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+p+`
`+v+`
`+G})}function ca(c,p,v,b,M,j,G){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+p+`
`+v+`
`+j+" "+G})}function Ur(c,p,v,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+_u(c,v)+(b?" "+b:"")})}function da(c,p){c.info(function(){return"TIMEOUT: "+p})}or.prototype.info=function(){};function _u(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return ks(v)}catch{return p}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ae;function we(){}y(we,oa),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},ae=new we;function ye(c,p,v,b){this.j=c,this.i=p,this.l=v,this.R=b||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var Ut={},Ui={};function ha(c,p,v){c.L=1,c.v=bu(ar(p)),c.m=v,c.P=!0,Eu(c,null)}function Eu(c,p){c.F=Date.now(),xu(c),c.A=ar(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),$v(v.i,"t",b),c.C=0,v=c.j.J,c.h=new Ft,c.g=a0(c.j,v?p:null,!c.m),0<c.O&&(c.M=new qh(f(c.Y,c,c.g),c.O)),p=c.U,v=c.g,b=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(ia[0]=M.toString()),M=ia);for(var j=0;j<M.length;j++){var G=kt(v,M[j],b||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),sr(),ua(c.i,c.u,c.A,c.l,c.R,c.m)}ye.prototype.ca=function(c){c=c.target;const p=this.M;p&&lr(c)==3?p.j():this.Y(c)},ye.prototype.Y=function(c){try{if(c==this.g)e:{const _t=lr(this.g);var p=this.g.Ba();const Vs=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Qv(this.g)))){this.J||_t!=4||p==7||(p==8||0>=Vs?sr(3):sr(2)),Kh(this);var v=this.g.Z();this.X=v;t:if(kv(this)){var b=Qv(this.g);c="";var M=b.length,j=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),fa(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(j&&p==M-1)});b.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=v==200,ca(this.i,this.u,this.A,this.l,this.R,_t,v),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,ut=this.g;if((_e=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(_e)){var me=_e;break t}}me=null}if(v=me)Ur(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,v);else{this.o=!1,this.s=3,it(12),Bi(this),fa(this);break e}}if(this.P){v=!0;let Tn;for(;!this.J&&this.C<G.length;)if(Tn=DP(this,G),Tn==Ui){_t==4&&(this.s=4,it(14),v=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Ut){this.s=4,it(15),Ur(this.i,this.l,G,"[Invalid Chunk]"),v=!1;break}else Ur(this.i,this.l,Tn,null),Yh(this,Tn);if(kv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||G.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)Ur(this.i,this.l,G,"[Invalid Chunked Response]"),Bi(this),fa(this);else if(0<G.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),tf(wt),wt.M=!0,it(11))}}else Ur(this.i,this.l,G,null),Yh(this,G);_t==4&&Bi(this),this.o&&!this.J&&(_t==4?r0(this.j,this):(this.o=!1,xu(this)))}else YP(this.g),v==400&&0<G.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Bi(this),fa(this)}}}catch{}finally{}};function kv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function DP(c,p){var v=c.C,b=p.indexOf(`
`,v);return b==-1?Ui:(v=Number(p.substring(v,b)),isNaN(v)?Ut:(b+=1,b+v>p.length?Ui:(p=p.slice(b,b+v),c.C=b+v,p)))}ye.prototype.cancel=function(){this.J=!0,Bi(this)};function xu(c){c.S=Date.now()+c.I,Rv(c,c.I)}function Rv(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vn(f(c.ba,c),p)}function Kh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ye.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(da(this.i,this.A),this.L!=2&&(sr(),it(17)),Bi(this),this.s=2,fa(this)):Rv(this,this.S-c)};function fa(c){c.j.G==0||c.J||r0(c.j,c)}function Bi(c){Kh(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,gu(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Yh(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Qh(v.h,c))){if(!c.K&&Qh(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Du(v),ku(v);else break e;ef(v),it(18)}}else v.za=M[1],0<v.za-v.T&&37500>M[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vn(f(v.Za,v),6e3));if(1>=Ov(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else $i(v,11)}else if((c.K||v.g==c)&&Du(v),!_(p))for(M=v.Da.g.parse(p),p=0;p<M.length;p++){let me=M[p];if(v.T=me[0],me=me[1],v.G==2)if(me[0]=="c"){v.K=me[1],v.ia=me[2];const wt=me[3];wt!=null&&(v.la=wt,v.j.info("VER="+v.la));const _t=me[4];_t!=null&&(v.Aa=_t,v.j.info("SVER="+v.Aa));const Vs=me[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(b=1.5*Vs,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Tn=c.g;if(Tn){const Ou=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var j=b.h;j.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Xh(j,j.h),j.h=null))}if(b.D){const nf=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;nf&&(b.ya=nf,xe(b.I,b.D,nf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var G=c;if(b.qa=o0(b,b.J?b.ia:null,b.W),G.K){Vv(b.h,G);var _e=G,ut=b.L;ut&&(_e.I=ut),_e.B&&(Kh(_e),xu(_e)),b.g=G}else t0(b);0<v.i.length&&Ru(v)}else me[0]!="stop"&&me[0]!="close"||$i(v,7);else v.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?$i(v,7):Zh(v):me[0]!="noop"&&v.l&&v.l.ta(me),v.v=0)}}sr(4)}catch{}}var NP=class{constructor(c,p){this.g=c,this.map=p}};function Dv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ov(c){return c.h?1:c.g?c.g.size:0}function Qh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Xh(c,p){c.g?c.g.add(p):c.h=p}function Vv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Dv.prototype.cancel=function(){if(this.i=Lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return T(c.i)}function OP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,b=0;b<v;b++)p.push(c[b]);return p}p=[],v=0;for(b in c)p[v++]=c[b];return p}function VP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const b in c)p[v++]=b;return p}}}function Mv(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=VP(c),b=OP(c),M=b.length,j=0;j<M;j++)p.call(void 0,b[j],v&&v[j],c)}var jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LP(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),M=null;if(0<=b){var j=c[v].substring(0,b);M=c[v].substring(b+1)}else j=c[v];p(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function zi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zi){this.h=c.h,Su(this,c.j),this.o=c.o,this.g=c.g,Iu(this,c.s),this.l=c.l;var p=c.i,v=new ga;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Fv(this,v),this.m=c.m}else c&&(p=String(c).match(jv))?(this.h=!1,Su(this,p[1]||"",!0),this.o=pa(p[2]||""),this.g=pa(p[3]||"",!0),Iu(this,p[4]),this.l=pa(p[5]||"",!0),Fv(this,p[6]||"",!0),this.m=pa(p[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}zi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ma(p,Uv,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ma(p,Uv,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ma(v,v.charAt(0)=="/"?FP:jP,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ma(v,BP)),c.join("")};function ar(c){return new zi(c)}function Su(c,p,v){c.j=v?pa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Iu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Fv(c,p,v){p instanceof ga?(c.i=p,zP(c.i,c.h)):(v||(p=ma(p,UP)),c.i=new ga(p,c.h))}function xe(c,p,v){c.i.set(p,v)}function bu(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ma(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,MP),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function MP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uv=/[#\/\?@]/g,jP=/[#\?:]/g,FP=/[#\?]/g,UP=/[#\?@]/g,BP=/#/g;function ga(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Br(c){c.g||(c.g=new Map,c.h=0,c.i&&LP(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=ga.prototype,t.add=function(c,p){Br(this),this.i=null,c=Ns(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Bv(c,p){Br(c),p=Ns(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function zv(c,p){return Br(c),p=Ns(c,p),c.g.has(p)}t.forEach=function(c,p){Br(this),this.g.forEach(function(v,b){v.forEach(function(M){c.call(p,M,b,this)},this)},this)},t.na=function(){Br(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let b=0;b<p.length;b++){const M=c[b];for(let j=0;j<M.length;j++)v.push(p[b])}return v},t.V=function(c){Br(this);let p=[];if(typeof c=="string")zv(this,c)&&(p=p.concat(this.g.get(Ns(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return Br(this),this.i=null,c=Ns(this,c),zv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function $v(c,p,v){Bv(c,p),0<v.length&&(c.i=null,c.g.set(Ns(c,p),T(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var b=p[v];const j=encodeURIComponent(String(b)),G=this.V(b);for(b=0;b<G.length;b++){var M=j;G[b]!==""&&(M+="="+encodeURIComponent(String(G[b]))),c.push(M)}}return this.i=c.join("&")};function Ns(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function zP(c,p){p&&!c.j&&(Br(c),c.i=null,c.g.forEach(function(v,b){var M=b.toLowerCase();b!=M&&(Bv(this,b),$v(this,M,v))},c)),c.j=p}function $P(c,p){const v=new or;if(a.Image){const b=new Image;b.onload=m(zr,v,"TestLoadImage: loaded",!0,p,b),b.onerror=m(zr,v,"TestLoadImage: error",!1,p,b),b.onabort=m(zr,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=m(zr,v,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function WP(c,p){const v=new or,b=new AbortController,M=setTimeout(()=>{b.abort(),zr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(j=>{clearTimeout(M),j.ok?zr(v,"TestPingServer: ok",!0,p):zr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),zr(v,"TestPingServer: error",!1,p)})}function zr(c,p,v,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(v)}catch{}}function HP(){this.g=new sa}function GP(c,p,v){const b=v||"";try{Mv(c,function(M,j){let G=M;u(M)&&(G=ks(M)),p.push(b+j+"="+encodeURIComponent(G))})}catch(M){throw p.push(b+"type="+encodeURIComponent("_badmap")),M}}function Cu(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Cu,oa),Cu.prototype.g=function(){return new Pu(this.l,this.j)},Cu.prototype.i=function(c){return function(){return c}}({});function Pu(c,p){tt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Pu,tt),t=Pu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,va(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ya(this):va(this),this.readyState==3&&Wv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ya(this))},t.Qa=function(c){this.g&&(this.response=c,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,va(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Hv(c){let p="";return V(c,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function Jh(c,p,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Hv(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):xe(c,p,v))}function je(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(je,tt);var qP=/^https?$/i,KP=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ae.g(),this.v=this.o?aa(this.o):aa(ae),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){Gv(this,j);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)v.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())v.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(KP,p,void 0))||b||M||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of v)this.g.setRequestHeader(j,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yv(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){Gv(this,j)}};function Gv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,qv(c),Au(c)}function qv(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,lt(this,"complete"),lt(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kv(this):this.bb())},t.bb=function(){Kv(this)};function Kv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||lr(c)!=4||c.Z()!=2)){if(c.u&&lr(c)==4)na(c.Ea,0,c);else if(lt(c,"readystatechange"),lr(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var b;if(b=G===0){var M=String(c.D).match(jv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),b=!qP.test(M?M.toLowerCase():"")}v=b}if(v)lt(c,"complete"),lt(c,"success");else{c.m=6;try{var j=2<lr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",qv(c)}}finally{Au(c)}}}}function Au(c,p){if(c.g){Yv(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||lt(c,"ready");try{v.onreadystatechange=b}catch{}}}function Yv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),yu(p)}};function Qv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function YP(c){const p={};c=(c.g&&2<=lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(_(c[b]))continue;var v=A(c[b]);const M=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[M]||[];p[M]=j,j.push(v)}I(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Xv(c){this.Aa=0,this.i=[],this.j=new or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,c),this.cb=wa("retryDelaySeedMs",1e4,c),this.Wa=wa("forwardChannelMaxRetries",2,c),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Dv(c&&c.concurrentRequestLimit),this.Da=new HP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xv.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,b){it(0),this.W=c,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=o0(this,null,this.W),Ru(this)};function Zh(c){if(Jv(c),c.G==3){var p=c.U++,v=ar(c.I);if(xe(v,"SID",c.K),xe(v,"RID",p),xe(v,"TYPE","terminate"),_a(c,v),p=new ye(c,c.j,p),p.L=2,p.v=bu(ar(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=a0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),xu(p)}s0(c)}function ku(c){c.g&&(tf(c),c.g.cancel(),c.g=null)}function Jv(c){ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),Du(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ru(c){if(!Nv(c.h)&&!c.s){c.s=!0;var p=c.Ga;W||H(),F||(W(),F=!0),B.add(p,c),c.B=0}}function QP(c,p){return Ov(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vn(f(c.Ga,c,p),i0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new ye(this,this.j,c);let j=this.o;if(this.S&&(j?(j=E(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=e0(this,M,p),v=ar(this.I),xe(v,"RID",c),xe(v,"CVER",22),this.D&&xe(v,"X-HTTP-Session-Id",this.D),_a(this,v),j&&(this.O?p="headers="+encodeURIComponent(String(Hv(j)))+"&"+p:this.m&&Jh(v,this.m,j)),Xh(this.h,M),this.Ua&&xe(v,"TYPE","init"),this.P?(xe(v,"$req",p),xe(v,"SID","null"),M.T=!0,ha(M,v,null)):ha(M,v,p),this.G=2}}else this.G==3&&(c?Zv(this,c):this.i.length==0||Nv(this.h)||Zv(this))};function Zv(c,p){var v;p?v=p.l:v=c.U++;const b=ar(c.I);xe(b,"SID",c.K),xe(b,"RID",v),xe(b,"AID",c.T),_a(c,b),c.m&&c.o&&Jh(b,c.m,c.o),v=new ye(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=e0(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xh(c.h,v),ha(v,b,p)}function _a(c,p){c.H&&V(c.H,function(v,b){xe(p,b,v)}),c.l&&Mv({},function(v,b){xe(p,b,v)})}function e0(c,p,v){v=Math.min(c.i.length,v);var b=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let j=-1;for(;;){const G=["count="+v];j==-1?0<v?(j=M[0].g,G.push("ofs="+j)):j=0:G.push("ofs="+j);let _e=!0;for(let ut=0;ut<v;ut++){let me=M[ut].g;const wt=M[ut].map;if(me-=j,0>me)j=Math.max(0,M[ut].g-100),_e=!1;else try{GP(wt,G,"req"+me+"_")}catch{b&&b(wt)}}if(_e){b=G.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,b}function t0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;W||H(),F||(W(),F=!0),B.add(p,c),c.v=0}}function ef(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vn(f(c.Fa,c),i0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,n0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vn(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),ku(this),n0(this))};function tf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function n0(c){c.g=new ye(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ar(c.qa);xe(p,"RID","rpc"),xe(p,"SID",c.K),xe(p,"AID",c.T),xe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(p,"TO",c.ja),xe(p,"TYPE","xmlhttp"),_a(c,p),c.m&&c.o&&Jh(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=bu(ar(p)),v.m=null,v.P=!0,Eu(v,c)}t.Za=function(){this.C!=null&&(this.C=null,ku(this),ef(this),it(19))};function Du(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function r0(c,p){var v=null;if(c.g==p){Du(c),tf(c),c.g=null;var b=2}else if(Qh(c.h,p))v=p.D,Vv(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;b=Rt(),lt(b,new Rs(b,v)),Ru(c)}else t0(c);else if(M=p.s,M==3||M==0&&0<p.X||!(b==1&&QP(c,p)||b==2&&ef(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),M){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function i0(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function $i(c,p){if(c.j.info("Error code "+p),p==2){var v=f(c.fb,c),b=c.Xa;const M=!b;b=new zi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Su(b,"https"),bu(b),M?$P(b.toString(),v):WP(b.toString(),v)}else it(2);c.G=0,c.l&&c.l.sa(p),s0(c),Jv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function s0(c){if(c.G=0,c.ka=[],c.l){const p=Lv(c.h);(p.length!=0||c.i.length!=0)&&(P(c.ka,p),P(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function o0(c,p,v){var b=v instanceof zi?ar(v):new zi(v);if(b.g!="")p&&(b.g=p+"."+b.g),Iu(b,b.s);else{var M=a.location;b=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var j=new zi(null);b&&Su(j,b),p&&(j.g=p),M&&Iu(j,M),v&&(j.l=v),b=j}return v=c.D,p=c.ya,v&&p&&xe(b,v,p),xe(b,"VER",c.la),_a(c,b),b}function a0(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new je(new Cu({eb:v})):new je(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function l0(){}t=l0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(c,p){return new Yt(c,p)};function Yt(c,p){tt.call(this),this.g=new Xv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Os(this)}y(Yt,tt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Zh(this.g)},Yt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ks(c),c=v);p.i.push(new NP(p.Ya++,c)),p.G==3&&Ru(p)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,Yt.aa.N.call(this)};function u0(c){nt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(u0,nt);function c0(){rt.call(this),this.status=1}y(c0,rt);function Os(c){this.g=c}y(Os,l0),Os.prototype.ua=function(){lt(this.g,"a")},Os.prototype.ta=function(c){lt(this.g,new u0(c))},Os.prototype.sa=function(c){lt(this.g,new c0)},Os.prototype.ra=function(){lt(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Nb=function(){return new Nu},Db=function(){return Rt()},Rb=sn,Rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Lc=Ds,Tu.COMPLETE="complete",kb=Tu,vu.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",tt.prototype.listen=tt.prototype.K,ja=vu,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Ab=je}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const mT="@firebase/firestore",gT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new ty("@firebase/firestore");function Ms(){return ms.logLevel}function q(t,...e){if(ms.logLevel<=de.DEBUG){const n=e.map(Wy);ms.debug(`Firestore (${$o}): ${t}`,...n)}}function Rr(t,...e){if(ms.logLevel<=de.ERROR){const n=e.map(Wy);ms.error(`Firestore (${$o}): ${t}`,...n)}}function Si(t,...e){if(ms.logLevel<=de.WARN){const n=e.map(Wy);ms.warn(`Firestore (${$o}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Ob(t,r,n)}function Ob(t,e,n){let r=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rr(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Ob(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class K3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y3{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new Vb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class Q3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Q3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Z3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Dm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return le(r,i);{const s=Lb(),o=e6(s.encode(vT(t,n)),s.encode(vT(e,n)));return o!==0?o:le(r,i)}}n+=r>65535?2:1}return le(t.length,e.length)}function vT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function e6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return le(t[n],e[n]);return le(t.length,e.length)}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__name__";class Fn{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Fn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return le(e.length,n.length)}static compareSegments(e,n){const r=Fn.isNumericId(e),i=Fn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fn.extractNumericId(e).compare(Fn.extractNumericId(n)):Dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Ie extends Fn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const t6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Fn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return t6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new ht([wT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ie.fromString(e))}static fromName(e){return new J(Ie.fromString(e).popFirst(5))}static empty(){return new J(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n6(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _T(t){if(!J.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(J.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gy(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function ru(t,e){if(!jb(t))throw new X(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new X(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=-62135596800,xT=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xT);return new ue(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ET)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xT}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,ue._jsonSchema))return new ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ET;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:qe("string",ue._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new ue(0,0))}static max(){return new ie(new ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function r6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new ue(n+1,0):new ue(n,r));return new Ii(i,J.empty(),e)}function i6(t){return new Ii(t.readTime,t.key,Dl)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(ie.min(),J.empty(),Dl)}static max(){return new Ii(ie.max(),J.empty(),Dl)}}function s6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==o6)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function l6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-1;function Sh(t){return t==null}function Vd(t){return t===0&&1/t==-1/0}function u6(t){return typeof t=="number"&&Number.isInteger(t)&&!Vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="";function c6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ST(e)),e=d6(t.get(n),e);return ST(e)}function d6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Fb:n+="";break;default:n+=s}}return n}function ST(t){return t+Fb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ub(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bT(this.data.getIterator())}getIteratorFrom(e){return new bT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class bT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new An([])}unionWith(e){let n=new Ze(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bb("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const h6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=h6.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="server_timestamp",$b="__type__",Wb="__previous_value__",Hb="__local_write_time__";function Ky(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$b])===null||n===void 0?void 0:n.stringValue)===zb}function Ih(t){const e=t.mapValue.fields[Wb];return Ky(e)?Ih(e):e}function Nl(t){const e=bi(t.mapValue.fields[Hb].timestampValue);return new ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ld="(default)";class Ol{constructor(e,n){this.projectId=e,this.database=n||Ld}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Ld}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="__type__",qb="__max__",lc={mapValue:{fields:{__type__:{stringValue:qb}}}},Kb="__vector__",Md="value";function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ky(t)?4:m6(t)?9007199254740991:p6(t)?10:11:te(28295,{value:t})}function Zn(t,e){if(t===e)return!0;const n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=bi(i.timestampValue),a=bi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ci(i.bytesValue).isEqual(Ci(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?Vd(o)===Vd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IT(o)!==IT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zn(o[l],a[l])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function Vl(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;const n=Pi(t),r=Pi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Be(s.integerValue||s.doubleValue),l=Be(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return CT(t.timestampValue,e.timestampValue);case 4:return CT(Nl(t),Nl(e));case 5:return Dm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ci(s),l=Ci(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=le(a[u],l[u]);if(d!==0)return d}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=le(Be(s.latitude),Be(o.latitude));return a!==0?a:le(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h[Md])===null||a===void 0?void 0:a.arrayValue,y=(l=f[Md])===null||l===void 0?void 0:l.arrayValue,T=le(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:PT(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===lc.mapValue&&o===lc.mapValue)return 0;if(s===lc.mapValue)return 1;if(o===lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Dm(l[h],d[h]);if(f!==0)return f;const m=Ro(a[l[h]],u[d[h]]);if(m!==0)return m}return le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw te(23264,{le:n})}}function CT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=bi(t),r=bi(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function PT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ro(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function Do(t){return Nm(t)}function Nm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ci(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Nm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Nm(n.fields[o])}`;return i+"}"}(t.mapValue):te(61005,{value:t})}function Mc(t){switch(Pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(t);return e?16+Mc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ci(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Mc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ss(r.fields,(s,o)=>{i+=s.length+Mc(o)}),i}(t.mapValue);default:throw te(13486,{value:t})}}function Om(t){return!!t&&"integerValue"in t}function Yy(t){return!!t&&"arrayValue"in t}function AT(t){return!!t&&"nullValue"in t}function kT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jc(t){return!!t&&"mapValue"in t}function p6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gb])===null||n===void 0?void 0:n.stringValue)===Kb}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ss(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(il(this.value))}}function Yb(t){const e=[];return Ss(t.fields,(n,r)=>{const i=new ht([n]);if(jc(r)){const s=Yb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,ie.min(),ie.min(),ie.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,ie.min(),ie.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ie.min(),ie.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.position=e,this.inclusive=n}}function RT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function g6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{}class Xe extends Qb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v6(e,n,r):n==="array-contains"?new T6(e,r):n==="in"?new E6(e,r):n==="not-in"?new x6(e,r):n==="array-contains-any"?new S6(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w6(e,r):new _6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Qb{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new er(e,n)}matches(e){return Xb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Xb(t){return t.op==="and"}function Jb(t){return y6(t)&&Xb(t)}function y6(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function Vm(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(Jb(t))return t.filters.map(e=>Vm(e)).join(",");{const e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function Zb(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(t,e):t instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Zb(o,i.filters[a]),!0):!1}(t,e):void te(19439)}function eC(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(eC).join(" ,")+"}"}(t):"Filter"}class v6 extends Xe{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class w6 extends Xe{constructor(e,n){super(e,"in",n),this.keys=tC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _6 extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=tC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class T6 extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yy(n)&&Vl(n.arrayValue,this.value)}}class E6 extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vl(this.value.arrayValue,n)}}class x6 extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vl(this.value.arrayValue,n)}}class S6 extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function NT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new I6(t,e,n,r,i,s,o)}function Qy(t){const e=se(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Do(r)).join(",")),e.Pe=n}return e.Pe}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DT(t.startAt,e.startAt)&&DT(t.endAt,e.endAt)}function Lm(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function b6(t,e,n,r,i,s,o,a){return new bh(t,e,n,r,i,s,o,a)}function nC(t){return new bh(t)}function OT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C6(t){return t.collectionGroup!==null}function sl(t){const e=se(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ze(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Fd(s,r))}),n.has(ht.keyField().canonicalString())||e.Te.push(new Fd(ht.keyField(),r))}return e.Te}function Gn(t){const e=se(t);return e.Ie||(e.Ie=P6(e,sl(t))),e.Ie}function P6(t,e){if(t.limitType==="F")return NT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fd(i.field,s)});const n=t.endAt?new jd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jd(t.startAt.position,t.startAt.inclusive):null;return NT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mm(t,e,n){return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return Xy(Gn(t),Gn(e))&&t.limitType===e.limitType}function rC(t){return`${Qy(Gn(t))}|lt:${t.limitType}`}function js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eC(i)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Do(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Do(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of sl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=RT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,sl(r),i)||r.endAt&&!function(o,a,l){const u=RT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,sl(r),i))}(t,e)}function A6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iC(t){return(e,n)=>{let r=!1;for(const i of sl(t)){const s=k6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function k6(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ro(l,u):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new Me(J.comparator);function Dr(){return R6}const sC=new Me(J.comparator);function Fa(...t){let e=sC;for(const n of t)e=e.insert(n.key,n);return e}function oC(t){let e=sC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ts(){return ol()}function aC(){return ol()}function ol(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const D6=new Me(J.comparator),N6=new Ze(J.comparator);function he(...t){let e=N6;for(const n of t)e=e.add(n);return e}const O6=new Ze(le);function V6(){return O6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function lC(t){return{integerValue:""+t}}function L6(t,e){return u6(e)?lC(e):Jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function M6(t,e,n){return t instanceof Ud?function(i,s){const o={fields:{[$b]:{stringValue:zb},[Hb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ky(s)&&(s=Ih(s)),s&&(o.fields[Wb]=s),{mapValue:o}}(n,e):t instanceof Ll?cC(t,e):t instanceof Ml?dC(t,e):function(i,s){const o=uC(i,s),a=VT(o)+VT(i.Ee);return Om(o)&&Om(i.Ee)?lC(a):Jy(i.serializer,a)}(t,e)}function j6(t,e,n){return t instanceof Ll?cC(t,e):t instanceof Ml?dC(t,e):n}function uC(t,e){return t instanceof Bd?function(r){return Om(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ud extends Ah{}class Ll extends Ah{constructor(e){super(),this.elements=e}}function cC(t,e){const n=hC(e);for(const r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends Ah{constructor(e){super(),this.elements=e}}function dC(t,e){let n=hC(e);for(const r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}class Bd extends Ah{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function VT(t){return Be(t.integerValue||t.doubleValue)}function hC(t){return Yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function F6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ll&&i instanceof Ll||r instanceof Ml&&i instanceof Ml?ko(r.elements,i.elements,Zn):r instanceof Bd&&i instanceof Bd?Zn(r.Ee,i.Ee):r instanceof Ud&&i instanceof Ud}(t.transform,e.transform)}class U6{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function fC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zy(t.key,qn.none()):new iu(t.key,t.data,qn.none());{const n=t.data,r=dn.empty();let i=new Ze(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new bs(t.key,r,new An(i.toArray()),qn.none())}}function B6(t,e,n){t instanceof iu?function(i,s,o){const a=i.value.clone(),l=MT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(i,s,o){if(!Fc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=MT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(pC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof iu?function(s,o,a,l){if(!Fc(s.precondition,o))return a;const u=s.value.clone(),d=jT(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(s,o,a,l){if(!Fc(s.precondition,o))return a;const u=jT(s.fieldTransforms,l,o),d=o.data;return d.setAll(pC(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Fc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uC(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function LT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(s,o)=>F6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends kh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends kh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function MT(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,j6(o,a,n[i]))}return r}function jT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,M6(s,o,e))}return r}class Zy extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $6 extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&B6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=fC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>LT(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>LT(n,r))}}class ev{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return D6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ev(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,fe;function q6(t){switch(t){case z.OK:return te(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function mC(t){if(t===void 0)return Rr("GRPC error has no .code"),z.UNKNOWN;switch(t){case We.OK:return z.OK;case We.CANCELLED:return z.CANCELLED;case We.UNKNOWN:return z.UNKNOWN;case We.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case We.INTERNAL:return z.INTERNAL;case We.UNAVAILABLE:return z.UNAVAILABLE;case We.UNAUTHENTICATED:return z.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case We.NOT_FOUND:return z.NOT_FOUND;case We.ALREADY_EXISTS:return z.ALREADY_EXISTS;case We.PERMISSION_DENIED:return z.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case We.ABORTED:return z.ABORTED;case We.OUT_OF_RANGE:return z.OUT_OF_RANGE;case We.UNIMPLEMENTED:return z.UNIMPLEMENTED;case We.DATA_LOSS:return z.DATA_LOSS;default:return te(39323,{code:t})}}(fe=We||(We={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new yi([4294967295,4294967295],0);function FT(t){const e=Lb().encode(t),n=new Pb;return n.update(e),new Uint8Array(n.digest())}function UT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yi([n,r],0),new yi([i,s],0)]}class tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ua(`Invalid padding: ${n}`);if(r<0)throw new Ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=yi.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(yi.fromNumber(r)));return i.compare(K6)===1&&(i=new yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=FT(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=FT(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rh(ie.min(),i,new Me(le),Dr(),he())}}class su{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new su(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class gC{constructor(e,n){this.targetId=e,this.De=n}}class yC{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BT{constructor(){this.ve=0,this.Ce=zT(),this.Fe=yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=he(),n=he(),r=he();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new su(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=zT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Y6{constructor(e){this.We=e,this.Ge=new Map,this.ze=Dr(),this.je=uc(),this.Je=uc(),this.He=new Me(le)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(Lm(s))if(r===0){const o=new J(s.path);this.Xe(n,o,Ct.newNoDocument(o,ie.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ci(r).toUint8Array()}catch(l){if(l instanceof Bb)return Si("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tv(o,i,s)}catch(l){return Si(l instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&Lm(a.target)){const l=new J(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ct.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=he();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new Rh(e,n,this.He,this.ze,r);return this.ze=Dr(),this.je=uc(),this.Je=uc(),this.He=new Me(le),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new BT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ze(le),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ze(le),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new BT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function uc(){return new Me(J.comparator)}function zT(){return new Me(J.comparator)}const Q6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),X6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),J6=(()=>({and:"AND",or:"OR"}))();class Z6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eU(t,e){return zd(t,e.toTimestamp())}function Kn(t){return ge(!!t,49232),ie.fromTimestamp(function(n){const r=bi(n);return new ue(r.seconds,r.nanos)}(t))}function nv(t,e){return Fm(t,e).canonicalString()}function Fm(t,e){const n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wC(t){const e=Ie.fromString(t);return ge(SC(e),10190,{key:e.toString()}),e}function Um(t,e){return nv(t.databaseId,e.path)}function ip(t,e){const n=wC(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(TC(n))}function _C(t,e){return nv(t.databaseId,e)}function tU(t){const e=wC(t);return e.length===4?Ie.emptyPath():TC(e)}function Bm(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TC(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $T(t,e,n){return{name:Um(t,e),fields:n.value.mapValue.fields}}function nU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ge(d===void 0||typeof d=="string",58123),yt.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:mC(u.code);return new X(d,u.message||"")}(o);n=new yC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ip(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):ie.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Uc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ip(t,r.document),s=r.readTime?Kn(r.readTime):ie.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ip(t,r.document),s=r.removedTargetIds||[];n=new Uc([],s,i,null)}else{if(!("filter"in e))return te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new G6(i,s),a=r.targetId;n=new gC(a,o)}}return n}function rU(t,e){let n;if(e instanceof iu)n={update:$T(t,e.key,e.value)};else if(e instanceof Zy)n={delete:Um(t,e.key)};else if(e instanceof bs)n={update:$T(t,e.key,e.data),updateMask:hU(e.fieldMask)};else{if(!(e instanceof $6))return te(16599,{Rt:e.type});n={verify:Um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te(27497)}(t,e.precondition)),n}function iU(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(ie.min())&&(o=Kn(s)),new U6(o,i.transformResults||[])}(n,e))):[]}function sU(t,e){return{documents:[_C(t,e.path)]}}function oU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_C(t,i);const s=function(u){if(u.length!==0)return xC(er.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Fs(f.field),direction:uU(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function aU(t){let e=tU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=EC(h);return f instanceof er&&Jb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Fd(Us(y.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Sh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new jd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new jd(m,f)}(n.endAt)),b6(e,i,o,s,a,"F",l,u)}function lU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>EC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function uU(t){return Q6[t]}function cU(t){return X6[t]}function dU(t){return J6[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return ht.fromServerFormat(t.fieldPath)}function xC(t){return t instanceof Xe?function(n){if(n.op==="=="){if(kT(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kT(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:cU(n.op),value:n.value}}}(t):t instanceof er?function(n){const r=n.getFilters().map(i=>xC(i));return r.length===1?r[0]:{compositeFilter:{op:dU(n.op),filters:r}}}(t):te(54877,{filter:t})}function hU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.gt=e}}function pU(t){const e=aU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.Dn=new gU}addToCollectionParentIndex(e,n){return this.Dn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ii.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class gU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IC=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(IC,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new No(0)}static ur(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LruGarbageCollector",yU=1048576;function GT([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class vU{constructor(e){this.Tr=e,this.buffer=new Ze(GT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){q(HT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?q(HT,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.Rr(3e5)})}}class _U{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(xh.ue);const r=new vU(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(WT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ms()<=de.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function TU(t,e){return new _U(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,An.empty(),ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dr();const o=ol(),a=function(){return ol()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof bs)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),al(d.mutation,u,d.mutation.getFieldMask(),ue.now())):o.set(u.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new xU(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new Me((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||An.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=aC();d.forEach(f=>{if(!s.has(f)){const m=fC(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ts());let a=Dl,l=s;return o.next(u=>U.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,he())).next(d=>({batchId:a,changes:oC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Fa();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(h,f){return new bh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=Fa();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&al(d.mutation,u,An.empty(),ue.now()),Ph(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return U.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:pU(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.overlays=new Me(J.comparator),this.kr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ts();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ts(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ts(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ts(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H6(n,r));let s=this.kr.get(n);s===void 0&&(s=he(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.qr=new Ze(st.Qr),this.$r=new Ze(st.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new st(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new st(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new J(new Ie([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new J(new Ie([])),r=new st(n,e),i=new st(n,e+1);let s=he();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new st(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return J.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ze(st.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?qy:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(le);return n.forEach(i=>{const s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),U.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new st(new J(s),0);let a=new Ze(le);return this.Yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),U.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return U.forEach(n.mutations,i=>{const s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new st(n,0),i=this.Yr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.ni=e,this.docs=function(){return new Me(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dr();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||s6(i6(d),r)<=0||(i.has(d.key)||Ph(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te(9500)}ri(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kU(this)}getSize(e){return U.resolve(this.size)}}class kU extends EU{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.persistence=e,this.ii=new Is(n=>Qy(n),Xy),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new rv,this.targetCount=0,this._i=No.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),U.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new No(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.hr(n),U.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.ai={},this.overlays={},this.ui=new xh(0),this.ci=!1,this.ci=!0,this.li=new CU,this.referenceDelegate=e(this),this.hi=new RU(this),this.indexManager=new mU,this.remoteDocumentCache=function(i){return new AU(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new fU(n),this.Ti=new IU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new PU(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new DU(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return U.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class DU extends a6{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Ai=new rv,this.Ri=null}static Vi(e){return new iv(e)}get mi(){if(this.Ri)return this.Ri;throw te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,r=>{const i=J.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return U.or([()=>U.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $d{constructor(e,n){this.persistence=e,this.gi=new Is(r=>c6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=TU(this,n)}static Vi(e,n){return new $d(e,n)}Ii(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return U.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mc(e.data.value)),n}Sr(e,n,r){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return $R()?8:l6(At())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new NU;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ms()<=de.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Ms()<=de.DEBUG&&q("QueryEngine","Query:",js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ms()<=de.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):U.resolve())}ps(e,n){if(OT(n))return U.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mm(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ds(n,u,o,l.readTime)?this.ps(e,Mm(n,null,"F")):this.vs(e,u,n,l)}))})))}ys(e,n,r,i){return OT(n)||i.isEqual(ie.min())?U.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?U.resolve(null):(Ms()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),js(n)),this.vs(e,o,n,r6(i,Dl)).next(a=>a))})}bs(e,n){let r=new Ze(iC(e));return n.forEach((i,s)=>{Ph(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Ms()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",js(n)),this.gs.getDocumentsMatchingQuery(e,n,Ii.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LocalStore",VU=3e8;class LU{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Me(le),this.Ms=new Is(s=>Qy(s),Xy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SU(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function MU(t,e,n,r){return new LU(t,e,n,r)}async function CC(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function jU(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=U.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(T=>{const P=u.docVersions.get(y);ge(P!==null,48541),T.version.compareTo(P)<0&&(h.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PC(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function FU(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(yt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(T,P,g){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=VU?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(s,m))});let l=Dr(),u=he();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(UU(s,o,e.documentUpdates).next(d=>{l=d.Ls,u=d.ks})),!r.isEqual(ie.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(h=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Fs=i,s))}function UU(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(ov,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function BU(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zU(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function zm(t,e,n){const r=se(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ho(o))throw o;q(ov,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function qT(t,e,n){const r=se(t);let i=ie.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=se(l),f=h.Ms.get(d);return f!==void 0?U.resolve(h.Fs.get(f)):h.hi.getTargetData(u,d)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:he())).next(a=>($U(r,A6(e),a),{documents:a,qs:s})))}function $U(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class KT{constructor(){this.activeTargetIds=V6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WU{constructor(){this.Fo=new KT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new KT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="ConnectivityMonitor";class QT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){q(YT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){q(YT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function $m(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",GU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qU{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ld?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=$m(),a=this.Go(e,n.toUriEncodedString());q(sp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:u}=new URL(a),d=jo(u);return this.jo(e,a,l,r,d).then(h=>(q(sp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Si(sp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=GU[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class YU extends qU{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=$m();return new Promise((a,l)=>{const u=new Ab;u.setWithCredentials(!0),u.listenOnce(kb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lc.NO_ERROR:const h=u.getResponseJson();q(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Lc.TIMEOUT:q(xt,`RPC '${e}' ${o} timed out`),l(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const f=u.getStatus();if(q(xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const T=function(g){const _=g.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(y.status);l(new X(T,y.message))}else l(new X(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(z.UNAVAILABLE,"Connection failed."));break;default:te(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{q(xt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);q(xt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=$m(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nb(),a=Db(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");q(xt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const y=new KU({Ho:P=>{m?q(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(f||(q(xt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),q(xt,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},Yo:()=>h.close()}),T=(P,g,_)=>{P.listen(g,x=>{try{_(x)}catch(D){setTimeout(()=>{throw D},0)}})};return T(h,ja.EventType.OPEN,()=>{m||(q(xt,`RPC '${e}' stream ${i} transport opened.`),y.s_())}),T(h,ja.EventType.CLOSE,()=>{m||(m=!0,q(xt,`RPC '${e}' stream ${i} transport closed`),y.__(),this.I_(h))}),T(h,ja.EventType.ERROR,P=>{m||(m=!0,Si(xt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),y.__(new X(z.UNAVAILABLE,"The operation could not be completed")))}),T(h,ja.EventType.MESSAGE,P=>{var g;if(!m){const _=P.data[0];ge(!!_,16349);const x=_,D=(x==null?void 0:x.error)||((g=x[0])===null||g===void 0?void 0:g.error);if(D){q(xt,`RPC '${e}' stream ${i} received error:`,D);const O=D.status;let V=function(S){const C=We[S];if(C!==void 0)return mC(C)}(O),I=D.message;V===void 0&&(V=z.INTERNAL,I="Unknown error status: "+O+" with message "+D.message),m=!0,y.__(new X(V,I)),h.close()}else q(xt,`RPC '${e}' stream ${i} received:`,_),y.a_(_)}}),T(a,Rb.STAT_EVENT,P=>{P.stat===Rm.PROXY?q(xt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Rm.NOPROXY&&q(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new Z6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="PersistentStream";class kC{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new AC(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return q(XT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(q(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QU extends kC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=nU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Kn(o.readTime):ie.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Lm(l)?{documents:sU(s,l)}:{query:oU(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vC(s,o.resumeToken);const u=jm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=zd(s,o.snapshotVersion.toTimestamp());const u=jm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=lU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.k_(n)}}class XU extends kC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=iU(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Bm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rU(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{}class ZU extends JU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Fm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(z.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Fm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class e9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Rr(n),this._a=!1):q("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class t9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Cs(this)&&(q(gs,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ia.add(4),await ou(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Nh(u)}(this))})}),this.Aa=new e9(r,i)}}async function Nh(t){if(Cs(t))for(const e of t.da)await e(!0)}async function ou(t){for(const e of t.da)await e(!1)}function RC(t,e){const n=se(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),cv(n)?uv(n):Go(n).x_()&&lv(n,e))}function av(t,e){const n=se(t),r=Go(n);n.Ta.delete(e),r.x_()&&DC(n,e),n.Ta.size===0&&(r.x_()?r.B_():Cs(n)&&n.Aa.set("Unknown"))}function lv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).H_(e)}function DC(t,e){t.Ra.$e(e),Go(t).Y_(e)}function uv(t){t.Ra=new Y6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.Aa.aa()}function cv(t){return Cs(t)&&!Go(t).M_()&&t.Ta.size>0}function Cs(t){return se(t).Ia.size===0}function NC(t){t.Ra=void 0}async function n9(t){t.Aa.set("Online")}async function r9(t){t.Ta.forEach((e,n)=>{lv(t,e)})}async function i9(t,e){NC(t),cv(t)?(t.Aa.la(e),uv(t)):t.Aa.set("Unknown")}async function s9(t,e,n){if(t.Aa.set("Online"),e instanceof yC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){q(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wd(t,r)}else if(e instanceof Uc?t.Ra.Ye(e):e instanceof gC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{const r=await PC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),DC(s,l);const h=new ri(d.target,l,u,d.sequenceNumber);lv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(gs,"Failed to raise snapshot:",r),await Wd(t,r)}}async function Wd(t,e,n){if(!Ho(e))throw e;t.Ia.add(1),await ou(t),t.Aa.set("Offline"),n||(n=()=>PC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(gs,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Nh(t)})}function OC(t,e){return e().catch(n=>Wd(t,n,e))}async function Oh(t){const e=se(t),n=Ai(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qy;for(;o9(e);)try{const i=await BU(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,a9(e,i)}catch(i){await Wd(e,i)}VC(e)&&LC(e)}function o9(t){return Cs(t)&&t.Pa.length<10}function a9(t,e){t.Pa.push(e);const n=Ai(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function VC(t){return Cs(t)&&!Ai(t).M_()&&t.Pa.length>0}function LC(t){Ai(t).start()}async function l9(t){Ai(t).na()}async function u9(t){const e=Ai(t);for(const n of t.Pa)e.X_(n.mutations)}async function c9(t,e,n){const r=t.Pa.shift(),i=ev.from(r,e,n);await OC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Oh(t)}async function d9(t,e){e&&Ai(t).Z_&&await async function(r,i){if(function(o){return q6(o)&&o!==z.ABORTED}(i.code)){const s=r.Pa.shift();Ai(r).N_(),await OC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Oh(r)}}(t,e),VC(t)&&LC(t)}async function JT(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),q(gs,"RemoteStore received new credentials");const r=Cs(n);n.Ia.add(3),await ou(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Nh(n)}async function h9(t,e){const n=se(t);e?(n.Ia.delete(2),await Nh(n)):e||(n.Ia.add(2),await ou(n),n.Aa.set("Unknown"))}function Go(t){return t.Va||(t.Va=function(n,r,i){const s=se(n);return s.ia(),new QU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:n9.bind(null,t),e_:r9.bind(null,t),n_:i9.bind(null,t),J_:s9.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),cv(t)?uv(t):t.Aa.set("Unknown")):(await t.Va.stop(),NC(t))})),t.Va}function Ai(t){return t.ma||(t.ma=function(n,r,i){const s=se(n);return s.ia(),new XU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:l9.bind(null,t),n_:d9.bind(null,t),ea:u9.bind(null,t),ta:c9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Oh(t)):(await t.ma.stop(),t.Pa.length>0&&(q(gs,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new dv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Ho(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Fa(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.fa=new Me(J.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):te(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Oo(e,n,go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class p9{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=eE(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function eE(){return new Is(t=>rC(t),Ch)}async function m9(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new f9,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=hv(o,`Initialization of query '${js(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&fv(n)}async function g9(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y9(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&fv(n)}function v9(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function fv(t){t.Da.forEach(e=>{e.next()})}var Wm,tE;(tE=Wm||(Wm={})).Fa="default",tE.Cache="cache";class w9{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.key=e}}class jC{constructor(e){this.key=e}}class _9{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=he(),this.mutatedKeys=he(),this.Xa=iC(e),this.eu=new go(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new ZT,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Ph(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;f&&m?f.data.isEqual(m.data)?y!==T&&(r.track({type:3,doc:m}),P=!0):this.iu(f,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Xa(m,l)>0||u&&this.Xa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),P=!0):f&&!m&&(r.track({type:1,doc:f}),P=!0,(l||u)&&(a=!0)),P&&(m?(o=o.add(m),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,y){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{At:P})}};return T(m)-T(y)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,o.length!==0||u?{snapshot:new Oo(this.query,e.eu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ZT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=he(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new jC(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new MC(r))}),n}uu(e){this.Ha=e.qs,this.Za=he();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Oo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const pv="SyncEngine";class T9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class E9{constructor(e){this.key=e,this.lu=!1}}class x9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Is(a=>rC(a),Ch),this.Tu=new Map,this.Iu=new Set,this.du=new Me(J.comparator),this.Eu=new Map,this.Au=new rv,this.Ru={},this.Vu=new Map,this.mu=No.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function S9(t,e,n=!0){const r=WC(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await FC(r,e,n,!0),i}async function I9(t,e){const n=WC(t);await FC(n,e,!0,!1)}async function FC(t,e,n,r){const i=await zU(t.localStore,Gn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await b9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&RC(t.remoteStore,i),a}async function b9(t,e,n,r,i){t.gu=(h,f,m)=>async function(T,P,g,_){let x=P.view.nu(g);x.Ds&&(x=await qT(T.localStore,P.query,!1).then(({documents:I})=>P.view.nu(I,x)));const D=_&&_.targetChanges.get(P.targetId),O=_&&_.targetMismatches.get(P.targetId)!=null,V=P.view.applyChanges(x,T.isPrimaryClient,D,O);return rE(T,P.targetId,V._u),V.snapshot}(t,h,f,m);const s=await qT(t.localStore,e,!0),o=new _9(e,s.qs),a=o.nu(s.documents),l=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);rE(t,n,u._u);const d=new T9(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function C9(t,e,n){const r=se(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Ch(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&av(r.remoteStore,i.targetId),Hm(r,i.targetId)}).catch(Wo)):(Hm(r,i.targetId),await zm(r.localStore,i.targetId,!0))}async function P9(t,e){const n=se(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),av(n.remoteStore,r.targetId))}async function A9(t,e,n){const r=L9(t);try{const i=await function(o,a){const l=se(o),u=ue.now(),d=a.reduce((m,y)=>m.add(y.key),he());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Dr(),T=he();return l.Os.getEntries(m,d).next(P=>{y=P,y.forEach((g,_)=>{_.isValidDocument()||(T=T.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(P=>{h=P;const g=[];for(const _ of a){const x=z6(_,h.get(_.key).overlayedDocument);x!=null&&g.push(new bs(_.key,x,Yb(x.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(P=>{f=P;const g=P.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(m,P.batchId,g)})}).then(()=>({batchId:f.batchId,changes:oC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ru[o.currentUser.toKey()];u||(u=new Me(le)),u=u.insert(a,l),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await au(r,i.changes),await Oh(r.remoteStore)}catch(i){const s=hv(i,"Failed to persist write");n.reject(s)}}async function UC(t,e){const n=se(t);try{const r=await FU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?ge(o.lu,14607):i.removedDocuments.size>0&&(ge(o.lu,42227),o.lu=!1))}),await au(n,r,e)}catch(r){await Wo(r)}}function nE(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(u=!0)}),u&&fv(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k9(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Me(J.comparator);o=o.insert(s,Ct.newNoDocument(s,ie.min()));const a=he().add(s),l=new Rh(ie.min(),new Map,new Me(le),o,a);await UC(r,l),r.du=r.du.remove(s),r.Eu.delete(e),mv(r)}else await zm(r.localStore,e,!1).then(()=>Hm(r,e,n)).catch(Wo)}async function R9(t,e){const n=se(t),r=e.batch.batchId;try{const i=await jU(n.localStore,e);zC(n,r,null),BC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,i)}catch(i){await Wo(i)}}async function D9(t,e,n){const r=se(t);try{const i=await function(o,a){const l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ge(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);zC(r,e,n),BC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await au(r,i)}catch(i){await Wo(i)}}function BC(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function zC(t,e,n){const r=se(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||$C(t,r)})}function $C(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(av(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),mv(t))}function rE(t,e,n){for(const r of n)r instanceof MC?(t.Au.addReference(r.key,e),N9(t,r)):r instanceof jC?(q(pv,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||$C(t,r.key)):te(19791,{yu:r})}function N9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(q(pv,"New document in limbo: "+n),t.Iu.add(r),mv(t))}function mv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new J(Ie.fromString(e)),r=t.mu.next();t.Eu.set(r,new E9(n)),t.du=t.du.insert(n,r),RC(t.remoteStore,new ri(Gn(nC(n.path)),r,"TargetPurposeLimboResolution",xh.ue))}}async function au(t,e,n){const r=se(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=sv.Es(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,u){const d=se(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,f=>U.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>U.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Ho(h))throw h;q(ov,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),y=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(y);d.Fs=d.Fs.insert(f,T)}}}(r.localStore,s))}async function O9(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){q(pv,"User change. New user:",e.toKey());const r=await CC(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new X(z.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(n,r.Bs)}}function V9(t,e){const n=se(t),r=n.Eu.get(e);if(r&&r.lu)return he().add(r.key);{let i=he();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function WC(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k9.bind(null,e),e.hu.J_=y9.bind(null,e.eventManager),e.hu.pu=v9.bind(null,e.eventManager),e}function L9(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D9.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return MU(this.persistence,new OU,e.initialUser,this.serializer)}Du(e){return new bC(iv.Vi,this.serializer)}bu(e){return new WU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class M9 extends Hd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ge(this.persistence.referenceDelegate instanceof $d,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wU(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new bC(r=>$d.Vi(r,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O9.bind(null,this.syncEngine),await h9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p9}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(s){return new YU(s)}(e.databaseInfo);return function(s,o,a,l){return new ZU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new t9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return QT.C()?new QT:new HU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new x9(i,s,o,a,l,u);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);q(gs,"RemoteStore shutting down."),s.Ia.add(5),await ou(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="FirestoreClient";class F9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=Hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(ki,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(ki,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ap(t,e){t.asyncQueue.verifyOperationInProgress(),q(ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Si("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{q("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Si("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function iE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U9(t);q(ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JT(e.remoteStore,i)),t._onlineComponents=e}async function U9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(ki,"Using user provided OfflineComponentProvider");try{await ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Si("Error using user provided cache. Falling back to memory cache: "+n),await ap(t,new Hd)}}else q(ki,"Using default OfflineComponentProvider"),await ap(t,new M9(void 0));return t._offlineComponents}async function HC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(ki,"Using user provided OnlineComponentProvider"),await iE(t,t._uninitializedComponentsProvider._online)):(q(ki,"Using default OnlineComponentProvider"),await iE(t,new Gm))),t._onlineComponents}function B9(t){return HC(t).then(e=>e.syncEngine)}async function z9(t){const e=await HC(t),n=e.eventManager;return n.onListen=S9.bind(null,e.syncEngine),n.onUnlisten=C9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P9.bind(null,e.syncEngine),n}function $9(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new j9({next:f=>{d.Ou(),o.enqueueAndForget(()=>g9(s,h)),f.fromCache&&l.source==="server"?u.reject(new X(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new w9(a,d,{includeMetadataChanges:!0,ka:!0});return m9(s,h)}(await z9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firestore.googleapis.com",oE=!0;class aE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qC,this.ssl=oE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yU)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q3;switch(r.type){case"firstParty":return new X3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sE.get(n);r&&(q("ComponentProvider","Removing Datastore"),sE.delete(n),r.terminate())}(this),Promise.resolve()}}function W9(t,e,n,r={}){var i;t=Rl(t,Vh);const s=jo(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(WS(`https://${l}`),HS("Firestore",!0)),o.host!==qC&&o.host!==l&&Si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!ds(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=It.MOCK_USER;else{d=OR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new It(f)}t._authCredentials=new K3(new Vb(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ru(n,pt._jsonSchema))return new pt(e,r||null,new J(Ie.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:qe("string",pt._jsonSchemaVersion),referencePath:qe("string")};class wi extends Lh{constructor(e,n,r){super(e,n,nC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new J(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function mn(t,e,...n){if(t=vn(t),Mb("collection","path",e),t instanceof Vh){const r=Ie.fromString(e,...n);return TT(r),new wi(t,null,r)}{if(!(t instanceof pt||t instanceof wi))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return TT(r),new wi(t.firestore,null,r)}}function gv(t,e,...n){if(t=vn(t),arguments.length===1&&(e=Hy.newId()),Mb("doc","path",e),t instanceof Vh){const r=Ie.fromString(e,...n);return _T(r),new pt(t,null,new J(r))}{if(!(t instanceof pt||t instanceof wi))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return _T(r),new pt(t.firestore,t instanceof wi?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new AC(this,"async_queue_retry"),this.oc=()=>{const r=op();r&&q(lE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new vi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ho(e))throw e;q(lE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Rr("INTERNAL UNHANDLED ERROR: ",cE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=dv.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&te(47125,{hc:cE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function cE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Mh extends Vh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function qo(t,e){const n=typeof t=="object"?t:YS(),r=typeof t=="string"?t:e||Ld,i=ry(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DR("firestore");s&&W9(i,...s)}return i}function KC(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H9(t),t._firestoreClient}function H9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new f6(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new F9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hn(yt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hn(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,hn._jsonSchema))return hn.fromBase64String(e.bytes)}}hn._jsonSchemaVersion="firestore/bytes/1.0",hn._jsonSchema={type:qe("string",hn._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yn._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Yn._jsonSchema))return new Yn(e.latitude,e.longitude)}}Yn._jsonSchemaVersion="firestore/geoPoint/1.0",Yn._jsonSchema={type:qe("string",Yn._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qn(e.vectorValues);throw new X(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:qe("string",Qn._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=/^__.*__$/;class q9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}function QC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ec:t})}}class vv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Gd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(QC(this.Ec)&&G9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class K9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Dc(e,n,r,i=!1){return new vv({Ec:e,methodName:n,bc:r,path:ht.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y9(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new K9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Q9(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);eP("Data must be an object, but it was:",o,r);const a=JC(r,o);let l,u;if(s.merge)l=new An(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=X9(e,h,n);if(!o.contains(f))throw new X(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Z9(d,f)||d.push(f)}l=new An(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new q9(new dn(a),l,u)}function XC(t,e){if(ZC(t=vn(t)))return eP("Unsupported field value:",e,t),JC(t,e);if(t instanceof YC)return function(r,i){if(!QC(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=XC(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ue.fromDate(r);return{timestampValue:zd(i.serializer,s)}}if(r instanceof ue){const s=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zd(i.serializer,s)}}if(r instanceof Yn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hn)return{bytesValue:vC(i.serializer,r._byteString)};if(r instanceof pt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qn)return function(o,a){return{mapValue:{fields:{[Gb]:{stringValue:Kb},[Md]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Jy(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Gy(r)}`)}(t,e)}function JC(t,e){const n={};return Ub(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(t,(r,i)=>{const s=XC(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ue||t instanceof Yn||t instanceof hn||t instanceof pt||t instanceof YC||t instanceof Qn)}function eP(t,e,n){if(!ZC(n)||!jb(n)){const r=Gy(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function X9(t,e,n){if((e=vn(e))instanceof yv)return e._internalPath;if(typeof e=="string")return tP(t,e);throw Gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const J9=new RegExp("[~\\*/\\[\\]]");function tP(t,e,n){if(e.search(J9)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yv(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(z.INVALID_ARGUMENT,a+t+l)}function Z9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eB extends nP{data(){return super.data()}}function rP(t,e){return typeof e=="string"?tP(t,e):e instanceof yv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nB{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ss(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Md].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Be(o.doubleValue));return new Qn(s)}convertGeoPoint(e){return new Yn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const n=bi(e);return new ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);ge(SC(r),9688,{name:e});const i=new Ol(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yo extends nP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:qe("string",yo._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Bc extends yo{data(e={}){return super.data(e)}}class vo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bc(this._firestore,this._userDataWriter,r.key,r,new dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Bc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Bc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:iB(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:qe("string",vo._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class sB extends nB{constructor(e){super(),this.firestore=e}convertBytes(e){return new hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function jh(t){t=Rl(t,Lh);const e=Rl(t.firestore,Mh),n=KC(e),r=new sB(e);return tB(t._query),$9(n,t._query).then(i=>new vo(e,r,t,i))}function iP(t){return sP(Rl(t.firestore,Mh),[new Zy(t._key,qn.none())])}function Ri(t,e){const n=Rl(t.firestore,Mh),r=gv(t),i=rB(t.converter,e);return sP(n,[Q9(Y9(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function sP(t,e){return function(r,i){const s=new vi;return r.asyncQueue.enqueueAndForget(async()=>A9(await B9(r),i,s)),s.promise}(KC(t),e)}(function(e,n=!0){(function(i){$o=i})(Fo),bo(new hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Mh(new Y3(r.getProvider("auth-internal")),new J3(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pi(mT,gT,e),pi(mT,gT,"esm2017")})();const oB=()=>{const{user:t}=k.useContext(Qo),[e,n]=k.useState((t==null?void 0:t.displayName)||""),[r,i]=k.useState((t==null?void 0:t.email)||""),[s,o]=k.useState(localStorage.getItem("phone")||""),[a,l]=k.useState(""),[u,d]=k.useState(!1),[h,f]=k.useState(!1),[m,y]=k.useState(""),T=qo(wn);k.useEffect(()=>{t&&(n(t.displayName||""),i(t.email||""))},[t]),k.useEffect(()=>{localStorage.setItem("phone",s)},[s]);const P=async g=>{if(g.preventDefault(),y(""),!e.trim()||!r.trim()||!s.trim()||!a.trim()){y("모든 항목을 입력해주세요.");return}d(!0);try{await Ri(mn(T,"contacts"),{name:e,email:r,phone:s,message:a,userId:(t==null?void 0:t.uid)||null,createdAt:ue.now()}),f(!0),n((t==null?void 0:t.displayName)||""),i((t==null?void 0:t.email)||""),o(localStorage.getItem("phone")||""),l("")}catch{y("문의 저장 중 오류가 발생했습니다.")}finally{d(!1)}};return w.jsx("section",{id:"contact",className:"py-20 bg-dark-800",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[w.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:w.jsx("span",{className:"gradient-text",children:"상담문의"})}),w.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"궁금한 점이 있으시면 편히 연락주세요."})]}),w.jsx("div",{className:"flex justify-center",children:w.jsxs(cn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"card max-w-2xl w-full",children:[w.jsx("h3",{className:"text-2xl font-bold mb-6",children:"문의하기"}),h?w.jsx("div",{className:"text-green-400 text-center text-xl py-12",children:"문의가 성공적으로 접수되었습니다!"}):w.jsxs("form",{className:"space-y-6",onSubmit:P,children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"이름"}),w.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"이름을 입력하세요",value:e,onChange:g=>n(g.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"전화번호"}),w.jsx("input",{type:"tel",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"전화번호를 입력하세요",value:s,onChange:g=>o(g.target.value),required:!0})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"이메일"}),w.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white",placeholder:"이메일을 입력하세요",value:r,onChange:g=>i(g.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"문의 내용"}),w.jsx("textarea",{rows:4,className:"w-full px-4 py-3 bg-dark-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-white resize-none",placeholder:"문의하실 내용을 자유롭게 작성해주세요",value:a,onChange:g=>l(g.target.value),required:!0})]}),m&&w.jsx("div",{className:"text-red-400 text-center",children:m}),w.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:u,children:u?"전송 중...":"문의하기"})]})]})})]})})},aB=()=>{const t=new Date().getFullYear();return w.jsx("footer",{className:"bg-dark-900 border-t border-gray-800",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:w.jsx("div",{className:"col-span-1 md:col-span-2"})}),w.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[w.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",t," Joy English. All rights reserved."]}),w.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"개인정보처리방침"}),w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"이용약관"}),w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"사이트맵"})]})]})]})})},lB=["joyjisunlee0123@gmail.com"],uB=()=>{const[t,e]=k.useState(!1),[n,r]=k.useState(""),i=_n(),s=async()=>{e(!0),r("");const o=ws(wn),a=new fr;try{const u=(await p2(o,a)).user;u.email&&lB.includes(u.email)?(console.log("관리자 로그인 성공:",u.email),i("/admin")):(await o.signOut(),r("관리자만 로그인이 가능합니다."),console.log("관리자가 아닌 사용자 로그인 시도:",u.email))}catch(l){console.error("로그인 오류:",l),r("로그인 중 오류가 발생했습니다: "+l.message)}finally{e(!1)}};return w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-md",children:[w.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"관리자 로그인"}),w.jsx("p",{className:"text-gray-400 text-center mb-6",children:"관리자 계정으로만 로그인이 가능합니다."}),n&&w.jsx("div",{className:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded mb-4",children:n}),w.jsxs("button",{className:"btn-primary w-full mb-4 flex items-center justify-center gap-2",onClick:s,disabled:t,children:[w.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-6 h-6"}),t?"로그인 중...":"Google로 관리자 로그인"]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsx("button",{className:"text-gray-400 hover:text-white underline",onClick:()=>i("/"),children:"메인 페이지로 돌아가기"})})]})})};function oP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=oP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fh(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=oP(t))&&(r&&(r+=" "),r+=e);return r}const cB=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!dB(i,s)&&r||Object.defineProperty(t,n,s)},dB=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},hB=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},fB=(t,e)=>`/* Wrapped ${t}*/
${e}`,pB=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),mB=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),gB=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=fB.bind(null,r,e.toString());Object.defineProperty(i,"name",mB);const{writable:s,enumerable:o,configurable:a}=pB;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:o,configurable:a})};function yB(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))cB(t,e,i,n);return hB(t,e),gB(t,e,r),t}const vB=new WeakMap,dE=new WeakMap;function aP(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"){if(r>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){var d;const o=e?e(s):s[0],a=n.get(o);if(a)return a.data;const l=t.apply(this,s),u=typeof r=="function"?r(...s):r;if(n.set(o,{data:l,maxAge:u?Date.now()+u:Number.POSITIVE_INFINITY}),u&&u>0&&u!==Number.POSITIVE_INFINITY){const h=setTimeout(()=>{n.delete(o)},u);(d=h.unref)==null||d.call(h);const f=dE.get(t)??new Set;f.add(h),dE.set(t,f)}return l};return yB(i,t,{ignoreNonConfigurable:!0}),vB.set(i,n),i}function wB(t){return typeof t=="string"}function _B(t,e,n){return n.indexOf(t)===e}function TB(t){return t.toLowerCase()===t}function hE(t){return t.indexOf(",")===-1?t:t.split(",")}function qm(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return qm(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return qm(n)}if(t.indexOf("-")===-1||!TB(t))return t;var i=t.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function EB(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],u=0,d=a;u<d.length;u++){var h=d[u];l=l.concat(hE(h))}var f=navigator.language,m=f&&hE(f);o=o.concat(l,m)}return r&&o.push(s),o.filter(wB).map(qm).filter(_B)}var xB=aP(EB,{cacheKey:JSON.stringify});function SB(t){return xB(t)[0]||null}var lP=aP(SB,{cacheKey:JSON.stringify});function Mr(t,e,n){return function(i,s=n){const o=t(i)+s;return e(o)}}function lu(t){return function(n){return new Date(t(n).getTime()-1)}}function uu(t,e){return function(r){return[t(r),e(r)]}}function ke(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Li(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Uh(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Ko(t){const e=ke(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const IB=Mr(ke,Ko,-100),uP=Mr(ke,Ko,100),wv=lu(uP),bB=Mr(ke,wv,-100),cP=uu(Ko,wv);function Mi(t){const e=ke(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const dP=Mr(ke,Mi,-10),_v=Mr(ke,Mi,10),Bh=lu(_v),hP=Mr(ke,Bh,-10),fP=uu(Mi,Bh);function Yo(t){const e=ke(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const pP=Mr(ke,Yo,-1),Tv=Mr(ke,Yo,1),zh=lu(Tv),mP=Mr(ke,zh,-1),CB=uu(Yo,zh);function Ev(t,e){return function(r,i=e){const s=ke(r),o=Li(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),t(a)}}function Ps(t){const e=ke(t),n=Li(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const gP=Ev(Ps,-1),xv=Ev(Ps,1),cu=lu(xv),yP=Ev(cu,-1),PB=uu(Ps,cu);function AB(t,e){return function(r,i=e){const s=ke(r),o=Li(r),a=Uh(r)+i,l=new Date;return l.setFullYear(s,o,a),l.setHours(0,0,0,0),t(l)}}function du(t){const e=ke(t),n=Li(t),r=Uh(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const kB=AB(du,1),Sv=lu(kB),RB=uu(du,Sv);function vP(t){return Uh(cu(t))}var ft={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},DB={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Iv=[0,1,2,3,4,5,6],lp=new Map;function NB(t){return function(n,r){var i=n||lP();lp.has(i)||lp.set(i,new Map);var s=lp.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function OB(t){var e=new Date(t);return new Date(e.setHours(12))}function As(t){return function(e,n){return NB(t)(e,OB(n))}}var VB={day:"numeric"},LB={day:"numeric",month:"long",year:"numeric"},MB={month:"long"},jB={month:"long",year:"numeric"},FB={weekday:"short"},UB={weekday:"long"},BB={year:"numeric"},zB=As(VB),$B=As(LB),WB=As(MB),wP=As(jB),HB=As(FB),GB=As(UB),$h=As(BB),qB=Iv[0],KB=Iv[5],fE=Iv[6];function jl(t,e){e===void 0&&(e=ft.ISO_8601);var n=t.getDay();switch(e){case ft.ISO_8601:return(n+6)%7;case ft.ISLAMIC:return(n+1)%7;case ft.HEBREW:case ft.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function YB(t){var e=Ko(t);return ke(e)}function QB(t){var e=Mi(t);return ke(e)}function Km(t,e){e===void 0&&(e=ft.ISO_8601);var n=ke(t),r=Li(t),i=t.getDate()-jl(t,e);return new Date(n,r,i)}function XB(t,e){e===void 0&&(e=ft.ISO_8601);var n=e===ft.GREGORY?ft.GREGORY:ft.ISO_8601,r=Km(t,e),i=ke(t)+1,s,o;do s=new Date(i,0,n===ft.ISO_8601?4:1),o=Km(s,e),i-=1;while(t<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function ss(t,e){switch(t){case"century":return Ko(e);case"decade":return Mi(e);case"year":return Yo(e);case"month":return Ps(e);case"day":return du(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function JB(t,e){switch(t){case"century":return IB(e);case"decade":return dP(e);case"year":return pP(e);case"month":return gP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function _P(t,e){switch(t){case"century":return uP(e);case"decade":return _v(e);case"year":return Tv(e);case"month":return xv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ZB(t,e){switch(t){case"decade":return dP(e,-100);case"year":return pP(e,-10);case"month":return gP(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function e5(t,e){switch(t){case"decade":return _v(e,100);case"year":return Tv(e,10);case"month":return xv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function TP(t,e){switch(t){case"century":return wv(e);case"decade":return Bh(e);case"year":return zh(e);case"month":return cu(e);case"day":return Sv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function t5(t,e){switch(t){case"century":return bB(e);case"decade":return hP(e);case"year":return mP(e);case"month":return yP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function n5(t,e){switch(t){case"decade":return hP(e,-100);case"year":return mP(e,-10);case"month":return yP(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function pE(t,e){switch(t){case"century":return cP(e);case"decade":return fP(e);case"year":return CB(e);case"month":return PB(e);case"day":return RB(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function r5(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[ss(t,r[0]),TP(t,r[1])]}function EP(t,e,n){return n.map(function(r){return(e||$h)(t,r)}).join(" – ")}function i5(t,e,n){return EP(t,e,cP(n))}function xP(t,e,n){return EP(t,e,fP(n))}function s5(t){return t.getDay()===new Date().getDay()}function SP(t,e){e===void 0&&(e=ft.ISO_8601);var n=t.getDay();switch(e){case ft.ISLAMIC:case ft.HEBREW:return n===KB||n===fE;case ft.ISO_8601:case ft.GREGORY:return n===fE||n===qB;default:throw new Error("Unsupported calendar type.")}}var Mn="react-calendar__navigation";function o5(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?wP:r,s=t.formatYear,o=s===void 0?$h:s,a=t.locale,l=t.maxDate,u=t.minDate,d=t.navigationAriaLabel,h=d===void 0?"":d,f=t.navigationAriaLive,m=t.navigationLabel,y=t.next2AriaLabel,T=y===void 0?"":y,P=t.next2Label,g=P===void 0?"»":P,_=t.nextAriaLabel,x=_===void 0?"":_,D=t.nextLabel,O=D===void 0?"›":D,V=t.prev2AriaLabel,I=V===void 0?"":V,E=t.prev2Label,S=E===void 0?"«":E,C=t.prevAriaLabel,A=C===void 0?"":C,N=t.prevLabel,R=N===void 0?"‹":N,Q=t.setActiveStartDate,Z=t.showDoubleView,L=t.view,W=t.views,F=W.indexOf(L)>0,B=L!=="century",H=JB(L,e),K=B?ZB(L,e):void 0,ne=_P(L,e),oe=B?e5(L,e):void 0,Ke=function(){if(H.getFullYear()<0)return!0;var Re=t5(L,e);return u&&u>=Re}(),et=B&&function(){if(K.getFullYear()<0)return!0;var Re=n5(L,e);return u&&u>=Re}(),$e=l&&l<ne,Ye=B&&l&&l<oe;function nr(){Q(H,"prev")}function jt(){Q(K,"prev2")}function Kt(){Q(ne,"next")}function vt(){Q(oe,"next2")}function rr(Re){var ir=function(){switch(L){case"century":return i5(a,o,Re);case"decade":return xP(a,o,Re);case"year":return o(a,Re);case"month":return i(a,Re);default:throw new Error("Invalid view: ".concat(L,"."))}}();return m?m({date:Re,label:ir,locale:a||lP()||void 0,view:L}):ir}function ji(){var Re="".concat(Mn,"__label");return w.jsxs("button",{"aria-label":h,"aria-live":f,className:Re,disabled:!F,onClick:n,style:{flexGrow:1},type:"button",children:[w.jsx("span",{className:"".concat(Re,"__labelText ").concat(Re,"__labelText--from"),children:rr(e)}),Z?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"".concat(Re,"__divider"),children:" – "}),w.jsx("span",{className:"".concat(Re,"__labelText ").concat(Re,"__labelText--to"),children:rr(ne)})]}):null]})}return w.jsxs("div",{className:Mn,children:[S!==null&&B?w.jsx("button",{"aria-label":I,className:"".concat(Mn,"__arrow ").concat(Mn,"__prev2-button"),disabled:et,onClick:jt,type:"button",children:S}):null,R!==null&&w.jsx("button",{"aria-label":A,className:"".concat(Mn,"__arrow ").concat(Mn,"__prev-button"),disabled:Ke,onClick:nr,type:"button",children:R}),ji(),O!==null&&w.jsx("button",{"aria-label":x,className:"".concat(Mn,"__arrow ").concat(Mn,"__next-button"),disabled:$e,onClick:Kt,type:"button",children:O}),g!==null&&B?w.jsx("button",{"aria-label":T,className:"".concat(Mn,"__arrow ").concat(Mn,"__next2-button"),disabled:Ye,onClick:vt,type:"button",children:g}):null]})}var ro=globalThis&&globalThis.__assign||function(){return ro=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ro.apply(this,arguments)},a5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mE(t){return"".concat(t,"%")}function bv(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,o=t.style,a=t.wrap,l=a5(t,["children","className","count","direction","offset","style","wrap"]);return w.jsx("div",ro({className:n,style:ro({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},l,{children:k.Children.map(e,function(u,d){var h=s&&d===0?mE(100*s/r):null;return k.cloneElement(u,ro(ro({},u.props),{style:{flexBasis:mE(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function l5(t,e,n){return e&&e>t?e:n&&n<t?n:t}function Fl(t,e){return e[0]<=t&&e[1]>=t}function u5(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function IP(t,e){return Fl(t[0],e)||Fl(t[1],e)}function gE(t,e,n){var r=IP(e,t),i=[];if(r){i.push(n);var s=Fl(t[0],e),o=Fl(t[1],e);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function c5(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function d5(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var m=t.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return pE(m,n)}();if(Fl(o,a)&&s.push("".concat(i,"--now")),!e||!c5(e))return s;var l=function(){if(Array.isArray(e))return e;var m=t.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return pE(m,e)}();u5(l,a)?s.push("".concat(i,"--active")):IP(l,a)&&s.push("".concat(i,"--hasActive"));var u=gE(l,a,"".concat(i,"--range"));s.push.apply(s,u);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var h=r>l[0]?[l[0],r]:[r,l[0]],f=gE(h,a,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function Wh(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,o=t.end,a=t.hover,l=t.offset,u=t.renderTile,d=t.start,h=t.step,f=h===void 0?1:h,m=t.value,y=t.valueType,T=[],P=d;P<=o;P+=f){var g=i(P);T.push(u({classes:d5({date:g,dateType:s,hover:a,value:m,valueType:y}),date:g}))}return w.jsx(bv,{className:e,count:r,offset:l,wrap:!0,children:T})}function Hh(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,o=t.locale,a=t.maxDate,l=t.maxDateTransform,u=t.minDate,d=t.minDateTransform,h=t.onClick,f=t.onMouseOver,m=t.style,y=t.tileClassName,T=t.tileContent,P=t.tileDisabled,g=t.view,_=k.useMemo(function(){var D={activeStartDate:e,date:i,view:g};return typeof y=="function"?y(D):y},[e,i,y,g]),x=k.useMemo(function(){var D={activeStartDate:e,date:i,view:g};return typeof T=="function"?T(D):T},[e,i,T,g]);return w.jsxs("button",{className:Fh(r,_),disabled:u&&d(u)>i||a&&l(a)<i||(P==null?void 0:P({activeStartDate:e,date:i,view:g})),onClick:h?function(D){return h(i,D)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:m,type:"button",children:[s?w.jsx("abbr",{"aria-label":s(o,i),children:n}):n,x]})}var Ym=globalThis&&globalThis.__assign||function(){return Ym=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ym.apply(this,arguments)},h5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},up="react-calendar__century-view__decades__decade";function f5(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?$h:i,o=h5(t,["classes","currentCentury","formatYear"]),a=o.date,l=o.locale,u=[];return n&&u.push.apply(u,n),up&&u.push(up),Ko(a).getFullYear()!==r&&u.push("".concat(up,"--neighboringCentury")),w.jsx(Hh,Ym({},o,{classes:u,maxDateTransform:Bh,minDateTransform:Mi,view:"century",children:xP(l,s,a)}))}var Qm=globalThis&&globalThis.__assign||function(){return Qm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qm.apply(this,arguments)},yE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function p5(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,o=yE(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=YB(e),l=a+(r?119:99);return w.jsx(Wh,{className:"react-calendar__century-view__decades",dateTransform:Mi,dateType:"decade",end:l,hover:n,renderTile:function(u){var d=u.date,h=yE(u,["date"]);return w.jsx(f5,Qm({},o,h,{activeStartDate:e,currentCentury:a,date:d}),d.getTime())},start:a,step:10,value:i,valueType:s})}var Xm=globalThis&&globalThis.__assign||function(){return Xm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xm.apply(this,arguments)};function m5(t){function e(){return w.jsx(p5,Xm({},t))}return w.jsx("div",{className:"react-calendar__century-view",children:e()})}var Jm=globalThis&&globalThis.__assign||function(){return Jm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jm.apply(this,arguments)},g5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},cp="react-calendar__decade-view__years__year";function y5(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?$h:i,o=g5(t,["classes","currentDecade","formatYear"]),a=o.date,l=o.locale,u=[];return n&&u.push.apply(u,n),cp&&u.push(cp),Mi(a).getFullYear()!==r&&u.push("".concat(cp,"--neighboringDecade")),w.jsx(Hh,Jm({},o,{classes:u,maxDateTransform:zh,minDateTransform:Yo,view:"decade",children:s(l,a)}))}var Zm=globalThis&&globalThis.__assign||function(){return Zm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zm.apply(this,arguments)},vE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function v5(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,o=vE(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=QB(e),l=a+(r?11:9);return w.jsx(Wh,{className:"react-calendar__decade-view__years",dateTransform:Yo,dateType:"year",end:l,hover:n,renderTile:function(u){var d=u.date,h=vE(u,["date"]);return w.jsx(y5,Zm({},o,h,{activeStartDate:e,currentDecade:a,date:d}),d.getTime())},start:a,value:i,valueType:s})}var eg=globalThis&&globalThis.__assign||function(){return eg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eg.apply(this,arguments)};function w5(t){function e(){return w.jsx(v5,eg({},t))}return w.jsx("div",{className:"react-calendar__decade-view",children:e()})}var tg=globalThis&&globalThis.__assign||function(){return tg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tg.apply(this,arguments)},_5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},wE=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},T5="react-calendar__year-view__months__month";function E5(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?WB:r,s=t.formatMonthYear,o=s===void 0?wP:s,a=_5(t,["classes","formatMonth","formatMonthYear"]),l=a.date,u=a.locale;return w.jsx(Hh,tg({},a,{classes:wE(wE([],n,!0),[T5],!1),formatAbbr:o,maxDateTransform:cu,minDateTransform:Ps,view:"year",children:i(u,l)}))}var ng=globalThis&&globalThis.__assign||function(){return ng=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ng.apply(this,arguments)},_E=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function x5(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=_E(t,["activeStartDate","hover","value","valueType"]),o=0,a=11,l=ke(e);return w.jsx(Wh,{className:"react-calendar__year-view__months",dateTransform:function(u){var d=new Date;return d.setFullYear(l,u,1),Ps(d)},dateType:"month",end:a,hover:n,renderTile:function(u){var d=u.date,h=_E(u,["date"]);return w.jsx(E5,ng({},s,h,{activeStartDate:e,date:d}),d.getTime())},start:o,value:r,valueType:i})}var rg=globalThis&&globalThis.__assign||function(){return rg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rg.apply(this,arguments)};function S5(t){function e(){return w.jsx(x5,rg({},t))}return w.jsx("div",{className:"react-calendar__year-view",children:e()})}var ig=globalThis&&globalThis.__assign||function(){return ig=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ig.apply(this,arguments)},I5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},hc="react-calendar__month-view__days__day";function b5(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,o=s===void 0?zB:s,a=t.formatLongDate,l=a===void 0?$B:a,u=I5(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=u.date,h=u.locale,f=[];return r&&f.push.apply(f,r),hc&&f.push(hc),SP(d,e)&&f.push("".concat(hc,"--weekend")),d.getMonth()!==i&&f.push("".concat(hc,"--neighboringMonth")),w.jsx(Hh,ig({},u,{classes:f,formatAbbr:l,maxDateTransform:Sv,minDateTransform:du,view:"month",children:o(h,d)}))}var sg=globalThis&&globalThis.__assign||function(){return sg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sg.apply(this,arguments)},TE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function C5(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,o=t.value,a=t.valueType,l=TE(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=ke(e),d=Li(e),h=i||s,f=jl(e,n),m=h?0:f,y=(h?-f:0)+1,T=function(){if(i)return y+6*7-1;var P=vP(e);if(s){var g=new Date;g.setFullYear(u,d,P),g.setHours(0,0,0,0);var _=7-jl(g,n)-1;return P+_}return P}();return w.jsx(Wh,{className:"react-calendar__month-view__days",count:7,dateTransform:function(P){var g=new Date;return g.setFullYear(u,d,P),du(g)},dateType:"day",hover:r,end:T,renderTile:function(P){var g=P.date,_=TE(P,["date"]);return w.jsx(b5,sg({},l,_,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:g}),g.getTime())},offset:m,start:y,value:o,valueType:a})}var bP="react-calendar__month-view__weekdays",dp="".concat(bP,"__weekday");function P5(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?HB:n,i=t.formatWeekday,s=i===void 0?GB:i,o=t.locale,a=t.onMouseLeave,l=new Date,u=Ps(l),d=ke(u),h=Li(u),f=[],m=1;m<=7;m+=1){var y=new Date(d,h,m-jl(u,e)),T=s(o,y);f.push(w.jsx("div",{className:Fh(dp,s5(y)&&"".concat(dp,"--current"),SP(y,e)&&"".concat(dp,"--weekend")),children:w.jsx("abbr",{"aria-label":T,title:T,children:r(o,y).replace(".","")})},m))}return w.jsx(bv,{className:bP,count:7,onFocus:a,onMouseOver:a,children:f})}var qd=globalThis&&globalThis.__assign||function(){return qd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qd.apply(this,arguments)},EE=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},xE="react-calendar__tile";function A5(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=w.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,o=t.weekNumber,a=EE(t,["date","onClickWeekNumber","weekNumber"]);return w.jsx("button",qd({},a,{className:xE,onClick:function(l){return s(o,i,l)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var a=EE(t,["date","onClickWeekNumber","weekNumber"]);return w.jsx("div",qd({},a,{className:xE,children:r}))}}function k5(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=function(){if(s)return 6;var u=vP(e),d=jl(e,n),h=u-(7-d);return 1+Math.ceil(h/7)}(),a=function(){for(var u=ke(e),d=Li(e),h=Uh(e),f=[],m=0;m<o;m+=1)f.push(Km(new Date(u,d,h+m*7),n));return f}(),l=a.map(function(u){return XB(u,n)});return w.jsx(bv,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,d){var h=a[d];if(!h)throw new Error("date is not defined");return w.jsx(A5,{date:h,onClickWeekNumber:r,weekNumber:u},u)})})}var og=globalThis&&globalThis.__assign||function(){return og=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},og.apply(this,arguments)},R5=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function D5(t){if(t)for(var e=0,n=Object.entries(DB);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return ft.ISO_8601}function N5(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,o=s===void 0?D5(n):s,a=t.formatShortWeekday,l=t.formatWeekday,u=t.onClickWeekNumber,d=t.showWeekNumbers,h=R5(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return w.jsx(P5,{calendarType:o,formatShortWeekday:a,formatWeekday:l,locale:n,onMouseLeave:r})}function m(){return d?w.jsx(k5,{activeStartDate:e,calendarType:o,onClickWeekNumber:u,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function y(){return w.jsx(C5,og({calendarType:o},h))}var T="react-calendar__month-view";return w.jsx("div",{className:Fh(T,d?"".concat(T,"--weekNumbers"):""),children:w.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[m(),w.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),y()]})]})})}var io=globalThis&&globalThis.__assign||function(){return io=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},io.apply(this,arguments)},fc="react-calendar",zc=["century","decade","year","month"],O5=["decade","year","month","day"],Cv=new Date;Cv.setFullYear(1,0,1);Cv.setHours(0,0,0,0);var V5=new Date(864e13);function Ba(t){return t instanceof Date?t:new Date(t)}function CP(t,e){return zc.slice(zc.indexOf(t),zc.indexOf(e)+1)}function L5(t,e,n){var r=CP(e,n);return r.indexOf(t)!==-1}function Pv(t,e,n){return t&&L5(t,e,n)?t:n}function PP(t){var e=zc.indexOf(t);return O5[e]}function M5(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Ba(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function AP(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,o=M5(n,e);if(!o)return null;var a=PP(s),l=function(){switch(e){case 0:return ss(a,o);case 1:return TP(a,o);default:throw new Error("Invalid index value: ".concat(e))}}();return l5(l,r,i)}var Av=function(t){return AP(t,0)},kP=function(t){return AP(t,1)},j5=function(t){return[Av,kP].map(function(e){return e(t)})};function RP(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,o=t.view,a=Pv(o,i,n),l=Av({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return ss(a,l)}function F5(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,o=t.maxDetail,a=t.minDate,l=t.minDetail,u=t.value,d=t.view,h=Pv(d,l,o),f=e||n;return f?ss(h,f):RP({maxDate:s,maxDetail:o,minDate:a,minDetail:l,value:u||r,view:d||i})}function hp(t){return t&&(!Array.isArray(t)||t.length===1)}function pc(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var U5=k.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,a=e.defaultActiveStartDate,l=e.defaultValue,u=e.defaultView,d=e.formatDay,h=e.formatLongDate,f=e.formatMonth,m=e.formatMonthYear,y=e.formatShortWeekday,T=e.formatWeekday,P=e.formatYear,g=e.goToRangeStartOnSelect,_=g===void 0?!0:g,x=e.inputRef,D=e.locale,O=e.maxDate,V=O===void 0?V5:O,I=e.maxDetail,E=I===void 0?"month":I,S=e.minDate,C=S===void 0?Cv:S,A=e.minDetail,N=A===void 0?"century":A,R=e.navigationAriaLabel,Q=e.navigationAriaLive,Z=e.navigationLabel,L=e.next2AriaLabel,W=e.next2Label,F=e.nextAriaLabel,B=e.nextLabel,H=e.onActiveStartDateChange,K=e.onChange,ne=e.onClickDay,oe=e.onClickDecade,Ke=e.onClickMonth,et=e.onClickWeekNumber,$e=e.onClickYear,Ye=e.onDrillDown,nr=e.onDrillUp,jt=e.onViewChange,Kt=e.prev2AriaLabel,vt=e.prev2Label,rr=e.prevAriaLabel,ji=e.prevLabel,Re=e.returnValue,ir=Re===void 0?"start":Re,kt=e.selectRange,Fi=e.showDoubleView,hu=e.showFixedNumberOfWeeks,Xo=e.showNavigation,fu=Xo===void 0?!0:Xo,Jo=e.showNeighboringCentury,pu=e.showNeighboringDecade,mu=e.showNeighboringMonth,Zo=mu===void 0?!0:mu,ea=e.showWeekNumbers,ta=e.tileClassName,tt=e.tileContent,lt=e.tileDisabled,jr=e.value,na=e.view,ra=k.useState(a),qh=ra[0],On=ra[1],ia=k.useState(null),gu=ia[0],ks=ia[1],yu=k.useState(Array.isArray(l)?l.map(function(ae){return ae!==null?Ba(ae):null}):l!=null?Ba(l):null),sa=yu[0],oa=yu[1],aa=k.useState(u),vu=aa[0],Fr=aa[1],nt=r||qh||F5({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:u,maxDate:V,maxDetail:E,minDate:C,minDetail:N,value:jr,view:na}),rt=function(){var ae=function(){return kt&&hp(sa)?sa:jr!==void 0?jr:sa}();return ae?Array.isArray(ae)?ae.map(function(we){return we!==null?Ba(we):null}):ae!==null?Ba(ae):null:null}(),sn=PP(E),Te=Pv(na||vu,N,E),Rt=CP(N,E),wu=kt?gu:null,sr=Rt.indexOf(Te)<Rt.length-1,la=Rt.indexOf(Te)>0,it=k.useCallback(function(ae){var we=function(){switch(ir){case"start":return Av;case"end":return kP;case"range":return j5;default:throw new Error("Invalid returnValue.")}}();return we({maxDate:V,maxDetail:E,minDate:C,value:ae})},[V,E,C,ir]),Rs=k.useCallback(function(ae,we){On(ae);var ye={action:we,activeStartDate:ae,value:rt,view:Te};H&&!pc(nt,ae)&&H(ye)},[nt,H,rt,Te]),Vn=k.useCallback(function(ae,we){var ye=function(){switch(Te){case"century":return oe;case"decade":return $e;case"year":return Ke;case"month":return ne;default:throw new Error("Invalid view: ".concat(Te,"."))}}();ye&&ye(ae,we)},[ne,oe,Ke,$e,Te]),or=k.useCallback(function(ae,we){if(sr){Vn(ae,we);var ye=Rt[Rt.indexOf(Te)+1];if(!ye)throw new Error("Attempted to drill down from the lowest view.");On(ae),Fr(ye);var Ft={action:"drillDown",activeStartDate:ae,value:rt,view:ye};H&&!pc(nt,ae)&&H(Ft),jt&&Te!==ye&&jt(Ft),Ye&&Ye(Ft)}},[nt,sr,H,Vn,Ye,jt,rt,Te,Rt]),ua=k.useCallback(function(){if(la){var ae=Rt[Rt.indexOf(Te)-1];if(!ae)throw new Error("Attempted to drill up from the highest view.");var we=ss(ae,nt);On(we),Fr(ae);var ye={action:"drillUp",activeStartDate:we,value:rt,view:ae};H&&!pc(nt,we)&&H(ye),jt&&Te!==ae&&jt(ye),nr&&nr(ye)}},[nt,la,H,nr,jt,rt,Te,Rt]),ca=k.useCallback(function(ae,we){var ye=rt;Vn(ae,we);var Ft=kt&&!hp(ye),Ut;if(kt)if(Ft)Ut=ss(sn,ae);else{if(!ye)throw new Error("previousValue is required");if(Array.isArray(ye))throw new Error("previousValue must not be an array");Ut=r5(sn,ye,ae)}else Ut=it(ae);var Ui=!kt||Ft||_?RP({maxDate:V,maxDetail:E,minDate:C,minDetail:N,value:Ut,view:Te}):null;we.persist(),On(Ui),oa(Ut);var ha={action:"onChange",activeStartDate:Ui,value:Ut,view:Te};if(H&&!pc(nt,Ui)&&H(ha),K)if(kt){var Eu=hp(Ut);if(!Eu)K(Ut||null,we);else if(i){if(Array.isArray(Ut))throw new Error("value must not be an array");K([Ut||null,null],we)}}else K(Ut||null,we)},[nt,i,it,_,V,E,C,N,H,K,Vn,kt,rt,sn,Te]);function Ur(ae){ks(ae)}function da(){ks(null)}k.useImperativeHandle(n,function(){return{activeStartDate:nt,drillDown:or,drillUp:ua,onChange:ca,setActiveStartDate:Rs,value:rt,view:Te}},[nt,or,ua,ca,Rs,rt,Te]);function _u(ae){var we=ae?_P(Te,nt):ss(Te,nt),ye=sr?or:ca,Ft={activeStartDate:we,hover:wu,locale:D,maxDate:V,minDate:C,onClick:ye,onMouseOver:kt?Ur:void 0,tileClassName:ta,tileContent:tt,tileDisabled:lt,value:rt,valueType:sn};switch(Te){case"century":return w.jsx(m5,io({formatYear:P,showNeighboringCentury:Jo},Ft));case"decade":return w.jsx(w5,io({formatYear:P,showNeighboringDecade:pu},Ft));case"year":return w.jsx(S5,io({formatMonth:f,formatMonthYear:m},Ft));case"month":return w.jsx(N5,io({calendarType:s,formatDay:d,formatLongDate:h,formatShortWeekday:y,formatWeekday:T,onClickWeekNumber:et,onMouseLeave:kt?da:void 0,showFixedNumberOfWeeks:typeof hu<"u"?hu:Fi,showNeighboringMonth:Zo,showWeekNumbers:ea},Ft));default:throw new Error("Invalid view: ".concat(Te,"."))}}function Ds(){return fu?w.jsx(o5,{activeStartDate:nt,drillUp:ua,formatMonthYear:m,formatYear:P,locale:D,maxDate:V,minDate:C,navigationAriaLabel:R,navigationAriaLive:Q,navigationLabel:Z,next2AriaLabel:L,next2Label:W,nextAriaLabel:F,nextLabel:B,prev2AriaLabel:Kt,prev2Label:vt,prevAriaLabel:rr,prevLabel:ji,setActiveStartDate:Rs,showDoubleView:Fi,view:Te,views:Rt}):null}var Tu=Array.isArray(rt)?rt:[rt];return w.jsxs("div",{className:Fh(fc,kt&&Tu.length===1&&"".concat(fc,"--selectRange"),Fi&&"".concat(fc,"--doubleView"),o),ref:x,children:[Ds(),w.jsxs("div",{className:"".concat(fc,"__viewContainer"),onBlur:kt?da:void 0,onMouseLeave:kt?da:void 0,children:[_u(),Fi?_u(!0):null]})]})});const Gh=U5;const B5=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(""),[i,s]=k.useState(!1),[o,a]=k.useState(!1),[l,u]=k.useState(""),[d,h]=k.useState([]),[f,m]=k.useState([]),[y,T]=k.useState([]),P=_n(),{user:g}=k.useContext(Qo),[_,x]=k.useState((g==null?void 0:g.displayName)||""),[D,O]=k.useState((g==null?void 0:g.email)||""),[V,I]=k.useState(localStorage.getItem("phone")||"");ws(wn);const E=qo(wn);k.useEffect(()=>{(async()=>{const R=(await jh(mn(E,"availableSlots"))).docs.map(L=>({id:L.id,...L.data()}));h(R);const Q=new Set(R.map(L=>L.date.toDate().toDateString())),Z=Array.from(Q).map(L=>new Date(L));m(Z),console.log("전체 스케줄:",R),console.log("사용 가능한 날짜들:",Z),console.log("토요일 스케줄:",R.filter(L=>L.date.toDate().getDay()===6))})()},[]),k.useEffect(()=>{if(t){const A=d.filter(N=>N.date.toDate().toDateString()===t.toDateString()).map(N=>N.time).sort((N,R)=>{const Q=Z=>{const[L,W]=Z.split(":").map(Number);return L*60+W};return Q(N)-Q(R)});T(A),r("")}else T([]),r("")},[t,d]),k.useEffect(()=>{if(i){const A=setTimeout(()=>{P("/")},5e3);return()=>clearTimeout(A)}},[i,P]),k.useEffect(()=>{g&&(x(g.displayName||""),O(g.email||""))},[g]),k.useEffect(()=>{localStorage.setItem("phone",V)},[V]);const S=async A=>{if(A.preventDefault(),u(""),!_.trim()||!V.trim()){u("이름과 전화번호를 입력해주세요.");return}if(t&&n){a(!0);try{await Ri(mn(E,"reservations"),{userId:(g==null?void 0:g.uid)||"anonymous",userName:(g==null?void 0:g.displayName)||(g==null?void 0:g.email)||"익명",name:_,phone:V,date:ue.fromDate(t),time:n,createdAt:ue.now()}),s(!0)}catch{u("예약 저장 중 오류가 발생했습니다.")}finally{a(!1)}}},C=({date:A})=>!f.some(N=>N.toDateString()===A.toDateString());return w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[w.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"무료 시범 강의 신청"}),i?w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsx("div",{className:"text-center text-xl text-green-400 mb-4",children:"예약이 완료되었습니다!"}),w.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>P("/"),children:"확인"}),w.jsx("div",{className:"text-gray-400 text-sm mt-4",children:"5초 후 메인화면으로 이동합니다."})]}):w.jsxs("form",{onSubmit:S,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),w.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:_,onChange:A=>x(A.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),w.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:D,onChange:A=>O(A.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),w.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:V,onChange:A=>I(A.target.value),required:!0})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),w.jsx(Gh,{onChange:A=>e(A),value:t,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden",tileDisabled:C})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2 mt-4",children:"시간 선택"}),w.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[!t&&w.jsx("div",{className:"col-span-4 text-gray-400 text-center py-4",children:"날짜를 먼저 선택해주세요."}),t&&y.length===0&&w.jsx("div",{className:"col-span-4 text-gray-400 text-center py-4",children:"선택한 날짜에 가능한 시간이 없습니다."}),y.map(A=>w.jsx("button",{type:"button",className:`px-2 py-2 rounded-lg border text-white ${n===A?"bg-primary-600 border-primary-600":"bg-dark-700 border-gray-600"}`,onClick:()=>r(A),children:A},A))]})]}),l&&w.jsx("div",{className:"text-red-400 text-center mb-2",children:l}),w.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:!t||!n||o,children:o?"예약 중...":"예약하기"})]})]})})},z5=["joyjisunlee0123@gmail.com"],$5=()=>{const t=ws(),e=t.currentUser,n=e&&z5.includes(e.email||""),r=_n(),i=async()=>{try{await t.signOut(),r("/")}catch{console.error("로그아웃 중 오류 발생")}};return e?n?w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-4xl",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-center",children:"관리자 대시보드"}),w.jsxs("button",{onClick:i,className:"text-gray-400 hover:text-white underline text-sm flex items-center gap-1",children:[w.jsx(hO,{size:16}),"로그아웃"]})]}),w.jsxs("div",{className:"text-center mb-8",children:[w.jsxs("p",{className:"text-gray-300 mb-2",children:["안녕하세요, ",e.displayName||e.email,"님!"]}),w.jsx("p",{className:"text-gray-400 text-sm",children:"스케줄 관리를 선택해주세요."})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-dark-700 p-6 rounded-lg border border-gray-600 hover:border-primary-500 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx(dO,{className:"text-primary-400",size:24}),w.jsx("h3",{className:"text-xl font-semibold",children:"무료 시범강의 스케줄"})]}),w.jsx("p",{className:"text-gray-300 mb-4",children:"무료 시범강의의 시간대를 관리합니다. 매주 일요일 오전 9시에 자동으로 다음 주 스케줄이 생성됩니다."}),w.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:[w.jsx("strong",{children:"생성되는 시간:"}),w.jsx("br",{}),"월요일: 14:00, 15:00, 16:00",w.jsx("br",{}),"화요일: 14:00, 15:00, 16:00, 20:00, 21:00",w.jsx("br",{}),"수요일: 14:00, 15:00, 16:00, 22:00",w.jsx("br",{}),"목요일: 14:00, 15:00, 16:00, 20:00, 21:00, 22:00",w.jsx("br",{}),"금요일: 14:00, 15:00",w.jsx("br",{}),"토요일: 09:00, 14:00, 15:00, 16:00, 17:00"]}),w.jsx("button",{onClick:()=>r("/admin/schedule"),className:"btn-primary w-full",children:"무료 시범강의 스케줄 관리"})]}),w.jsxs("div",{className:"bg-dark-700 p-6 rounded-lg border border-gray-600 hover:border-primary-500 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx(mO,{className:"text-primary-400",size:24}),w.jsx("h3",{className:"text-xl font-semibold",children:"그룹 클래스 스케줄"})]}),w.jsx("p",{className:"text-gray-300 mb-4",children:"그룹 클래스의 개설일을 관리합니다. 매주 화요일 오전 8시에 자동으로 다음 주 스케줄이 생성됩니다."}),w.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:[w.jsx("strong",{children:"생성되는 시간:"}),w.jsx("br",{}),"월요일: 14:00, 15:00, 16:00",w.jsx("br",{}),"화요일: 14:00, 15:00, 16:00, 20:00, 21:00",w.jsx("br",{}),"수요일: 14:00, 15:00, 16:00, 22:00",w.jsx("br",{}),"목요일: 14:00, 15:00, 16:00, 20:00, 21:00, 22:00",w.jsx("br",{}),"금요일: 14:00, 15:00, 16:00, 20:00, 21:00, 22:00",w.jsx("br",{}),"토요일: 09:00, 10:00, 11:00, 12:00"]}),w.jsx("button",{onClick:()=>r("/admin/group-class-schedule"),className:"btn-primary w-full",children:"그룹 클래스 스케줄 관리"})]})]}),w.jsx("div",{className:"mt-8 text-center",children:w.jsx("button",{onClick:()=>r("/"),className:"text-gray-400 hover:text-white underline",children:"메인 페이지로 돌아가기"})})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):w.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})};const SE={1:["14:00","15:00","16:00"],2:["14:00","15:00","16:00","20:00","21:00"],3:["14:00","15:00","16:00","22:00"],4:["14:00","15:00","16:00","20:00","21:00","22:00"],5:["14:00","15:00"],6:["09:00","14:00","15:00","16:00","17:00"]},W5=["joyjisunlee0123@gmail.com"],H5=()=>{const t=ws(wn),e=qo(wn),n=t.currentUser,r=n&&W5.includes(n.email||""),i=_n(),[s,o]=k.useState(null),[a,l]=k.useState(""),[u,d]=k.useState([]),[h,f]=k.useState(!1),[m,y]=k.useState(""),[T,P]=k.useState([]),[g,_]=k.useState(!1),[x,D]=k.useState(!1),[O,V]=k.useState(null),I=async()=>{f(!0);const L=await jh(mn(e,"availableSlots"));d(L.docs.map(W=>({id:W.id,...W.data()}))),f(!1)},E=async()=>{D(!0);try{const L=new Date,W=new Date(L);for(;W.getDay()!==0;)W.setDate(W.getDate()+1);for(let F=1;F<=6;F++){const B=new Date(W);B.setDate(W.getDate()+F);const H=SE[F];if(H)for(const K of H)u.find(oe=>oe.date&&oe.date.toDate&&oe.date.toDate().toDateString()===B.toDateString()&&oe.time===K)||await Ri(mn(e,"availableSlots"),{date:ue.fromDate(B),time:K,createdAt:ue.now()})}await I(),_(!0),setTimeout(()=>_(!1),3e3)}catch{y("자동 업데이트 중 오류 발생")}finally{D(!1)}};k.useEffect(()=>{const L=()=>{const F=new Date;if(F.getDay()===0){const B=F.getHours(),H=F.getMinutes();B===9&&H<10&&(console.log("자동 스케줄 업데이트 실행:",F.toLocaleString()),E())}};L();const W=setInterval(L,10*60*1e3);return()=>clearInterval(W)},[u]),k.useEffect(()=>{I()},[]),k.useEffect(()=>{if(s){const L=s.getDay();P(SE[L]||[]),l("")}else P([]),l("")},[s]);const S=async()=>{if(y(""),!(!s||!a)){f(!0);try{await Ri(mn(e,"availableSlots"),{date:ue.fromDate(s),time:a,createdAt:ue.now()}),o(null),l(""),I(),_(!0)}catch{y("추가 중 오류 발생")}finally{f(!1)}}},C=async L=>{f(!0);try{await iP(gv(e,"availableSlots",L)),I()}catch{y("삭제 중 오류 발생")}finally{f(!1)}},A=async()=>{try{await t.signOut(),i("/")}catch{y("로그아웃 중 오류 발생")}},R=[...O?u.filter(L=>(L.date&&L.date.toDate?L.date.toDate().toISOString().split("T")[0]:"")===O.toISOString().split("T")[0]):u].sort((L,W)=>{const F=L.date&&L.date.toDate?L.date.toDate():new Date(0),B=W.date&&W.date.toDate?W.date.toDate():new Date(0);return F.getTime()!==B.getTime()?F.getTime()-B.getTime():L.time.localeCompare(W.time)}),Q=L=>{O&&O.toDateString()===L.toDateString()?V(null):V(L)},Z=({date:L,view:W})=>{if(W!=="month")return"";let F="";return L.getDay()===0?F+=" calendar-sunday":L.getDay()===6&&(F+=" calendar-saturday"),O&&L.toDateString()===O.toDateString()&&(F+=" bg-primary-600 text-white"),F};return n?r?w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-center",children:"관리자 시간대 관리"}),w.jsx("button",{onClick:A,className:"text-gray-400 hover:text-white underline text-sm",children:"로그아웃"})]}),g&&w.jsx("div",{className:"text-xl text-green-400 mb-6 text-center",children:"스케쥴이 성공적으로 등록되었습니다!"}),w.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[w.jsx("h3",{className:"text-lg font-semibold mb-3 text-center",children:"자동 스케줄 업데이트"}),w.jsxs("p",{className:"text-sm text-gray-400 mb-3 text-center",children:["매주 일요일 오전 9시에 자동으로 다음 주 스케줄이 생성됩니다.",w.jsx("br",{}),w.jsx("span",{className:"text-primary-300",children:"지금 바로 다음 주 스케줄을 생성하려면 아래 버튼을 클릭하세요."})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("button",{className:"btn-primary w-full",onClick:E,disabled:x,children:x?"업데이트 중...":"다음 주 스케줄 즉시 생성"}),w.jsx("div",{className:"text-xs text-gray-500 text-center",children:"생성될 시간: 월요일 14:00,15:00,16:00 | 화요일 14:00,15:00,16:00,20:00,21:00 | 수요일 14:00,15:00,16:00,22:00 | 목요일 14:00,15:00,16:00,20:00,21:00,22:00 | 금요일 14:00,15:00 | 토요일 09:00,14:00,15:00,16:00,17:00"})]})]}),w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),w.jsx(Gh,{onChange:L=>o(L),value:s,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden calendar-custom",onClickDay:Q,tileClassName:Z})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택 (해당 요일만 표시)"}),w.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[T.length===0&&w.jsx("div",{className:"col-span-3 text-gray-400",children:"날짜를 선택하세요."}),T.map(L=>w.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${a===L?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>l(L),children:L},L))]})]}),w.jsx("button",{className:"btn-primary w-full mb-4 mt-2",onClick:S,disabled:!s||!a||h,children:h?"추가 중...":"시간대 추가"}),m&&w.jsx("div",{className:"text-red-400 text-center mb-2",children:m}),w.jsxs("div",{className:"mt-8",children:[w.jsx("h3",{className:"text-xl font-bold mb-2",children:"등록된 시간대"}),O&&w.jsx("div",{className:"mb-4 p-3 bg-primary-900 border border-primary-700 rounded-lg",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("span",{className:"text-primary-200",children:[O.toLocaleDateString()," 필터링 중"]}),w.jsx("button",{onClick:()=>V(null),className:"text-primary-300 hover:text-primary-100 underline text-sm",children:"필터 해제"})]})}),h?w.jsx("div",{className:"text-gray-400",children:"불러오는 중..."}):w.jsx("ul",{className:"space-y-2",children:R.map(L=>w.jsxs("li",{className:"flex justify-between items-center bg-dark-700 rounded px-4 py-2",children:[w.jsxs("span",{children:[L.date&&L.date.toDate?L.date.toDate().toLocaleDateString():""," ",L.time]}),w.jsx("button",{className:"text-red-400 underline text-sm",onClick:()=>C(L.id),children:"삭제"})]},L.id))}),!h&&R.length===0&&w.jsx("div",{className:"text-gray-400 text-center py-4",children:O?"선택한 날짜에 등록된 시간대가 없습니다.":"등록된 시간대가 없습니다."})]}),w.jsx("div",{className:"flex justify-center mt-8",children:w.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>i("/admin"),children:"관리자 대시보드로 돌아가기"})})]})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):w.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})},G5=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(!1),[f,m]=k.useState(!1),[y,T]=k.useState(""),[P,g]=k.useState([]),[_,x]=k.useState([]),[D,O]=k.useState([]),V=_n(),{user:I}=k.useContext(Qo);ws(wn);const E=qo(wn);k.useEffect(()=>{(async()=>{const R=(await jh(mn(E,"groupClassSlots"))).docs.map(Z=>({id:Z.id,...Z.data()}));g(R);const Q=new Set(R.map(Z=>Z.date.toDate().toDateString()));x(Array.from(Q).map(Z=>new Date(Z)))})()},[]),k.useEffect(()=>{I&&(s(I.displayName||""),a(I.email||""))},[I]),k.useEffect(()=>{localStorage.setItem("phone",l)},[l]),k.useEffect(()=>{if(t){const A=t.toDateString(),N=P.filter(R=>R.date.toDate().toDateString()===A).map(R=>R.time).sort((R,Q)=>{const Z=L=>{const[W,F]=L.split(":").map(Number);return W*60+F};return Z(R)-Z(Q)});O(N),r("")}else O([]),r("")},[t,P]),k.useEffect(()=>{if(d){const A=setTimeout(()=>{V("/")},5e3);return()=>clearTimeout(A)}},[d,V]);const S=async A=>{if(A.preventDefault(),T(""),!i.trim()||!l.trim()){T("이름과 전화번호를 입력해주세요.");return}if(!t||!n){T("날짜와 시간을 선택해주세요.");return}m(!0);try{await Ri(mn(E,"groupClassReservations"),{userId:(I==null?void 0:I.uid)||"anonymous",userName:(I==null?void 0:I.displayName)||(I==null?void 0:I.email)||"익명",name:i,phone:l,date:ue.fromDate(t),time:n,createdAt:ue.now()}),h(!0)}catch{T("예약 저장 중 오류가 발생했습니다.")}finally{m(!1)}},C=({date:A})=>!_.some(N=>N.toDateString()===A.toDateString());return w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-4xl flex flex-col md:flex-row gap-8",children:[w.jsx("div",{className:"flex-1 flex items-center justify-center",children:w.jsx("img",{src:"https://images.unsplash.com/photo-1513258496099-48168024aec0?auto=format&fit=crop&w=400&q=80",alt:"Group Class",className:"rounded-2xl w-full max-w-xs object-cover shadow-lg"})}),w.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[w.jsx("h2",{className:"text-3xl font-bold mb-4",children:"그룹 클래스 예약"}),w.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:["Joy English의 그룹 클래스는 소수 정예로 진행되며, 실전 회화와 다양한 액티비티를 통해 영어 실력을 빠르게 향상시킬 수 있습니다.",w.jsx("br",{}),"아래 개설일 중 원하는 날짜와 시간을 선택하고 예약해 주세요!"]}),d?w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsx("div",{className:"text-center text-xl text-green-400 mb-4",children:"예약이 완료되었습니다!"}),w.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>V("/"),children:"확인"}),w.jsx("div",{className:"text-gray-400 text-sm mt-4",children:"5초 후 메인화면으로 이동합니다."})]}):w.jsxs("form",{className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),w.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:i,onChange:A=>s(A.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),w.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:o,onChange:A=>a(A.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),w.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:l,onChange:A=>u(A.target.value),required:!0})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"개설일 선택"}),w.jsx(Gh,{onChange:A=>e(A),value:t,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden",tileDisabled:C})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택"}),w.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[!t&&w.jsx("div",{className:"col-span-3 text-gray-400 text-center py-4",children:"날짜를 먼저 선택해주세요."}),t&&D.length===0&&w.jsx("div",{className:"col-span-3 text-gray-400 text-center py-4",children:"선택한 날짜에 가능한 시간이 없습니다."}),D.map(A=>w.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${n===A?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>r(A),children:A},A))]})]}),y&&w.jsx("div",{className:"text-red-400 text-center mb-2",children:y}),w.jsx("button",{type:"button",className:"btn-primary w-full mt-4",disabled:f,onClick:S,children:f?"예약 중...":"클래스 예약하기"})]})]})]})})},IE={1:["14:00","15:00","16:00"],2:["14:00","15:00","16:00","20:00","21:00"],3:["14:00","15:00","16:00","22:00"],4:["14:00","15:00","16:00","20:00","21:00","22:00"],5:["14:00","15:00","16:00","20:00","21:00","22:00"],6:["09:00","10:00","11:00","12:00"]},q5=["joyjisunlee0123@gmail.com"],K5=()=>{const t=ws(wn),e=qo(wn),n=t.currentUser,r=n&&q5.includes(n.email||""),i=_n(),[s,o]=k.useState(null),[a,l]=k.useState(""),[u,d]=k.useState([]),[h,f]=k.useState(!1),[m,y]=k.useState(""),[T,P]=k.useState([]),[g,_]=k.useState(!1),[x,D]=k.useState(!1),[O,V]=k.useState(null),I=async()=>{f(!0);const L=await jh(mn(e,"groupClassSlots"));d(L.docs.map(W=>({id:W.id,...W.data()}))),f(!1)},E=async()=>{D(!0);try{const L=new Date,W=new Date(L);for(;W.getDay()!==0;)W.setDate(W.getDate()+1);for(let F=1;F<=6;F++){const B=new Date(W);B.setDate(W.getDate()+F);const H=IE[F];if(H)for(const K of H)u.find(oe=>oe.date&&oe.date.toDate&&oe.date.toDate().toDateString()===B.toDateString()&&oe.time===K)||await Ri(mn(e,"groupClassSlots"),{date:ue.fromDate(B),time:K,createdAt:ue.now()})}await I(),_(!0),setTimeout(()=>_(!1),3e3)}catch{y("자동 업데이트 중 오류 발생")}finally{D(!1)}};k.useEffect(()=>{const L=()=>{const F=new Date;if(F.getDay()===2){const B=F.getHours(),H=F.getMinutes();B===8&&H<10&&(console.log("자동 그룹 클래스 스케줄 업데이트 실행:",F.toLocaleString()),E())}};L();const W=setInterval(L,10*60*1e3);return()=>clearInterval(W)},[u]),k.useEffect(()=>{I()},[]),k.useEffect(()=>{if(s){const L=s.getDay();P(IE[L]||[]),l("")}else P([]),l("")},[s]);const S=async()=>{if(y(""),!(!s||!a)){f(!0);try{if(u.some(W=>W.date&&W.date.toDate&&W.date.toDate().toDateString()===s.toDateString()&&W.time===a)){y("이미 등록된 날짜와 시간입니다."),f(!1);return}await Ri(mn(e,"groupClassSlots"),{date:ue.fromDate(s),time:a,createdAt:ue.now()}),o(null),l(""),I(),_(!0)}catch{y("추가 중 오류 발생")}finally{f(!1)}}},C=async L=>{f(!0);try{await iP(gv(e,"groupClassSlots",L)),I()}catch{y("삭제 중 오류 발생")}finally{f(!1)}},A=async()=>{try{await t.signOut(),i("/")}catch{y("로그아웃 중 오류 발생")}},R=[...O?u.filter(L=>(L.date&&L.date.toDate?L.date.toDate().toISOString().split("T")[0]:"")===O.toISOString().split("T")[0]):u].sort((L,W)=>{const F=L.date&&L.date.toDate?L.date.toDate():new Date(0),B=W.date&&W.date.toDate?W.date.toDate():new Date(0);if(F.getTime()!==B.getTime())return F.getTime()-B.getTime();const H=L.time,K=W.time,ne=oe=>{const[Ke,et]=oe.split(":").map(Number);return Ke*60+et};return ne(H)-ne(K)}),Q=L=>{O&&O.toDateString()===L.toDateString()?V(null):V(L)},Z=({date:L,view:W})=>{if(W!=="month")return"";let F="";return L.getDay()===0?F+=" calendar-sunday":L.getDay()===6&&(F+=" calendar-saturday"),O&&L.toDateString()===O.toDateString()&&(F+=" bg-primary-600 text-white"),F};return n?r?w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-lg",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-center",children:"그룹 클래스 개설일 관리"}),w.jsx("button",{onClick:A,className:"text-gray-400 hover:text-white underline text-sm",children:"로그아웃"})]}),g&&w.jsx("div",{className:"text-xl text-green-400 mb-6 text-center",children:"스케쥴이 성공적으로 등록되었습니다!"}),w.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[w.jsx("h3",{className:"text-lg font-semibold mb-3 text-center",children:"자동 스케줄 업데이트"}),w.jsxs("p",{className:"text-sm text-gray-400 mb-3 text-center",children:["매주 화요일 오전 8시에 자동으로 다음 주 스케줄이 생성됩니다.",w.jsx("br",{}),w.jsx("span",{className:"text-primary-300",children:"지금 바로 다음 주 스케줄을 생성하려면 아래 버튼을 클릭하세요."})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("button",{className:"btn-primary w-full",onClick:E,disabled:x,children:x?"업데이트 중...":"다음 주 스케줄 즉시 생성"}),w.jsx("div",{className:"text-xs text-gray-500 text-center",children:"생성될 시간: 월요일 14:00,15:00,16:00 | 화요일 14:00,15:00,16:00,20:00,21:00 | 수요일 14:00,15:00,16:00,22:00 | 목요일 14:00,15:00,16:00,20:00,21:00,22:00 | 금요일 14:00,15:00,16:00,20:00,21:00,22:00 | 토요일 09:00,10:00,11:00,12:00"})]})]}),w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"날짜 선택"}),w.jsx(Gh,{onChange:L=>o(L),value:s,minDate:new Date,calendarType:"gregory",className:"rounded-lg overflow-hidden calendar-custom",tileClassName:Z,onClickDay:L=>Q(L)})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"시간 선택 (해당 요일만 표시)"}),w.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[T.length===0&&w.jsx("div",{className:"col-span-3 text-gray-400",children:"날짜를 선택하세요."}),T.map(L=>w.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${a===L?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>l(L),children:L},L))]})]}),w.jsx("button",{className:"btn-primary w-full mb-4 mt-2",onClick:S,disabled:!s||!a||h,children:h?"추가 중...":"개설일 추가"}),m&&w.jsx("div",{className:"text-red-400 text-center mb-2",children:m}),w.jsxs("div",{className:"mt-8",children:[w.jsx("h3",{className:"text-xl font-bold mb-2",children:"등록된 개설일"}),O&&w.jsx("div",{className:"mb-4 p-3 bg-primary-900 border border-primary-700 rounded-lg",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("span",{className:"text-primary-200",children:[O.toLocaleDateString()," 필터링 중"]}),w.jsx("button",{onClick:()=>V(null),className:"text-primary-300 hover:text-primary-100 underline text-sm",children:"필터 해제"})]})}),h?w.jsx("div",{className:"text-gray-400",children:"불러오는 중..."}):w.jsx("ul",{className:"space-y-2",children:R.map(L=>w.jsxs("li",{className:"flex justify-between items-center bg-dark-700 rounded px-4 py-2",children:[w.jsxs("span",{children:[L.date&&L.date.toDate?L.date.toDate().toLocaleDateString():""," ",L.time]}),w.jsx("button",{className:"text-red-400 underline text-sm",onClick:()=>C(L.id),children:"삭제"})]},L.id))}),!h&&R.length===0&&w.jsx("div",{className:"text-gray-400 text-center py-4",children:O?"선택한 날짜에 등록된 개설일이 없습니다.":"등록된 개설일이 없습니다."})]}),w.jsx("div",{className:"flex justify-center mt-8",children:w.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>i("/admin"),children:"관리자 대시보드로 돌아가기"})})]})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"관리자만 접근 가능합니다."}):w.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"로그인이 필요합니다."})},Y5=()=>{const[t,e]=k.useState(""),n=_n();k.useContext(Qo);const r=()=>{const s=[],o=new Date;let a=new Date(o);for(;a.getDay()!==6;)a.setDate(a.getDate()+1);for(let l=0;l<4;l++){const u=new Date(a);u.setDate(a.getDate()+l*7),s.push(u)}return s},i=()=>{if(!t){alert("날짜를 선택해주세요.");return}n("/payment",{state:{paymentData:{type:"toto-room",date:t,amount:5e3}}})};return w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-dark-900 py-12",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-6xl flex flex-col md:flex-row gap-8",children:[w.jsx("div",{className:"flex-1 flex items-center justify-center",children:w.jsx("img",{src:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&w=500&q=80",alt:"Online Discussion",className:"rounded-2xl w-full max-w-md object-cover shadow-lg"})}),w.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[w.jsx("h2",{className:"text-3xl font-bold mb-4",children:"토토방 (토요토론방)"}),w.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:["매주 토요일 진행되는 온라인 토론방입니다!",w.jsx("br",{}),"다양한 주제로 영어로 자유롭게 토론하며 실력을 키워보세요.",w.jsx("br",{}),"소수 정예로 진행되어 개인별 피드백도 받을 수 있습니다."]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[w.jsx("h3",{className:"text-xl font-semibold mb-2",children:"참가 혜택"}),w.jsxs("ul",{className:"text-gray-300 space-y-1",children:[w.jsx("li",{children:"• 실시간 영어 토론 연습"}),w.jsx("li",{children:"• 다양한 주제로 흥미로운 대화"}),w.jsx("li",{children:"• 소수 정예 (최대 6명)"}),w.jsx("li",{children:"• 30분 topic 분석 강의"}),w.jsx("li",{children:"• 30분 개별 토론"})]})]}),w.jsxs("div",{className:"bg-dark-700 p-4 rounded-lg",children:[w.jsx("h3",{className:"text-xl font-semibold mb-2",children:"참가비"}),w.jsx("p",{className:"text-2xl font-bold text-primary-400",children:"5,000원"}),w.jsx("p",{className:"text-sm text-gray-400",children:"1회 참가 (60분)"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"참가 날짜 선택"}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:r().map((s,o)=>w.jsx("button",{type:"button",className:`px-4 py-3 rounded-lg font-bold border text-lg shadow transition-all duration-150 ${t===s.toISOString().split("T")[0]?"bg-primary-500 border-primary-500 text-white scale-105":"bg-dark-700 border-gray-600 text-primary-200 hover:bg-primary-600 hover:text-white"}`,onClick:()=>e(s.toISOString().split("T")[0]),children:s.toLocaleDateString("ko-KR",{month:"short",day:"numeric",weekday:"short"})},o))})]}),w.jsx("button",{className:"btn-primary w-full py-4 text-lg font-bold",onClick:i,disabled:!t,children:"신청하기"})]})]})]})})},Q5=()=>{var O;const[t,e]=k.useState("");k.useState(""),k.useState(""),k.useState("");const[n,r]=k.useState(!1),[i,s]=k.useState(!1),[o,a]=k.useState(""),l=_n(),u=Lr(),{user:d}=k.useContext(Qo),h=qo(wn),f=((O=u.state)==null?void 0:O.paymentData)||{type:"toto-room",date:"",amount:15e3},[m,y]=k.useState((d==null?void 0:d.displayName)||""),[T,P]=k.useState((d==null?void 0:d.email)||""),[g,_]=k.useState(localStorage.getItem("phone")||"");k.useEffect(()=>{if(!d){l("/login",{state:{from:"/payment",paymentData:f}});return}},[d,l]),k.useEffect(()=>{d&&(y(d.displayName||""),P(d.email||""))},[d]),k.useEffect(()=>{localStorage.setItem("phone",g)},[g]),k.useEffect(()=>{if(i){const V=setTimeout(()=>{l("/")},3e3);return()=>clearTimeout(V)}},[i,l]);const x=async V=>{if(V.preventDefault(),a(""),!m.trim()||!T.trim()||!g.trim()){a("이름, 이메일, 전화번호를 모두 입력해주세요.");return}r(!0);try{await new Promise(I=>setTimeout(I,2e3)),await Ri(mn(h,"payments"),{userId:d==null?void 0:d.uid,userName:(d==null?void 0:d.displayName)||(d==null?void 0:d.email)||"익명",type:f.type,date:f.date,amount:f.amount,cardLast4:t.replace(/\s/g,"").slice(-4),status:"completed",createdAt:ue.now()}),await D(),s(!0)}catch{a("결제 처리 중 오류가 발생했습니다.")}finally{r(!1)}},D=async()=>{console.log("이메일 알림 전송:",{to:d==null?void 0:d.email,subject:"토토방 결제 완료",body:`${f.date} 토토방 참가 신청이 완료되었습니다.`})};return i?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-900",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg text-center",children:[w.jsx("div",{className:"text-6xl mb-4",children:"✅"}),w.jsx("h2",{className:"text-3xl font-bold mb-4",children:"결제가 완료되었습니다!"}),w.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:[f.date," 토토방 참가 신청이 완료되었습니다.",w.jsx("br",{}),"입금 확인 후 24시간 이내 안내 이메일이 발송됩니다."]}),w.jsx("button",{className:"btn-primary px-8 py-3 text-lg",onClick:()=>l("/"),children:"확인"})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-900 py-12",children:w.jsxs("div",{className:"bg-dark-800 p-8 rounded-xl shadow-lg w-full max-w-md",children:[w.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"결제"}),w.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"결제 정보"}),w.jsxs("p",{className:"text-gray-300",children:["토토방 참가비: ",f.amount.toLocaleString(),"원"]}),w.jsxs("p",{className:"text-gray-300",children:["참가 날짜: ",f.date]})]}),w.jsxs("div",{className:"mb-6 p-4 bg-blue-900 rounded-lg",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-300",children:"송금 안내"}),w.jsx("p",{className:"text-gray-300 mb-2",children:"아래 계좌로 송금해주세요:"}),w.jsxs("div",{className:"bg-dark-800 p-3 rounded",children:[w.jsx("p",{className:"text-white font-mono",children:" 국민 04850100056471"}),w.jsx("p",{className:"text-white font-mono",children:"예금주: (주)비잉"})]})]}),w.jsxs("form",{onSubmit:x,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"이름"}),w.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이름을 입력하세요",value:m,onChange:V=>y(V.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"이메일"}),w.jsx("input",{type:"email",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"이메일을 입력하세요",value:T,onChange:V=>P(V.target.value),required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-gray-300 mb-2",children:"전화번호"}),w.jsx("input",{type:"tel",className:"w-full px-4 py-2 bg-dark-700 border border-gray-600 rounded-lg text-white",placeholder:"전화번호를 입력하세요",value:g,onChange:V=>_(V.target.value),required:!0})]}),o&&w.jsx("div",{className:"text-red-400 text-center",children:o}),w.jsx("button",{type:"submit",className:"btn-primary w-full py-3 text-lg",disabled:n,children:n?"결제 처리 중...":"송금 완료"})]})]})})},X5=()=>{const t=_n();return k.useEffect(()=>{t("/")},[t]),null},Qo=k.createContext({user:null});function J5(){const[t,e]=k.useState(!1),[n,r]=k.useState(null);return k.useEffect(()=>{const i=ws(wn),s=KN(i,o=>{r(o),console.log("Firebase 로그인 상태:",o)});return()=>s()},[]),w.jsx(Qo.Provider,{value:{user:n},children:w.jsx(WV,{children:w.jsxs("div",{className:"min-h-screen bg-dark-900",children:[w.jsx(eL,{isMenuOpen:t,setIsMenuOpen:e}),w.jsx("main",{children:w.jsxs(wV,{children:[w.jsx(xn,{path:"/",element:w.jsxs(w.Fragment,{children:[w.jsx(hF,{}),w.jsx(H3,{}),w.jsx(oB,{})]})}),w.jsx(xn,{path:"/trial",element:w.jsx(B5,{})}),w.jsx(xn,{path:"/admin",element:w.jsx($5,{})}),w.jsx(xn,{path:"/admin/schedule",element:w.jsx(H5,{})}),w.jsx(xn,{path:"/login",element:w.jsx(uB,{})}),w.jsx(xn,{path:"/group-class",element:w.jsx(G5,{})}),w.jsx(xn,{path:"/admin/group-class-schedule",element:w.jsx(K5,{})}),w.jsx(xn,{path:"/toto-room",element:w.jsx(Y5,{})}),w.jsx(xn,{path:"/payment",element:w.jsx(Q5,{})}),w.jsx(xn,{path:"/curriculum",element:w.jsx(X5,{})})]})}),w.jsx(aB,{})]})})})}fp.createRoot(document.getElementById("root")).render(w.jsx(Pe.StrictMode,{children:w.jsx(J5,{})}));
